function Zp(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function Kp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zd={exports:{}},Wn={},Kd={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),ex=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ax=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),lx=Symbol.for("react.lazy"),rc=Symbol.iterator;function ox(t){return t===null||typeof t!="object"?null:(t=rc&&t[rc]||t["@@iterator"],typeof t=="function"?t:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xd=Object.assign,em={};function fa(t,s,a){this.props=t,this.context=s,this.refs=em,this.updater=a||Jd}fa.prototype.isReactComponent={};fa.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tm(){}tm.prototype=fa.prototype;function Jl(t,s,a){this.props=t,this.context=s,this.refs=em,this.updater=a||Jd}var Xl=Jl.prototype=new tm;Xl.constructor=Jl;Xd(Xl,fa.prototype);Xl.isPureReactComponent=!0;var nc=Array.isArray,sm=Object.prototype.hasOwnProperty,eo={current:null},am={key:!0,ref:!0,__self:!0,__source:!0};function rm(t,s,a){var r,n={},i=null,o=null;if(s!=null)for(r in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)sm.call(s,r)&&!am.hasOwnProperty(r)&&(n[r]=s[r]);var m=arguments.length-2;if(m===1)n.children=a;else if(1<m){for(var u=Array(m),l=0;l<m;l++)u[l]=arguments[l+2];n.children=u}if(t&&t.defaultProps)for(r in m=t.defaultProps,m)n[r]===void 0&&(n[r]=m[r]);return{$$typeof:yr,type:t,key:i,ref:o,props:n,_owner:eo.current}}function cx(t,s){return{$$typeof:yr,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function to(t){return typeof t=="object"&&t!==null&&t.$$typeof===yr}function dx(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return s[a]})}var ic=/\/+/g;function pi(t,s){return typeof t=="object"&&t!==null&&t.key!=null?dx(""+t.key):s.toString(36)}function Zr(t,s,a,r,n){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yr:case Jp:o=!0}}if(o)return o=t,n=n(o),t=r===""?"."+pi(o,0):r,nc(n)?(a="",t!=null&&(a=t.replace(ic,"$&/")+"/"),Zr(n,s,a,"",function(l){return l})):n!=null&&(to(n)&&(n=cx(n,a+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(ic,"$&/")+"/")+t)),s.push(n)),1;if(o=0,r=r===""?".":r+":",nc(t))for(var m=0;m<t.length;m++){i=t[m];var u=r+pi(i,m);o+=Zr(i,s,a,u,n)}else if(u=ox(t),typeof u=="function")for(t=u.call(t),m=0;!(i=t.next()).done;)i=i.value,u=r+pi(i,m++),o+=Zr(i,s,a,u,n);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function _r(t,s,a){if(t==null)return t;var r=[],n=0;return Zr(t,r,"","",function(i){return s.call(a,i,n++)}),r}function mx(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Kr={transition:null},ux={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:eo};function nm(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:_r,forEach:function(t,s,a){_r(t,function(){s.apply(this,arguments)},a)},count:function(t){var s=0;return _r(t,function(){s++}),s},toArray:function(t){return _r(t,function(s){return s})||[]},only:function(t){if(!to(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=fa;W.Fragment=Xp;W.Profiler=tx;W.PureComponent=Jl;W.StrictMode=ex;W.Suspense=nx;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux;W.act=nm;W.cloneElement=function(t,s,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xd({},t.props),n=t.key,i=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=eo.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var m=t.type.defaultProps;for(u in s)sm.call(s,u)&&!am.hasOwnProperty(u)&&(r[u]=s[u]===void 0&&m!==void 0?m[u]:s[u])}var u=arguments.length-2;if(u===1)r.children=a;else if(1<u){m=Array(u);for(var l=0;l<u;l++)m[l]=arguments[l+2];r.children=m}return{$$typeof:yr,type:t.type,key:n,ref:i,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sx,_context:t},t.Consumer=t};W.createElement=rm;W.createFactory=function(t){var s=rm.bind(null,t);return s.type=t,s};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:rx,render:t}};W.isValidElement=to;W.lazy=function(t){return{$$typeof:lx,_payload:{_status:-1,_result:t},_init:mx}};W.memo=function(t,s){return{$$typeof:ix,type:t,compare:s===void 0?null:s}};W.startTransition=function(t){var s=Kr.transition;Kr.transition={};try{t()}finally{Kr.transition=s}};W.unstable_act=nm;W.useCallback=function(t,s){return Ee.current.useCallback(t,s)};W.useContext=function(t){return Ee.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};W.useEffect=function(t,s){return Ee.current.useEffect(t,s)};W.useId=function(){return Ee.current.useId()};W.useImperativeHandle=function(t,s,a){return Ee.current.useImperativeHandle(t,s,a)};W.useInsertionEffect=function(t,s){return Ee.current.useInsertionEffect(t,s)};W.useLayoutEffect=function(t,s){return Ee.current.useLayoutEffect(t,s)};W.useMemo=function(t,s){return Ee.current.useMemo(t,s)};W.useReducer=function(t,s,a){return Ee.current.useReducer(t,s,a)};W.useRef=function(t){return Ee.current.useRef(t)};W.useState=function(t){return Ee.current.useState(t)};W.useSyncExternalStore=function(t,s,a){return Ee.current.useSyncExternalStore(t,s,a)};W.useTransition=function(){return Ee.current.useTransition()};W.version="18.3.1";Kd.exports=W;var j=Kd.exports;const ea=Kp(j),px=Zp({__proto__:null,default:ea},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=j,hx=Symbol.for("react.element"),gx=Symbol.for("react.fragment"),fx=Object.prototype.hasOwnProperty,yx=xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vx={key:!0,ref:!0,__self:!0,__source:!0};function im(t,s,a){var r,n={},i=null,o=null;a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)fx.call(s,r)&&!vx.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:hx,type:t,key:i,ref:o,props:n,_owner:yx.current}}Wn.Fragment=gx;Wn.jsx=im;Wn.jsxs=im;Zd.exports=Wn;var e=Zd.exports,lm={exports:{}},Ke={},om={exports:{}},cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(I,L){var B=I.length;I.push(L);e:for(;0<B;){var $=B-1>>>1,z=I[$];if(0<n(z,L))I[$]=L,I[B]=z,B=$;else break e}}function a(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],B=I.pop();if(B!==L){I[0]=B;e:for(var $=0,z=I.length,H=z>>>1;$<H;){var ie=2*($+1)-1,Oe=I[ie],yt=ie+1,Tr=I[yt];if(0>n(Oe,B))yt<z&&0>n(Tr,Oe)?(I[$]=Tr,I[yt]=B,$=yt):(I[$]=Oe,I[ie]=B,$=ie);else if(yt<z&&0>n(Tr,B))I[$]=Tr,I[yt]=B,$=yt;else break e}}return L}function n(I,L){var B=I.sortIndex-L.sortIndex;return B!==0?B:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,m=o.now();t.unstable_now=function(){return o.now()-m}}var u=[],l=[],c=1,d=null,p=3,h=!1,g=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var L=a(l);L!==null;){if(L.callback===null)r(l);else if(L.startTime<=I)r(l),L.sortIndex=L.expirationTime,s(u,L);else break;L=a(l)}}function C(I){if(y=!1,v(I),!g)if(a(u)!==null)g=!0,O(T);else{var L=a(l);L!==null&&Re(C,L.startTime-I)}}function T(I,L){g=!1,y&&(y=!1,f(S),S=-1),h=!0;var B=p;try{for(v(L),d=a(u);d!==null&&(!(d.expirationTime>L)||I&&!_());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var z=$(d.expirationTime<=L);L=t.unstable_now(),typeof z=="function"?d.callback=z:d===a(u)&&r(u),v(L)}else r(u);d=a(u)}if(d!==null)var H=!0;else{var ie=a(l);ie!==null&&Re(C,ie.startTime-L),H=!1}return H}finally{d=null,p=B,h=!1}}var P=!1,w=null,S=-1,b=5,k=-1;function _(){return!(t.unstable_now()-k<b)}function R(){if(w!==null){var I=t.unstable_now();k=I;var L=!0;try{L=w(!0,I)}finally{L?F():(P=!1,w=null)}}else P=!1}var F;if(typeof x=="function")F=function(){x(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ne=V.port2;V.port1.onmessage=R,F=function(){ne.postMessage(null)}}else F=function(){N(R,0)};function O(I){w=I,P||(P=!0,F())}function Re(I,L){S=N(function(){I(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,O(T))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(u)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var B=p;p=L;try{return I()}finally{p=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=p;p=I;try{return L()}finally{p=B}},t.unstable_scheduleCallback=function(I,L,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,I={id:c++,callback:L,priorityLevel:I,startTime:B,expirationTime:z,sortIndex:-1},B>$?(I.sortIndex=B,s(l,I),a(u)===null&&I===a(l)&&(y?(f(S),S=-1):y=!0,Re(C,B-$))):(I.sortIndex=z,s(u,I),g||h||(g=!0,O(T))),I},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(I){var L=p;return function(){var B=p;p=L;try{return I.apply(this,arguments)}finally{p=B}}}})(cm);om.exports=cm;var bx=om.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=j,Qe=bx;function D(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dm=new Set,Ja={};function Is(t,s){ca(t,s),ca(t+"Capture",s)}function ca(t,s){for(Ja[t]=s,t=0;t<s.length;t++)dm.add(s[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=Object.prototype.hasOwnProperty,Nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc={},oc={};function wx(t){return Yi.call(oc,t)?!0:Yi.call(lc,t)?!1:Nx.test(t)?oc[t]=!0:(lc[t]=!0,!1)}function Sx(t,s,a,r){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cx(t,s,a,r){if(s===null||typeof s>"u"||Sx(t,s,a,r))return!0;if(r)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $e(t,s,a,r,n,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Se[s]=new $e(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var so=/[\-:]([a-z])/g;function ao(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(so,ao);Se[s]=new $e(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(so,ao);Se[s]=new $e(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(so,ao);Se[s]=new $e(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function ro(t,s,a,r){var n=Se.hasOwnProperty(s)?Se[s]:null;(n!==null?n.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Cx(s,a,n,r)&&(a=null),r||n===null?wx(s)&&(a===null?t.removeAttribute(s):t.setAttribute(s,""+a)):n.mustUseProperty?t[n.propertyName]=a===null?n.type===3?!1:"":a:(s=n.attributeName,r=n.attributeNamespace,a===null?t.removeAttribute(s):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,r?t.setAttributeNS(r,s,a):t.setAttribute(s,a))))}var Gt=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rr=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),no=Symbol.for("react.strict_mode"),Qi=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),um=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),Zi=Symbol.for("react.suspense"),Ki=Symbol.for("react.suspense_list"),lo=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),pm=Symbol.for("react.offscreen"),cc=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=cc&&t[cc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,xi;function Oa(t){if(xi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xi=s&&s[1]||""}return`
`+xi+t}var hi=!1;function gi(t,s){if(!t||hi)return"";hi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(l){var r=l}Reflect.construct(t,[],s)}else{try{s.call()}catch(l){r=l}t.call(s.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var n=l.stack.split(`
`),i=r.stack.split(`
`),o=n.length-1,m=i.length-1;1<=o&&0<=m&&n[o]!==i[m];)m--;for(;1<=o&&0<=m;o--,m--)if(n[o]!==i[m]){if(o!==1||m!==1)do if(o--,m--,0>m||n[o]!==i[m]){var u=`
`+n[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=m);break}}}finally{hi=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Oa(t):""}function kx(t){switch(t.tag){case 5:return Oa(t.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return t=gi(t.type,!1),t;case 11:return t=gi(t.type.render,!1),t;case 1:return t=gi(t.type,!0),t;default:return""}}function Ji(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Gs:return"Portal";case Qi:return"Profiler";case no:return"StrictMode";case Zi:return"Suspense";case Ki:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case um:return(t.displayName||"Context")+".Consumer";case mm:return(t._context.displayName||"Context")+".Provider";case io:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lo:return s=t.displayName||null,s!==null?s:Ji(t.type)||"Memo";case qt:s=t._payload,t=t._init;try{return Ji(t(s))}catch{}}return null}function Px(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ji(s);case 8:return s===no?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tx(t){var s=xm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Mr(t){t._valueTracker||(t._valueTracker=Tx(t))}function hm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=xm(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function xn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xi(t,s){var a=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function dc(t,s){var a=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;a=os(s.value!=null?s.value:a),t._wrapperState={initialChecked:r,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function gm(t,s){s=s.checked,s!=null&&ro(t,"checked",s,!1)}function el(t,s){gm(t,s);var a=os(s.value),r=s.type;if(a!=null)r==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?tl(t,s.type,a):s.hasOwnProperty("defaultValue")&&tl(t,s.type,os(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function mc(t,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,a||s===t.value||(t.value=s),t.defaultValue=s}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function tl(t,s,a){(s!=="number"||xn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var La=Array.isArray;function ta(t,s,a,r){if(t=t.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=s.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&r&&(t[a].defaultSelected=!0)}else{for(a=""+os(a),s=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function sl(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(D(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uc(t,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(D(92));if(La(a)){if(1<a.length)throw Error(D(93));a=a[0]}s=a}s==null&&(s=""),a=s}t._wrapperState={initialValue:os(a)}}function fm(t,s){var a=os(s.value),r=os(s.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),s.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),r!=null&&(t.defaultValue=""+r)}function pc(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function ym(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?ym(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dr,vm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,r,n){MSApp.execUnsafeLocalFunction(function(){return t(s,a,r,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Xa(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_x=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){_x.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ba[s]=Ba[t]})});function bm(t,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+s).trim():s+"px"}function jm(t,s){t=t.style;for(var a in s)if(s.hasOwnProperty(a)){var r=a.indexOf("--")===0,n=bm(a,s[a],r);a==="float"&&(a="cssFloat"),r?t.setProperty(a,n):t[a]=n}}var Rx=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(t,s){if(s){if(Rx[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(D(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(D(61))}if(s.style!=null&&typeof s.style!="object")throw Error(D(62))}}function nl(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function oo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ll=null,sa=null,aa=null;function xc(t){if(t=jr(t)){if(typeof ll!="function")throw Error(D(280));var s=t.stateNode;s&&(s=Qn(s),ll(t.stateNode,t.type,s))}}function Nm(t){sa?aa?aa.push(t):aa=[t]:sa=t}function wm(){if(sa){var t=sa,s=aa;if(aa=sa=null,xc(t),s)for(t=0;t<s.length;t++)xc(s[t])}}function Sm(t,s){return t(s)}function Cm(){}var fi=!1;function km(t,s,a){if(fi)return t(s,a);fi=!0;try{return Sm(t,s,a)}finally{fi=!1,(sa!==null||aa!==null)&&(Cm(),wm())}}function er(t,s){var a=t.stateNode;if(a===null)return null;var r=Qn(a);if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(D(231,s,typeof a));return a}var ol=!1;if($t)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){ol=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{ol=!1}function Mx(t,s,a,r,n,i,o,m,u){var l=Array.prototype.slice.call(arguments,3);try{s.apply(a,l)}catch(c){this.onError(c)}}var Ga=!1,hn=null,gn=!1,cl=null,Dx={onError:function(t){Ga=!0,hn=t}};function Ax(t,s,a,r,n,i,o,m,u){Ga=!1,hn=null,Mx.apply(Dx,arguments)}function Ix(t,s,a,r,n,i,o,m,u){if(Ax.apply(this,arguments),Ga){if(Ga){var l=hn;Ga=!1,hn=null}else throw Error(D(198));gn||(gn=!0,cl=l)}}function Es(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function Pm(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function hc(t){if(Es(t)!==t)throw Error(D(188))}function Ex(t){var s=t.alternate;if(!s){if(s=Es(t),s===null)throw Error(D(188));return s!==t?null:t}for(var a=t,r=s;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(r=n.return,r!==null){a=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return hc(n),t;if(i===r)return hc(n),s;i=i.sibling}throw Error(D(188))}if(a.return!==r.return)a=n,r=i;else{for(var o=!1,m=n.child;m;){if(m===a){o=!0,a=n,r=i;break}if(m===r){o=!0,r=n,a=i;break}m=m.sibling}if(!o){for(m=i.child;m;){if(m===a){o=!0,a=i,r=n;break}if(m===r){o=!0,r=i,a=n;break}m=m.sibling}if(!o)throw Error(D(189))}}if(a.alternate!==r)throw Error(D(190))}if(a.tag!==3)throw Error(D(188));return a.stateNode.current===a?t:s}function Tm(t){return t=Ex(t),t!==null?_m(t):null}function _m(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=_m(t);if(s!==null)return s;t=t.sibling}return null}var Rm=Qe.unstable_scheduleCallback,gc=Qe.unstable_cancelCallback,$x=Qe.unstable_shouldYield,Ox=Qe.unstable_requestPaint,ce=Qe.unstable_now,Lx=Qe.unstable_getCurrentPriorityLevel,co=Qe.unstable_ImmediatePriority,Mm=Qe.unstable_UserBlockingPriority,fn=Qe.unstable_NormalPriority,Fx=Qe.unstable_LowPriority,Dm=Qe.unstable_IdlePriority,qn=null,wt=null;function zx(t){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(qn,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Vx,Bx=Math.log,Gx=Math.LN2;function Vx(t){return t>>>=0,t===0?32:31-(Bx(t)/Gx|0)|0}var Ar=64,Ir=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yn(t,s){var a=t.pendingLanes;if(a===0)return 0;var r=0,n=t.suspendedLanes,i=t.pingedLanes,o=a&268435455;if(o!==0){var m=o&~n;m!==0?r=Fa(m):(i&=o,i!==0&&(r=Fa(i)))}else o=a&~n,o!==0?r=Fa(o):i!==0&&(r=Fa(i));if(r===0)return 0;if(s!==0&&s!==r&&!(s&n)&&(n=r&-r,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(r&4&&(r|=a&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)a=31-xt(s),n=1<<a,r|=t[a],s&=~n;return r}function Wx(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qx(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,n=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xt(i),m=1<<o,u=n[o];u===-1?(!(m&a)||m&r)&&(n[o]=Wx(m,s)):u<=s&&(t.expiredLanes|=m),i&=~m}}function dl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Am(){var t=Ar;return Ar<<=1,!(Ar&4194240)&&(Ar=64),t}function yi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function vr(t,s,a){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-xt(s),t[s]=a}function Ux(t,s){var a=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<a;){var n=31-xt(a),i=1<<n;s[n]=0,r[n]=-1,t[n]=-1,a&=~i}}function mo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-xt(a),n=1<<r;n&s|t[r]&s&&(t[r]|=s),a&=~n}}var Q=0;function Im(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Em,uo,$m,Om,Lm,ml=!1,Er=[],es=null,ts=null,ss=null,tr=new Map,sr=new Map,Qt=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(t,s){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":tr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(s.pointerId)}}function Sa(t,s,a,r,n,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:i,targetContainers:[n]},s!==null&&(s=jr(s),s!==null&&uo(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function Yx(t,s,a,r,n){switch(s){case"focusin":return es=Sa(es,t,s,a,r,n),!0;case"dragenter":return ts=Sa(ts,t,s,a,r,n),!0;case"mouseover":return ss=Sa(ss,t,s,a,r,n),!0;case"pointerover":var i=n.pointerId;return tr.set(i,Sa(tr.get(i)||null,t,s,a,r,n)),!0;case"gotpointercapture":return i=n.pointerId,sr.set(i,Sa(sr.get(i)||null,t,s,a,r,n)),!0}return!1}function Fm(t){var s=js(t.target);if(s!==null){var a=Es(s);if(a!==null){if(s=a.tag,s===13){if(s=Pm(a),s!==null){t.blockedOn=s,Lm(t.priority,function(){$m(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=ul(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);il=r,a.target.dispatchEvent(r),il=null}else return s=jr(a),s!==null&&uo(s),t.blockedOn=a,!1;s.shift()}return!0}function yc(t,s,a){Jr(t)&&a.delete(s)}function Qx(){ml=!1,es!==null&&Jr(es)&&(es=null),ts!==null&&Jr(ts)&&(ts=null),ss!==null&&Jr(ss)&&(ss=null),tr.forEach(yc),sr.forEach(yc)}function Ca(t,s){t.blockedOn===s&&(t.blockedOn=null,ml||(ml=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Qx)))}function ar(t){function s(n){return Ca(n,t)}if(0<Er.length){Ca(Er[0],t);for(var a=1;a<Er.length;a++){var r=Er[a];r.blockedOn===t&&(r.blockedOn=null)}}for(es!==null&&Ca(es,t),ts!==null&&Ca(ts,t),ss!==null&&Ca(ss,t),tr.forEach(s),sr.forEach(s),a=0;a<Qt.length;a++)r=Qt[a],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qt.length&&(a=Qt[0],a.blockedOn===null);)Fm(a),a.blockedOn===null&&Qt.shift()}var ra=Gt.ReactCurrentBatchConfig,vn=!0;function Zx(t,s,a,r){var n=Q,i=ra.transition;ra.transition=null;try{Q=1,po(t,s,a,r)}finally{Q=n,ra.transition=i}}function Kx(t,s,a,r){var n=Q,i=ra.transition;ra.transition=null;try{Q=4,po(t,s,a,r)}finally{Q=n,ra.transition=i}}function po(t,s,a,r){if(vn){var n=ul(t,s,a,r);if(n===null)Ti(t,s,r,bn,a),fc(t,r);else if(Yx(n,t,s,a,r))r.stopPropagation();else if(fc(t,r),s&4&&-1<Hx.indexOf(t)){for(;n!==null;){var i=jr(n);if(i!==null&&Em(i),i=ul(t,s,a,r),i===null&&Ti(t,s,r,bn,a),i===n)break;n=i}n!==null&&r.stopPropagation()}else Ti(t,s,r,null,a)}}var bn=null;function ul(t,s,a,r){if(bn=null,t=oo(r),t=js(t),t!==null)if(s=Es(t),s===null)t=null;else if(a=s.tag,a===13){if(t=Pm(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return bn=t,null}function zm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lx()){case co:return 1;case Mm:return 4;case fn:case Fx:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var Kt=null,xo=null,Xr=null;function Bm(){if(Xr)return Xr;var t,s=xo,a=s.length,r,n="value"in Kt?Kt.value:Kt.textContent,i=n.length;for(t=0;t<a&&s[t]===n[t];t++);var o=a-t;for(r=1;r<=o&&s[a-r]===n[i-r];r++);return Xr=n.slice(t,1<r?1-r:void 0)}function en(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function $r(){return!0}function vc(){return!1}function Je(t){function s(a,r,n,i,o){this._reactName=a,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(a=t[m],this[m]=a?a(i):i[m]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$r:vc,this.isPropagationStopped=vc,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Je(ya),br=re({},ya,{view:0,detail:0}),Jx=Je(br),vi,bi,ka,Un=re({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(vi=t.screenX-ka.screenX,bi=t.screenY-ka.screenY):bi=vi=0,ka=t),vi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),bc=Je(Un),Xx=re({},Un,{dataTransfer:0}),e0=Je(Xx),t0=re({},br,{relatedTarget:0}),ji=Je(t0),s0=re({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=Je(s0),r0=re({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n0=Je(r0),i0=re({},ya,{data:0}),jc=Je(i0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=c0[t])?!!s[t]:!1}function go(){return d0}var m0=re({},br,{key:function(t){if(t.key){var s=l0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=en(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(t){return t.type==="keypress"?en(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?en(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u0=Je(m0),p0=re({},Un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=Je(p0),x0=re({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),h0=Je(x0),g0=re({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=Je(g0),y0=re({},Un,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=Je(y0),b0=[9,13,27,32],fo=$t&&"CompositionEvent"in window,Va=null;$t&&"documentMode"in document&&(Va=document.documentMode);var j0=$t&&"TextEvent"in window&&!Va,Gm=$t&&(!fo||Va&&8<Va&&11>=Va),wc=String.fromCharCode(32),Sc=!1;function Vm(t,s){switch(t){case"keyup":return b0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function N0(t,s){switch(t){case"compositionend":return Wm(s);case"keypress":return s.which!==32?null:(Sc=!0,wc);case"textInput":return t=s.data,t===wc&&Sc?null:t;default:return null}}function w0(t,s){if(Ws)return t==="compositionend"||!fo&&Vm(t,s)?(t=Bm(),Xr=xo=Kt=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gm&&s.locale!=="ko"?null:s.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!S0[t.type]:s==="textarea"}function qm(t,s,a,r){Nm(r),s=jn(s,"onChange"),0<s.length&&(a=new ho("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Wa=null,rr=null;function C0(t){su(t,0)}function Hn(t){var s=Hs(t);if(hm(s))return t}function k0(t,s){if(t==="change")return s}var Um=!1;if($t){var Ni;if($t){var wi="oninput"in document;if(!wi){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),wi=typeof kc.oninput=="function"}Ni=wi}else Ni=!1;Um=Ni&&(!document.documentMode||9<document.documentMode)}function Pc(){Wa&&(Wa.detachEvent("onpropertychange",Hm),rr=Wa=null)}function Hm(t){if(t.propertyName==="value"&&Hn(rr)){var s=[];qm(s,rr,t,oo(t)),km(C0,s)}}function P0(t,s,a){t==="focusin"?(Pc(),Wa=s,rr=a,Wa.attachEvent("onpropertychange",Hm)):t==="focusout"&&Pc()}function T0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hn(rr)}function _0(t,s){if(t==="click")return Hn(s)}function R0(t,s){if(t==="input"||t==="change")return Hn(s)}function M0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var gt=typeof Object.is=="function"?Object.is:M0;function nr(t,s){if(gt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var n=a[r];if(!Yi.call(s,n)||!gt(t[n],s[n]))return!1}return!0}function Tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _c(t,s){var a=Tc(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tc(a)}}function Ym(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ym(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Qm(){for(var t=window,s=xn();s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=xn(t.document)}return s}function yo(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function D0(t){var s=Qm(),a=t.focusedElem,r=t.selectionRange;if(s!==a&&a&&a.ownerDocument&&Ym(a.ownerDocument.documentElement,a)){if(r!==null&&yo(a)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(t,a.value.length);else if(t=(s=a.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=a.textContent.length,i=Math.min(r.start,n);r=r.end===void 0?i:Math.min(r.end,n),!t.extend&&i>r&&(n=r,r=i,i=n),n=_c(a,i);var o=_c(a,r);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),i>r?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=a;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)t=s[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A0=$t&&"documentMode"in document&&11>=document.documentMode,qs=null,pl=null,qa=null,xl=!1;function Rc(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xl||qs==null||qs!==xn(r)||(r=qs,"selectionStart"in r&&yo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&nr(qa,r)||(qa=r,r=jn(pl,"onSelect"),0<r.length&&(s=new ho("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=qs)))}function Or(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Us={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},Si={},Zm={};$t&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Yn(t){if(Si[t])return Si[t];if(!Us[t])return t;var s=Us[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Zm)return Si[t]=s[a];return t}var Km=Yn("animationend"),Jm=Yn("animationiteration"),Xm=Yn("animationstart"),eu=Yn("transitionend"),tu=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,s){tu.set(t,s),Is(s,[t])}for(var Ci=0;Ci<Mc.length;Ci++){var ki=Mc[Ci],I0=ki.toLowerCase(),E0=ki[0].toUpperCase()+ki.slice(1);us(I0,"on"+E0)}us(Km,"onAnimationEnd");us(Jm,"onAnimationIteration");us(Xm,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(eu,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$0=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function Dc(t,s,a){var r=t.type||"unknown-event";t.currentTarget=a,Ix(r,s,void 0,t),t.currentTarget=null}function su(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],n=r.event;r=r.listeners;e:{var i=void 0;if(s)for(var o=r.length-1;0<=o;o--){var m=r[o],u=m.instance,l=m.currentTarget;if(m=m.listener,u!==i&&n.isPropagationStopped())break e;Dc(n,m,l),i=u}else for(o=0;o<r.length;o++){if(m=r[o],u=m.instance,l=m.currentTarget,m=m.listener,u!==i&&n.isPropagationStopped())break e;Dc(n,m,l),i=u}}}if(gn)throw t=cl,gn=!1,cl=null,t}function X(t,s){var a=s[vl];a===void 0&&(a=s[vl]=new Set);var r=t+"__bubble";a.has(r)||(au(s,t,2,!1),a.add(r))}function Pi(t,s,a){var r=0;s&&(r|=4),au(a,t,r,s)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function ir(t){if(!t[Lr]){t[Lr]=!0,dm.forEach(function(a){a!=="selectionchange"&&($0.has(a)||Pi(a,!1,t),Pi(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Lr]||(s[Lr]=!0,Pi("selectionchange",!1,s))}}function au(t,s,a,r){switch(zm(s)){case 1:var n=Zx;break;case 4:n=Kx;break;default:n=po}a=n.bind(null,s,a,t),n=void 0,!ol||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(s,a,{capture:!0,passive:n}):t.addEventListener(s,a,!0):n!==void 0?t.addEventListener(s,a,{passive:n}):t.addEventListener(s,a,!1)}function Ti(t,s,a,r,n){var i=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var m=r.stateNode.containerInfo;if(m===n||m.nodeType===8&&m.parentNode===n)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===n||u.nodeType===8&&u.parentNode===n))return;o=o.return}for(;m!==null;){if(o=js(m),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}m=m.parentNode}}r=r.return}km(function(){var l=i,c=oo(a),d=[];e:{var p=tu.get(t);if(p!==void 0){var h=ho,g=t;switch(t){case"keypress":if(en(a)===0)break e;case"keydown":case"keyup":h=u0;break;case"focusin":g="focus",h=ji;break;case"focusout":g="blur",h=ji;break;case"beforeblur":case"afterblur":h=ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=h0;break;case Km:case Jm:case Xm:h=a0;break;case eu:h=f0;break;case"scroll":h=Jx;break;case"wheel":h=v0;break;case"copy":case"cut":case"paste":h=n0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Nc}var y=(s&4)!==0,N=!y&&t==="scroll",f=y?p!==null?p+"Capture":null:p;y=[];for(var x=l,v;x!==null;){v=x;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,f!==null&&(C=er(x,f),C!=null&&y.push(lr(x,C,v)))),N)break;x=x.return}0<y.length&&(p=new h(p,g,null,a,c),d.push({event:p,listeners:y}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&a!==il&&(g=a.relatedTarget||a.fromElement)&&(js(g)||g[Ot]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=a.relatedTarget||a.toElement,h=l,g=g?js(g):null,g!==null&&(N=Es(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=l),h!==g)){if(y=bc,C="onMouseLeave",f="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Nc,C="onPointerLeave",f="onPointerEnter",x="pointer"),N=h==null?p:Hs(h),v=g==null?p:Hs(g),p=new y(C,x+"leave",h,a,c),p.target=N,p.relatedTarget=v,C=null,js(c)===l&&(y=new y(f,x+"enter",g,a,c),y.target=v,y.relatedTarget=N,C=y),N=C,h&&g)t:{for(y=h,f=g,x=0,v=y;v;v=Ls(v))x++;for(v=0,C=f;C;C=Ls(C))v++;for(;0<x-v;)y=Ls(y),x--;for(;0<v-x;)f=Ls(f),v--;for(;x--;){if(y===f||f!==null&&y===f.alternate)break t;y=Ls(y),f=Ls(f)}y=null}else y=null;h!==null&&Ac(d,p,h,y,!1),g!==null&&N!==null&&Ac(d,N,g,y,!0)}}e:{if(p=l?Hs(l):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var T=k0;else if(Cc(p))if(Um)T=R0;else{T=T0;var P=P0}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=_0);if(T&&(T=T(t,l))){qm(d,T,a,c);break e}P&&P(t,p,l),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&tl(p,"number",p.value)}switch(P=l?Hs(l):window,t){case"focusin":(Cc(P)||P.contentEditable==="true")&&(qs=P,pl=l,qa=null);break;case"focusout":qa=pl=qs=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,Rc(d,a,c);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Rc(d,a,c)}var w;if(fo)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ws?Vm(t,a)&&(S="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(S="onCompositionStart");S&&(Gm&&a.locale!=="ko"&&(Ws||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ws&&(w=Bm()):(Kt=c,xo="value"in Kt?Kt.value:Kt.textContent,Ws=!0)),P=jn(l,S),0<P.length&&(S=new jc(S,t,null,a,c),d.push({event:S,listeners:P}),w?S.data=w:(w=Wm(a),w!==null&&(S.data=w)))),(w=j0?N0(t,a):w0(t,a))&&(l=jn(l,"onBeforeInput"),0<l.length&&(c=new jc("onBeforeInput","beforeinput",null,a,c),d.push({event:c,listeners:l}),c.data=w))}su(d,s)})}function lr(t,s,a){return{instance:t,listener:s,currentTarget:a}}function jn(t,s){for(var a=s+"Capture",r=[];t!==null;){var n=t,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=er(t,a),i!=null&&r.unshift(lr(t,i,n)),i=er(t,s),i!=null&&r.push(lr(t,i,n))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ac(t,s,a,r,n){for(var i=s._reactName,o=[];a!==null&&a!==r;){var m=a,u=m.alternate,l=m.stateNode;if(u!==null&&u===r)break;m.tag===5&&l!==null&&(m=l,n?(u=er(a,i),u!=null&&o.unshift(lr(a,u,m))):n||(u=er(a,i),u!=null&&o.push(lr(a,u,m)))),a=a.return}o.length!==0&&t.push({event:s,listeners:o})}var O0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function Ic(t){return(typeof t=="string"?t:""+t).replace(O0,`
`).replace(L0,"")}function Fr(t,s,a){if(s=Ic(s),Ic(t)!==s&&a)throw Error(D(425))}function Nn(){}var hl=null,gl=null;function fl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(t){return Ec.resolve(null).then(t).catch(B0)}:yl;function B0(t){setTimeout(function(){throw t})}function _i(t,s){var a=s,r=0;do{var n=a.nextSibling;if(t.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){t.removeChild(n),ar(s);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=n}while(a);ar(s)}function as(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function $c(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),Nt="__reactFiber$"+va,or="__reactProps$"+va,Ot="__reactContainer$"+va,vl="__reactEvents$"+va,G0="__reactListeners$"+va,V0="__reactHandles$"+va;function js(t){var s=t[Nt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ot]||a[Nt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=$c(t);t!==null;){if(a=t[Nt])return a;t=$c(t)}return s}t=a,a=t.parentNode}return null}function jr(t){return t=t[Nt]||t[Ot],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Qn(t){return t[or]||null}var bl=[],Ys=-1;function ps(t){return{current:t}}function ee(t){0>Ys||(t.current=bl[Ys],bl[Ys]=null,Ys--)}function K(t,s){Ys++,bl[Ys]=t.current,t.current=s}var cs={},Te=ps(cs),ze=ps(!1),_s=cs;function da(t,s){var a=t.type.contextTypes;if(!a)return cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in a)n[i]=s[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function Be(t){return t=t.childContextTypes,t!=null}function wn(){ee(ze),ee(Te)}function Oc(t,s,a){if(Te.current!==cs)throw Error(D(168));K(Te,s),K(ze,a)}function ru(t,s,a){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return a;r=r.getChildContext();for(var n in r)if(!(n in s))throw Error(D(108,Px(t)||"Unknown",n));return re({},a,r)}function Sn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cs,_s=Te.current,K(Te,t),K(ze,ze.current),!0}function Lc(t,s,a){var r=t.stateNode;if(!r)throw Error(D(169));a?(t=ru(t,s,_s),r.__reactInternalMemoizedMergedChildContext=t,ee(ze),ee(Te),K(Te,t)):ee(ze),K(ze,a)}var _t=null,Zn=!1,Ri=!1;function nu(t){_t===null?_t=[t]:_t.push(t)}function W0(t){Zn=!0,nu(t)}function xs(){if(!Ri&&_t!==null){Ri=!0;var t=0,s=Q;try{var a=_t;for(Q=1;t<a.length;t++){var r=a[t];do r=r(!0);while(r!==null)}_t=null,Zn=!1}catch(n){throw _t!==null&&(_t=_t.slice(t+1)),Rm(co,xs),n}finally{Q=s,Ri=!1}}return null}var Qs=[],Zs=0,Cn=null,kn=0,Xe=[],et=0,Rs=null,Rt=1,Mt="";function ys(t,s){Qs[Zs++]=kn,Qs[Zs++]=Cn,Cn=t,kn=s}function iu(t,s,a){Xe[et++]=Rt,Xe[et++]=Mt,Xe[et++]=Rs,Rs=t;var r=Rt;t=Mt;var n=32-xt(r)-1;r&=~(1<<n),a+=1;var i=32-xt(s)+n;if(30<i){var o=n-n%5;i=(r&(1<<o)-1).toString(32),r>>=o,n-=o,Rt=1<<32-xt(s)+n|a<<n|r,Mt=i+t}else Rt=1<<i|a<<n|r,Mt=t}function vo(t){t.return!==null&&(ys(t,1),iu(t,1,0))}function bo(t){for(;t===Cn;)Cn=Qs[--Zs],Qs[Zs]=null,kn=Qs[--Zs],Qs[Zs]=null;for(;t===Rs;)Rs=Xe[--et],Xe[et]=null,Mt=Xe[--et],Xe[et]=null,Rt=Xe[--et],Xe[et]=null}var He=null,qe=null,te=!1,ut=null;function lu(t,s){var a=st(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=t,s=t.deletions,s===null?(t.deletions=[a],t.flags|=16):s.push(a)}function Fc(t,s){switch(t.tag){case 5:var a=t.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,He=t,qe=as(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,He=t,qe=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Rs!==null?{id:Rt,overflow:Mt}:null,t.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=st(18,null,null,0),a.stateNode=s,a.return=t,t.child=a,He=t,qe=null,!0):!1;default:return!1}}function jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nl(t){if(te){var s=qe;if(s){var a=s;if(!Fc(t,s)){if(jl(t))throw Error(D(418));s=as(a.nextSibling);var r=He;s&&Fc(t,s)?lu(r,a):(t.flags=t.flags&-4097|2,te=!1,He=t)}}else{if(jl(t))throw Error(D(418));t.flags=t.flags&-4097|2,te=!1,He=t}}}function zc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function zr(t){if(t!==He)return!1;if(!te)return zc(t),te=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!fl(t.type,t.memoizedProps)),s&&(s=qe)){if(jl(t))throw ou(),Error(D(418));for(;s;)lu(t,s),s=as(s.nextSibling)}if(zc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(s===0){qe=as(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}t=t.nextSibling}qe=null}}else qe=He?as(t.stateNode.nextSibling):null;return!0}function ou(){for(var t=qe;t;)t=as(t.nextSibling)}function ma(){qe=He=null,te=!1}function jo(t){ut===null?ut=[t]:ut.push(t)}var q0=Gt.ReactCurrentBatchConfig;function Pa(t,s,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(D(309));var r=a.stateNode}if(!r)throw Error(D(147,t));var n=r,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var m=n.refs;o===null?delete m[i]:m[i]=o},s._stringRef=i,s)}if(typeof t!="string")throw Error(D(284));if(!a._owner)throw Error(D(290,t))}return t}function Br(t,s){throw t=Object.prototype.toString.call(s),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Bc(t){var s=t._init;return s(t._payload)}function cu(t){function s(f,x){if(t){var v=f.deletions;v===null?(f.deletions=[x],f.flags|=16):v.push(x)}}function a(f,x){if(!t)return null;for(;x!==null;)s(f,x),x=x.sibling;return null}function r(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function n(f,x){return f=ls(f,x),f.index=0,f.sibling=null,f}function i(f,x,v){return f.index=v,t?(v=f.alternate,v!==null?(v=v.index,v<x?(f.flags|=2,x):v):(f.flags|=2,x)):(f.flags|=1048576,x)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function m(f,x,v,C){return x===null||x.tag!==6?(x=Oi(v,f.mode,C),x.return=f,x):(x=n(x,v),x.return=f,x)}function u(f,x,v,C){var T=v.type;return T===Vs?c(f,x,v.props.children,C,v.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qt&&Bc(T)===x.type)?(C=n(x,v.props),C.ref=Pa(f,x,v),C.return=f,C):(C=on(v.type,v.key,v.props,null,f.mode,C),C.ref=Pa(f,x,v),C.return=f,C)}function l(f,x,v,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Li(v,f.mode,C),x.return=f,x):(x=n(x,v.children||[]),x.return=f,x)}function c(f,x,v,C,T){return x===null||x.tag!==7?(x=ks(v,f.mode,C,T),x.return=f,x):(x=n(x,v),x.return=f,x)}function d(f,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Oi(""+x,f.mode,v),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rr:return v=on(x.type,x.key,x.props,null,f.mode,v),v.ref=Pa(f,null,x),v.return=f,v;case Gs:return x=Li(x,f.mode,v),x.return=f,x;case qt:var C=x._init;return d(f,C(x._payload),v)}if(La(x)||Na(x))return x=ks(x,f.mode,v,null),x.return=f,x;Br(f,x)}return null}function p(f,x,v,C){var T=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:m(f,x,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rr:return v.key===T?u(f,x,v,C):null;case Gs:return v.key===T?l(f,x,v,C):null;case qt:return T=v._init,p(f,x,T(v._payload),C)}if(La(v)||Na(v))return T!==null?null:c(f,x,v,C,null);Br(f,v)}return null}function h(f,x,v,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return f=f.get(v)||null,m(x,f,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rr:return f=f.get(C.key===null?v:C.key)||null,u(x,f,C,T);case Gs:return f=f.get(C.key===null?v:C.key)||null,l(x,f,C,T);case qt:var P=C._init;return h(f,x,v,P(C._payload),T)}if(La(C)||Na(C))return f=f.get(v)||null,c(x,f,C,T,null);Br(x,C)}return null}function g(f,x,v,C){for(var T=null,P=null,w=x,S=x=0,b=null;w!==null&&S<v.length;S++){w.index>S?(b=w,w=null):b=w.sibling;var k=p(f,w,v[S],C);if(k===null){w===null&&(w=b);break}t&&w&&k.alternate===null&&s(f,w),x=i(k,x,S),P===null?T=k:P.sibling=k,P=k,w=b}if(S===v.length)return a(f,w),te&&ys(f,S),T;if(w===null){for(;S<v.length;S++)w=d(f,v[S],C),w!==null&&(x=i(w,x,S),P===null?T=w:P.sibling=w,P=w);return te&&ys(f,S),T}for(w=r(f,w);S<v.length;S++)b=h(w,f,S,v[S],C),b!==null&&(t&&b.alternate!==null&&w.delete(b.key===null?S:b.key),x=i(b,x,S),P===null?T=b:P.sibling=b,P=b);return t&&w.forEach(function(_){return s(f,_)}),te&&ys(f,S),T}function y(f,x,v,C){var T=Na(v);if(typeof T!="function")throw Error(D(150));if(v=T.call(v),v==null)throw Error(D(151));for(var P=T=null,w=x,S=x=0,b=null,k=v.next();w!==null&&!k.done;S++,k=v.next()){w.index>S?(b=w,w=null):b=w.sibling;var _=p(f,w,k.value,C);if(_===null){w===null&&(w=b);break}t&&w&&_.alternate===null&&s(f,w),x=i(_,x,S),P===null?T=_:P.sibling=_,P=_,w=b}if(k.done)return a(f,w),te&&ys(f,S),T;if(w===null){for(;!k.done;S++,k=v.next())k=d(f,k.value,C),k!==null&&(x=i(k,x,S),P===null?T=k:P.sibling=k,P=k);return te&&ys(f,S),T}for(w=r(f,w);!k.done;S++,k=v.next())k=h(w,f,S,k.value,C),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?S:k.key),x=i(k,x,S),P===null?T=k:P.sibling=k,P=k);return t&&w.forEach(function(R){return s(f,R)}),te&&ys(f,S),T}function N(f,x,v,C){if(typeof v=="object"&&v!==null&&v.type===Vs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Rr:e:{for(var T=v.key,P=x;P!==null;){if(P.key===T){if(T=v.type,T===Vs){if(P.tag===7){a(f,P.sibling),x=n(P,v.props.children),x.return=f,f=x;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qt&&Bc(T)===P.type){a(f,P.sibling),x=n(P,v.props),x.ref=Pa(f,P,v),x.return=f,f=x;break e}a(f,P);break}else s(f,P);P=P.sibling}v.type===Vs?(x=ks(v.props.children,f.mode,C,v.key),x.return=f,f=x):(C=on(v.type,v.key,v.props,null,f.mode,C),C.ref=Pa(f,x,v),C.return=f,f=C)}return o(f);case Gs:e:{for(P=v.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){a(f,x.sibling),x=n(x,v.children||[]),x.return=f,f=x;break e}else{a(f,x);break}else s(f,x);x=x.sibling}x=Li(v,f.mode,C),x.return=f,f=x}return o(f);case qt:return P=v._init,N(f,x,P(v._payload),C)}if(La(v))return g(f,x,v,C);if(Na(v))return y(f,x,v,C);Br(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(a(f,x.sibling),x=n(x,v),x.return=f,f=x):(a(f,x),x=Oi(v,f.mode,C),x.return=f,f=x),o(f)):a(f,x)}return N}var ua=cu(!0),du=cu(!1),Pn=ps(null),Tn=null,Ks=null,No=null;function wo(){No=Ks=Tn=null}function So(t){var s=Pn.current;ee(Pn),t._currentValue=s}function wl(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function na(t,s){Tn=t,No=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Fe=!0),t.firstContext=null)}function it(t){var s=t._currentValue;if(No!==t)if(t={context:t,memoizedValue:s,next:null},Ks===null){if(Tn===null)throw Error(D(308));Ks=t,Tn.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return s}var Ns=null;function Co(t){Ns===null?Ns=[t]:Ns.push(t)}function mu(t,s,a,r){var n=s.interleaved;return n===null?(a.next=a,Co(s)):(a.next=n.next,n.next=a),s.interleaved=a,Lt(t,r)}function Lt(t,s){t.lanes|=s;var a=t.alternate;for(a!==null&&(a.lanes|=s),a=t,t=t.return;t!==null;)t.childLanes|=s,a=t.alternate,a!==null&&(a.childLanes|=s),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Ut=!1;function ko(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dt(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function rs(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var n=r.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),r.pending=s,Lt(t,a)}return n=r.interleaved,n===null?(s.next=s,Co(r)):(s.next=n.next,n.next=s),r.interleaved=s,Lt(t,a)}function tn(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,mo(t,a)}}function Gc(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};i===null?n=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?n=i=s:i=i.next=s}else n=i=s;a={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}function _n(t,s,a,r){var n=t.updateQueue;Ut=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,m=n.shared.pending;if(m!==null){n.shared.pending=null;var u=m,l=u.next;u.next=null,o===null?i=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,m=c.lastBaseUpdate,m!==o&&(m===null?c.firstBaseUpdate=l:m.next=l,c.lastBaseUpdate=u))}if(i!==null){var d=n.baseState;o=0,c=l=u=null,m=i;do{var p=m.lane,h=m.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var g=t,y=m;switch(p=s,h=a,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(h,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(h,d,p):g,p==null)break e;d=re({},d,p);break e;case 2:Ut=!0}}m.callback!==null&&m.lane!==0&&(t.flags|=64,p=n.effects,p===null?n.effects=[m]:p.push(m))}else h={eventTime:h,lane:p,tag:m.tag,payload:m.payload,callback:m.callback,next:null},c===null?(l=c=h,u=d):c=c.next=h,o|=p;if(m=m.next,m===null){if(m=n.shared.pending,m===null)break;p=m,m=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(1);if(c===null&&(u=d),n.baseState=u,n.firstBaseUpdate=l,n.lastBaseUpdate=c,s=n.shared.interleaved,s!==null){n=s;do o|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);Ds|=o,t.lanes=o,t.memoizedState=d}}function Vc(t,s,a){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],n=r.callback;if(n!==null){if(r.callback=null,r=a,typeof n!="function")throw Error(D(191,n));n.call(r)}}}var Nr={},St=ps(Nr),cr=ps(Nr),dr=ps(Nr);function ws(t){if(t===Nr)throw Error(D(174));return t}function Po(t,s){switch(K(dr,s),K(cr,t),K(St,Nr),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:al(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=al(s,t)}ee(St),K(St,s)}function pa(){ee(St),ee(cr),ee(dr)}function pu(t){ws(dr.current);var s=ws(St.current),a=al(s,t.type);s!==a&&(K(cr,t),K(St,a))}function To(t){cr.current===t&&(ee(St),ee(cr))}var se=ps(0);function Rn(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mi=[];function _o(){for(var t=0;t<Mi.length;t++)Mi[t]._workInProgressVersionPrimary=null;Mi.length=0}var sn=Gt.ReactCurrentDispatcher,Di=Gt.ReactCurrentBatchConfig,Ms=0,ae=null,ue=null,ge=null,Mn=!1,Ua=!1,mr=0,U0=0;function Ce(){throw Error(D(321))}function Ro(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!gt(t[a],s[a]))return!1;return!0}function Mo(t,s,a,r,n,i){if(Ms=i,ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,sn.current=t===null||t.memoizedState===null?Z0:K0,t=a(r,n),Ua){i=0;do{if(Ua=!1,mr=0,25<=i)throw Error(D(301));i+=1,ge=ue=null,s.updateQueue=null,sn.current=J0,t=a(r,n)}while(Ua)}if(sn.current=Dn,s=ue!==null&&ue.next!==null,Ms=0,ge=ue=ae=null,Mn=!1,s)throw Error(D(300));return t}function Do(){var t=mr!==0;return mr=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ae.memoizedState=ge=t:ge=ge.next=t,ge}function lt(){if(ue===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var s=ge===null?ae.memoizedState:ge.next;if(s!==null)ge=s,ue=t;else{if(t===null)throw Error(D(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ge===null?ae.memoizedState=ge=t:ge=ge.next=t}return ge}function ur(t,s){return typeof s=="function"?s(t):s}function Ai(t){var s=lt(),a=s.queue;if(a===null)throw Error(D(311));a.lastRenderedReducer=t;var r=ue,n=r.baseQueue,i=a.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}r.baseQueue=n=i,a.pending=null}if(n!==null){i=n.next,r=r.baseState;var m=o=null,u=null,l=i;do{var c=l.lane;if((Ms&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(m=u=d,o=r):u=u.next=d,ae.lanes|=c,Ds|=c}l=l.next}while(l!==null&&l!==i);u===null?o=r:u.next=m,gt(r,s.memoizedState)||(Fe=!0),s.memoizedState=r,s.baseState=o,s.baseQueue=u,a.lastRenderedState=r}if(t=a.interleaved,t!==null){n=t;do i=n.lane,ae.lanes|=i,Ds|=i,n=n.next;while(n!==t)}else n===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ii(t){var s=lt(),a=s.queue;if(a===null)throw Error(D(311));a.lastRenderedReducer=t;var r=a.dispatch,n=a.pending,i=s.memoizedState;if(n!==null){a.pending=null;var o=n=n.next;do i=t(i,o.action),o=o.next;while(o!==n);gt(i,s.memoizedState)||(Fe=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),a.lastRenderedState=i}return[i,r]}function xu(){}function hu(t,s){var a=ae,r=lt(),n=s(),i=!gt(r.memoizedState,n);if(i&&(r.memoizedState=n,Fe=!0),r=r.queue,Ao(yu.bind(null,a,r,t),[t]),r.getSnapshot!==s||i||ge!==null&&ge.memoizedState.tag&1){if(a.flags|=2048,pr(9,fu.bind(null,a,r,n,s),void 0,null),fe===null)throw Error(D(349));Ms&30||gu(a,s,n)}return n}function gu(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ae.updateQueue,s===null?(s={lastEffect:null,stores:null},ae.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function fu(t,s,a,r){s.value=a,s.getSnapshot=r,vu(s)&&bu(t)}function yu(t,s,a){return a(function(){vu(s)&&bu(t)})}function vu(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!gt(t,a)}catch{return!0}}function bu(t){var s=Lt(t,1);s!==null&&ht(s,t,1,-1)}function Wc(t){var s=jt();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},s.queue=t,t=t.dispatch=Q0.bind(null,ae,t),[s.memoizedState,t]}function pr(t,s,a,r){return t={tag:t,create:s,destroy:a,deps:r,next:null},s=ae.updateQueue,s===null?(s={lastEffect:null,stores:null},ae.updateQueue=s,s.lastEffect=t.next=t):(a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t)),t}function ju(){return lt().memoizedState}function an(t,s,a,r){var n=jt();ae.flags|=t,n.memoizedState=pr(1|s,a,void 0,r===void 0?null:r)}function Kn(t,s,a,r){var n=lt();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&Ro(r,o.deps)){n.memoizedState=pr(s,a,i,r);return}}ae.flags|=t,n.memoizedState=pr(1|s,a,i,r)}function qc(t,s){return an(8390656,8,t,s)}function Ao(t,s){return Kn(2048,8,t,s)}function Nu(t,s){return Kn(4,2,t,s)}function wu(t,s){return Kn(4,4,t,s)}function Su(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Cu(t,s,a){return a=a!=null?a.concat([t]):null,Kn(4,4,Su.bind(null,s,t),a)}function Io(){}function ku(t,s){var a=lt();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Ro(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function Pu(t,s){var a=lt();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Ro(s,r[1])?r[0]:(t=t(),a.memoizedState=[t,s],t)}function Tu(t,s,a){return Ms&21?(gt(a,s)||(a=Am(),ae.lanes|=a,Ds|=a,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=a)}function H0(t,s){var a=Q;Q=a!==0&&4>a?a:4,t(!0);var r=Di.transition;Di.transition={};try{t(!1),s()}finally{Q=a,Di.transition=r}}function _u(){return lt().memoizedState}function Y0(t,s,a){var r=is(t);if(a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(t))Mu(s,a);else if(a=mu(t,s,a,r),a!==null){var n=Ie();ht(a,t,r,n),Du(a,s,r)}}function Q0(t,s,a){var r=is(t),n={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))Mu(s,n);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,m=i(o,a);if(n.hasEagerState=!0,n.eagerState=m,gt(m,o)){var u=s.interleaved;u===null?(n.next=n,Co(s)):(n.next=u.next,u.next=n),s.interleaved=n;return}}catch{}finally{}a=mu(t,s,n,r),a!==null&&(n=Ie(),ht(a,t,r,n),Du(a,s,r))}}function Ru(t){var s=t.alternate;return t===ae||s!==null&&s===ae}function Mu(t,s){Ua=Mn=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Du(t,s,a){if(a&4194240){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,mo(t,a)}}var Dn={readContext:it,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Z0={readContext:it,useCallback:function(t,s){return jt().memoizedState=[t,s===void 0?null:s],t},useContext:it,useEffect:qc,useImperativeHandle:function(t,s,a){return a=a!=null?a.concat([t]):null,an(4194308,4,Su.bind(null,s,t),a)},useLayoutEffect:function(t,s){return an(4194308,4,t,s)},useInsertionEffect:function(t,s){return an(4,2,t,s)},useMemo:function(t,s){var a=jt();return s=s===void 0?null:s,t=t(),a.memoizedState=[t,s],t},useReducer:function(t,s,a){var r=jt();return s=a!==void 0?a(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=Y0.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var s=jt();return t={current:t},s.memoizedState=t},useState:Wc,useDebugValue:Io,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=Wc(!1),s=t[0];return t=H0.bind(null,t[1]),jt().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,a){var r=ae,n=jt();if(te){if(a===void 0)throw Error(D(407));a=a()}else{if(a=s(),fe===null)throw Error(D(349));Ms&30||gu(r,s,a)}n.memoizedState=a;var i={value:a,getSnapshot:s};return n.queue=i,qc(yu.bind(null,r,i,t),[t]),r.flags|=2048,pr(9,fu.bind(null,r,i,a,s),void 0,null),a},useId:function(){var t=jt(),s=fe.identifierPrefix;if(te){var a=Mt,r=Rt;a=(r&~(1<<32-xt(r)-1)).toString(32)+a,s=":"+s+"R"+a,a=mr++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=U0++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},K0={readContext:it,useCallback:ku,useContext:it,useEffect:Ao,useImperativeHandle:Cu,useInsertionEffect:Nu,useLayoutEffect:wu,useMemo:Pu,useReducer:Ai,useRef:ju,useState:function(){return Ai(ur)},useDebugValue:Io,useDeferredValue:function(t){var s=lt();return Tu(s,ue.memoizedState,t)},useTransition:function(){var t=Ai(ur)[0],s=lt().memoizedState;return[t,s]},useMutableSource:xu,useSyncExternalStore:hu,useId:_u,unstable_isNewReconciler:!1},J0={readContext:it,useCallback:ku,useContext:it,useEffect:Ao,useImperativeHandle:Cu,useInsertionEffect:Nu,useLayoutEffect:wu,useMemo:Pu,useReducer:Ii,useRef:ju,useState:function(){return Ii(ur)},useDebugValue:Io,useDeferredValue:function(t){var s=lt();return ue===null?s.memoizedState=t:Tu(s,ue.memoizedState,t)},useTransition:function(){var t=Ii(ur)[0],s=lt().memoizedState;return[t,s]},useMutableSource:xu,useSyncExternalStore:hu,useId:_u,unstable_isNewReconciler:!1};function dt(t,s){if(t&&t.defaultProps){s=re({},s),t=t.defaultProps;for(var a in t)s[a]===void 0&&(s[a]=t[a]);return s}return s}function Sl(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:re({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jn={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var r=Ie(),n=is(t),i=Dt(r,n);i.payload=s,a!=null&&(i.callback=a),s=rs(t,i,n),s!==null&&(ht(s,t,n,r),tn(s,t,n))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=Ie(),n=is(t),i=Dt(r,n);i.tag=1,i.payload=s,a!=null&&(i.callback=a),s=rs(t,i,n),s!==null&&(ht(s,t,n,r),tn(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ie(),r=is(t),n=Dt(a,r);n.tag=2,s!=null&&(n.callback=s),s=rs(t,n,r),s!==null&&(ht(s,t,r,a),tn(s,t,r))}};function Uc(t,s,a,r,n,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):s.prototype&&s.prototype.isPureReactComponent?!nr(a,r)||!nr(n,i):!0}function Au(t,s,a){var r=!1,n=cs,i=s.contextType;return typeof i=="object"&&i!==null?i=it(i):(n=Be(s)?_s:Te.current,r=s.contextTypes,i=(r=r!=null)?da(t,n):cs),s=new s(a,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jn,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),s}function Hc(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&Jn.enqueueReplaceState(s,s.state,null)}function Cl(t,s,a,r){var n=t.stateNode;n.props=a,n.state=t.memoizedState,n.refs={},ko(t);var i=s.contextType;typeof i=="object"&&i!==null?n.context=it(i):(i=Be(s)?_s:Te.current,n.context=da(t,i)),n.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Sl(t,s,i,a),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Jn.enqueueReplaceState(n,n.state,null),_n(t,a,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function xa(t,s){try{var a="",r=s;do a+=kx(r),r=r.return;while(r);var n=a}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:n,digest:null}}function Ei(t,s,a){return{value:t,source:null,stack:a??null,digest:s??null}}function kl(t,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var X0=typeof WeakMap=="function"?WeakMap:Map;function Iu(t,s,a){a=Dt(-1,a),a.tag=3,a.payload={element:null};var r=s.value;return a.callback=function(){In||(In=!0,$l=r),kl(t,s)},a}function Eu(t,s,a){a=Dt(-1,a),a.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=s.value;a.payload=function(){return r(n)},a.callback=function(){kl(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(a.callback=function(){kl(t,s),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),a}function Yc(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new X0;var n=new Set;r.set(s,n)}else n=r.get(s),n===void 0&&(n=new Set,r.set(s,n));n.has(a)||(n.add(a),t=ph.bind(null,t,s,a),s.then(t,t))}function Qc(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Zc(t,s,a,r,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Dt(-1,1),s.tag=2,rs(a,s,1))),a.lanes|=1),t)}var eh=Gt.ReactCurrentOwner,Fe=!1;function De(t,s,a,r){s.child=t===null?du(s,null,a,r):ua(s,t.child,a,r)}function Kc(t,s,a,r,n){a=a.render;var i=s.ref;return na(s,n),r=Mo(t,s,a,r,i,n),a=Do(),t!==null&&!Fe?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Ft(t,s,n)):(te&&a&&vo(s),s.flags|=1,De(t,s,r,n),s.child)}function Jc(t,s,a,r,n){if(t===null){var i=a.type;return typeof i=="function"&&!Go(i)&&i.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=i,$u(t,s,i,r,n)):(t=on(a.type,null,r,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&n)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:nr,a(o,r)&&t.ref===s.ref)return Ft(t,s,n)}return s.flags|=1,t=ls(i,r),t.ref=s.ref,t.return=s,s.child=t}function $u(t,s,a,r,n){if(t!==null){var i=t.memoizedProps;if(nr(i,r)&&t.ref===s.ref)if(Fe=!1,s.pendingProps=r=i,(t.lanes&n)!==0)t.flags&131072&&(Fe=!0);else return s.lanes=t.lanes,Ft(t,s,n)}return Pl(t,s,a,r,n)}function Ou(t,s,a){var r=s.pendingProps,n=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Xs,We),We|=a;else{if(!(a&1073741824))return t=i!==null?i.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,K(Xs,We),We|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:a,K(Xs,We),We|=r}else i!==null?(r=i.baseLanes|a,s.memoizedState=null):r=a,K(Xs,We),We|=r;return De(t,s,n,a),s.child}function Lu(t,s){var a=s.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Pl(t,s,a,r,n){var i=Be(a)?_s:Te.current;return i=da(s,i),na(s,n),a=Mo(t,s,a,r,i,n),r=Do(),t!==null&&!Fe?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Ft(t,s,n)):(te&&r&&vo(s),s.flags|=1,De(t,s,a,n),s.child)}function Xc(t,s,a,r,n){if(Be(a)){var i=!0;Sn(s)}else i=!1;if(na(s,n),s.stateNode===null)rn(t,s),Au(s,a,r),Cl(s,a,r,n),r=!0;else if(t===null){var o=s.stateNode,m=s.memoizedProps;o.props=m;var u=o.context,l=a.contextType;typeof l=="object"&&l!==null?l=it(l):(l=Be(a)?_s:Te.current,l=da(s,l));var c=a.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==r||u!==l)&&Hc(s,o,r,l),Ut=!1;var p=s.memoizedState;o.state=p,_n(s,r,o,n),u=s.memoizedState,m!==r||p!==u||ze.current||Ut?(typeof c=="function"&&(Sl(s,a,c,r),u=s.memoizedState),(m=Ut||Uc(s,a,m,r,p,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=u),o.props=r,o.state=u,o.context=l,r=m):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{o=s.stateNode,uu(t,s),m=s.memoizedProps,l=s.type===s.elementType?m:dt(s.type,m),o.props=l,d=s.pendingProps,p=o.context,u=a.contextType,typeof u=="object"&&u!==null?u=it(u):(u=Be(a)?_s:Te.current,u=da(s,u));var h=a.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==d||p!==u)&&Hc(s,o,r,u),Ut=!1,p=s.memoizedState,o.state=p,_n(s,r,o,n);var g=s.memoizedState;m!==d||p!==g||ze.current||Ut?(typeof h=="function"&&(Sl(s,a,h,r),g=s.memoizedState),(l=Ut||Uc(s,a,l,r,p,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=g),o.props=r,o.state=g,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),r=!1)}return Tl(t,s,a,r,i,n)}function Tl(t,s,a,r,n,i){Lu(t,s);var o=(s.flags&128)!==0;if(!r&&!o)return n&&Lc(s,a,!1),Ft(t,s,i);r=s.stateNode,eh.current=s;var m=o&&typeof a.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&o?(s.child=ua(s,t.child,null,i),s.child=ua(s,null,m,i)):De(t,s,m,i),s.memoizedState=r.state,n&&Lc(s,a,!0),s.child}function Fu(t){var s=t.stateNode;s.pendingContext?Oc(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Oc(t,s.context,!1),Po(t,s.containerInfo)}function ed(t,s,a,r,n){return ma(),jo(n),s.flags|=256,De(t,s,a,r),s.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function Rl(t){return{baseLanes:t,cachePool:null,transitions:null}}function zu(t,s,a){var r=s.pendingProps,n=se.current,i=!1,o=(s.flags&128)!==0,m;if((m=o)||(m=t!==null&&t.memoizedState===null?!1:(n&2)!==0),m?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),K(se,n&1),t===null)return Nl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=r.children,t=r.fallback,i?(r=s.mode,i=s.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ti(o,r,0,null),t=ks(t,r,a,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=Rl(a),s.memoizedState=_l,t):Eo(s,o));if(n=t.memoizedState,n!==null&&(m=n.dehydrated,m!==null))return th(t,s,o,r,m,n,a);if(i){i=r.fallback,o=s.mode,n=t.child,m=n.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&s.child!==n?(r=s.child,r.childLanes=0,r.pendingProps=u,s.deletions=null):(r=ls(n,u),r.subtreeFlags=n.subtreeFlags&14680064),m!==null?i=ls(m,i):(i=ks(i,o,a,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,o=t.child.memoizedState,o=o===null?Rl(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~a,s.memoizedState=_l,r}return i=t.child,t=i.sibling,r=ls(i,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=a),r.return=s,r.sibling=null,t!==null&&(a=s.deletions,a===null?(s.deletions=[t],s.flags|=16):a.push(t)),s.child=r,s.memoizedState=null,r}function Eo(t,s){return s=ti({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Gr(t,s,a,r){return r!==null&&jo(r),ua(s,t.child,null,a),t=Eo(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function th(t,s,a,r,n,i,o){if(a)return s.flags&256?(s.flags&=-257,r=Ei(Error(D(422))),Gr(t,s,o,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=r.fallback,n=s.mode,r=ti({mode:"visible",children:r.children},n,0,null),i=ks(i,n,o,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,s.mode&1&&ua(s,t.child,null,o),s.child.memoizedState=Rl(o),s.memoizedState=_l,i);if(!(s.mode&1))return Gr(t,s,o,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var m=r.dgst;return r=m,i=Error(D(419)),r=Ei(i,r,void 0),Gr(t,s,o,r)}if(m=(o&t.childLanes)!==0,Fe||m){if(r=fe,r!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Lt(t,n),ht(r,t,n,-1))}return Bo(),r=Ei(Error(D(421))),Gr(t,s,o,r)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=xh.bind(null,t),n._reactRetry=s,null):(t=i.treeContext,qe=as(n.nextSibling),He=s,te=!0,ut=null,t!==null&&(Xe[et++]=Rt,Xe[et++]=Mt,Xe[et++]=Rs,Rt=t.id,Mt=t.overflow,Rs=s),s=Eo(s,r.children),s.flags|=4096,s)}function td(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),wl(t.return,s,a)}function $i(t,s,a,r,n){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=a,i.tailMode=n)}function Bu(t,s,a){var r=s.pendingProps,n=r.revealOrder,i=r.tail;if(De(t,s,r.children,a),r=se.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&td(t,a,s);else if(t.tag===19)td(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(se,r),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(a=s.child,n=null;a!==null;)t=a.alternate,t!==null&&Rn(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),$i(s,!1,n,a,i);break;case"backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&Rn(t)===null){s.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}$i(s,!0,a,null,i);break;case"together":$i(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function rn(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Ft(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ds|=s.lanes,!(a&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(D(153));if(s.child!==null){for(t=s.child,a=ls(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ls(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function sh(t,s,a){switch(s.tag){case 3:Fu(s),ma();break;case 5:pu(s);break;case 1:Be(s.type)&&Sn(s);break;case 4:Po(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,n=s.memoizedProps.value;K(Pn,r._currentValue),r._currentValue=n;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(K(se,se.current&1),s.flags|=128,null):a&s.child.childLanes?zu(t,s,a):(K(se,se.current&1),t=Ft(t,s,a),t!==null?t.sibling:null);K(se,se.current&1);break;case 19:if(r=(a&s.childLanes)!==0,t.flags&128){if(r)return Bu(t,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),K(se,se.current),r)break;return null;case 22:case 23:return s.lanes=0,Ou(t,s,a)}return Ft(t,s,a)}var Gu,Ml,Vu,Wu;Gu=function(t,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ml=function(){};Vu=function(t,s,a,r){var n=t.memoizedProps;if(n!==r){t=s.stateNode,ws(St.current);var i=null;switch(a){case"input":n=Xi(t,n),r=Xi(t,r),i=[];break;case"select":n=re({},n,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":n=sl(t,n),r=sl(t,r),i=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nn)}rl(a,r);var o;a=null;for(l in n)if(!r.hasOwnProperty(l)&&n.hasOwnProperty(l)&&n[l]!=null)if(l==="style"){var m=n[l];for(o in m)m.hasOwnProperty(o)&&(a||(a={}),a[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ja.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(m=n!=null?n[l]:void 0,r.hasOwnProperty(l)&&u!==m&&(u!=null||m!=null))if(l==="style")if(m){for(o in m)!m.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a||(a={}),a[o]="");for(o in u)u.hasOwnProperty(o)&&m[o]!==u[o]&&(a||(a={}),a[o]=u[o])}else a||(i||(i=[]),i.push(l,a)),a=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,m=m?m.__html:void 0,u!=null&&m!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&X("scroll",t),i||m===u||(i=[])):(i=i||[]).push(l,u))}a&&(i=i||[]).push("style",a);var l=i;(s.updateQueue=l)&&(s.flags|=4)}};Wu=function(t,s,a,r){a!==r&&(s.flags|=4)};function Ta(t,s){if(!te)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function ah(t,s,a){var r=s.pendingProps;switch(bo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(s),null;case 1:return Be(s.type)&&wn(),ke(s),null;case 3:return r=s.stateNode,pa(),ee(ze),ee(Te),_o(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zr(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ut!==null&&(Fl(ut),ut=null))),Ml(t,s),ke(s),null;case 5:To(s);var n=ws(dr.current);if(a=s.type,t!==null&&s.stateNode!=null)Vu(t,s,a,r,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(D(166));return ke(s),null}if(t=ws(St.current),zr(s)){r=s.stateNode,a=s.type;var i=s.memoizedProps;switch(r[Nt]=s,r[or]=i,t=(s.mode&1)!==0,a){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(n=0;n<za.length;n++)X(za[n],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":dc(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":uc(r,i),X("invalid",r)}rl(a,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var m=i[o];o==="children"?typeof m=="string"?r.textContent!==m&&(i.suppressHydrationWarning!==!0&&Fr(r.textContent,m,t),n=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(i.suppressHydrationWarning!==!0&&Fr(r.textContent,m,t),n=["children",""+m]):Ja.hasOwnProperty(o)&&m!=null&&o==="onScroll"&&X("scroll",r)}switch(a){case"input":Mr(r),mc(r,i,!0);break;case"textarea":Mr(r),pc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nn)}r=n,s.updateQueue=r,r!==null&&(s.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ym(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(a,{is:r.is}):(t=o.createElement(a),a==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,a),t[Nt]=s,t[or]=r,Gu(t,s,!1,!1),s.stateNode=t;e:{switch(o=nl(a,r),a){case"dialog":X("cancel",t),X("close",t),n=r;break;case"iframe":case"object":case"embed":X("load",t),n=r;break;case"video":case"audio":for(n=0;n<za.length;n++)X(za[n],t);n=r;break;case"source":X("error",t),n=r;break;case"img":case"image":case"link":X("error",t),X("load",t),n=r;break;case"details":X("toggle",t),n=r;break;case"input":dc(t,r),n=Xi(t,r),X("invalid",t);break;case"option":n=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=re({},r,{value:void 0}),X("invalid",t);break;case"textarea":uc(t,r),n=sl(t,r),X("invalid",t);break;default:n=r}rl(a,n),m=n;for(i in m)if(m.hasOwnProperty(i)){var u=m[i];i==="style"?jm(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&vm(t,u)):i==="children"?typeof u=="string"?(a!=="textarea"||u!=="")&&Xa(t,u):typeof u=="number"&&Xa(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ja.hasOwnProperty(i)?u!=null&&i==="onScroll"&&X("scroll",t):u!=null&&ro(t,i,u,o))}switch(a){case"input":Mr(t),mc(t,r,!1);break;case"textarea":Mr(t),pc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+os(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ta(t,!!r.multiple,i,!1):r.defaultValue!=null&&ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Nn)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ke(s),null;case 6:if(t&&s.stateNode!=null)Wu(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(D(166));if(a=ws(dr.current),ws(St.current),zr(s)){if(r=s.stateNode,a=s.memoizedProps,r[Nt]=s,(i=r.nodeValue!==a)&&(t=He,t!==null))switch(t.tag){case 3:Fr(r.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fr(r.nodeValue,a,(t.mode&1)!==0)}i&&(s.flags|=4)}else r=(a.nodeType===9?a:a.ownerDocument).createTextNode(r),r[Nt]=s,s.stateNode=r}return ke(s),null;case 13:if(ee(se),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&qe!==null&&s.mode&1&&!(s.flags&128))ou(),ma(),s.flags|=98560,i=!1;else if(i=zr(s),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Nt]=s}else ma(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ke(s),i=!1}else ut!==null&&(Fl(ut),ut=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||se.current&1?pe===0&&(pe=3):Bo())),s.updateQueue!==null&&(s.flags|=4),ke(s),null);case 4:return pa(),Ml(t,s),t===null&&ir(s.stateNode.containerInfo),ke(s),null;case 10:return So(s.type._context),ke(s),null;case 17:return Be(s.type)&&wn(),ke(s),null;case 19:if(ee(se),i=s.memoizedState,i===null)return ke(s),null;if(r=(s.flags&128)!==0,o=i.rendering,o===null)if(r)Ta(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=Rn(t),o!==null){for(s.flags|=128,Ta(i,!1),r=o.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=a,a=s.child;a!==null;)i=a,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return K(se,se.current&1|2),s.child}t=t.sibling}i.tail!==null&&ce()>ha&&(s.flags|=128,r=!0,Ta(i,!1),s.lanes=4194304)}else{if(!r)if(t=Rn(o),t!==null){if(s.flags|=128,r=!0,a=t.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return ke(s),null}else 2*ce()-i.renderingStartTime>ha&&a!==1073741824&&(s.flags|=128,r=!0,Ta(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(a=i.last,a!==null?a.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=ce(),s.sibling=null,a=se.current,K(se,r?a&1|2:a&1),s):(ke(s),null);case 22:case 23:return zo(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?We&1073741824&&(ke(s),s.subtreeFlags&6&&(s.flags|=8192)):ke(s),null;case 24:return null;case 25:return null}throw Error(D(156,s.tag))}function rh(t,s){switch(bo(s),s.tag){case 1:return Be(s.type)&&wn(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return pa(),ee(ze),ee(Te),_o(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return To(s),null;case 13:if(ee(se),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(D(340));ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ee(se),null;case 4:return pa(),null;case 10:return So(s.type._context),null;case 22:case 23:return zo(),null;case 24:return null;default:return null}}var Vr=!1,Pe=!1,nh=typeof WeakSet=="function"?WeakSet:Set,E=null;function Js(t,s){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(r){le(t,s,r)}else a.current=null}function Dl(t,s,a){try{a()}catch(r){le(t,s,r)}}var sd=!1;function ih(t,s){if(hl=vn,t=Qm(),yo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,m=-1,u=-1,l=0,c=0,d=t,p=null;t:for(;;){for(var h;d!==a||n!==0&&d.nodeType!==3||(m=o+n),d!==i||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===t)break t;if(p===a&&++l===n&&(m=o),p===i&&++c===r&&(u=o),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}a=m===-1||u===-1?null:{start:m,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(gl={focusedElem:t,selectionRange:a},vn=!1,E=s;E!==null;)if(s=E,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,E=t;else for(;E!==null;){s=E;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,N=g.memoizedState,f=s.stateNode,x=f.getSnapshotBeforeUpdate(s.elementType===s.type?y:dt(s.type,y),N);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=s.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(C){le(s,s.return,C)}if(t=s.sibling,t!==null){t.return=s.return,E=t;break}E=s.return}return g=sd,sd=!1,g}function Ha(t,s,a){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,i!==void 0&&Dl(s,a,i)}n=n.next}while(n!==r)}}function Xn(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var r=a.create;a.destroy=r()}a=a.next}while(a!==s)}}function Al(t){var s=t.ref;if(s!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof s=="function"?s(t):s.current=t}}function qu(t){var s=t.alternate;s!==null&&(t.alternate=null,qu(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Nt],delete s[or],delete s[vl],delete s[G0],delete s[V0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Uu(t){return t.tag===5||t.tag===3||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Il(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Nn));else if(r!==4&&(t=t.child,t!==null))for(Il(t,s,a),t=t.sibling;t!==null;)Il(t,s,a),t=t.sibling}function El(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(El(t,s,a),t=t.sibling;t!==null;)El(t,s,a),t=t.sibling}var be=null,mt=!1;function Vt(t,s,a){for(a=a.child;a!==null;)Hu(t,s,a),a=a.sibling}function Hu(t,s,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 5:Pe||Js(a,s);case 6:var r=be,n=mt;be=null,Vt(t,s,a),be=r,mt=n,be!==null&&(mt?(t=be,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):be.removeChild(a.stateNode));break;case 18:be!==null&&(mt?(t=be,a=a.stateNode,t.nodeType===8?_i(t.parentNode,a):t.nodeType===1&&_i(t,a),ar(t)):_i(be,a.stateNode));break;case 4:r=be,n=mt,be=a.stateNode.containerInfo,mt=!0,Vt(t,s,a),be=r,mt=n;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=a.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dl(a,s,o),n=n.next}while(n!==r)}Vt(t,s,a);break;case 1:if(!Pe&&(Js(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(m){le(a,s,m)}Vt(t,s,a);break;case 21:Vt(t,s,a);break;case 22:a.mode&1?(Pe=(r=Pe)||a.memoizedState!==null,Vt(t,s,a),Pe=r):Vt(t,s,a);break;default:Vt(t,s,a)}}function rd(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new nh),s.forEach(function(r){var n=hh.bind(null,t,r);a.has(r)||(a.add(r),r.then(n,n))})}}function ot(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var n=a[r];try{var i=t,o=s,m=o;e:for(;m!==null;){switch(m.tag){case 5:be=m.stateNode,mt=!1;break e;case 3:be=m.stateNode.containerInfo,mt=!0;break e;case 4:be=m.stateNode.containerInfo,mt=!0;break e}m=m.return}if(be===null)throw Error(D(160));Hu(i,o,n),be=null,mt=!1;var u=n.alternate;u!==null&&(u.return=null),n.return=null}catch(l){le(n,s,l)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yu(s,t),s=s.sibling}function Yu(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(s,t),vt(t),r&4){try{Ha(3,t,t.return),Xn(3,t)}catch(y){le(t,t.return,y)}try{Ha(5,t,t.return)}catch(y){le(t,t.return,y)}}break;case 1:ot(s,t),vt(t),r&512&&a!==null&&Js(a,a.return);break;case 5:if(ot(s,t),vt(t),r&512&&a!==null&&Js(a,a.return),t.flags&32){var n=t.stateNode;try{Xa(n,"")}catch(y){le(t,t.return,y)}}if(r&4&&(n=t.stateNode,n!=null)){var i=t.memoizedProps,o=a!==null?a.memoizedProps:i,m=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{m==="input"&&i.type==="radio"&&i.name!=null&&gm(n,i),nl(m,o);var l=nl(m,i);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?jm(n,d):c==="dangerouslySetInnerHTML"?vm(n,d):c==="children"?Xa(n,d):ro(n,c,d,l)}switch(m){case"input":el(n,i);break;case"textarea":fm(n,i);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ta(n,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?ta(n,!!i.multiple,i.defaultValue,!0):ta(n,!!i.multiple,i.multiple?[]:"",!1))}n[or]=i}catch(y){le(t,t.return,y)}}break;case 6:if(ot(s,t),vt(t),r&4){if(t.stateNode===null)throw Error(D(162));n=t.stateNode,i=t.memoizedProps;try{n.nodeValue=i}catch(y){le(t,t.return,y)}}break;case 3:if(ot(s,t),vt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{ar(s.containerInfo)}catch(y){le(t,t.return,y)}break;case 4:ot(s,t),vt(t);break;case 13:ot(s,t),vt(t),n=t.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Lo=ce())),r&4&&rd(t);break;case 22:if(c=a!==null&&a.memoizedState!==null,t.mode&1?(Pe=(l=Pe)||c,ot(s,t),Pe=l):ot(s,t),vt(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(E=t,c=t.child;c!==null;){for(d=E=c;E!==null;){switch(p=E,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ha(4,p,p.return);break;case 1:Js(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,a=p.return;try{s=r,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(y){le(r,a,y)}}break;case 5:Js(p,p.return);break;case 22:if(p.memoizedState!==null){id(d);continue}}h!==null?(h.return=p,E=h):id(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,l?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(m=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,m.style.display=bm("display",o))}catch(y){le(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){le(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ot(s,t),vt(t),r&4&&rd(t);break;case 21:break;default:ot(s,t),vt(t)}}function vt(t){var s=t.flags;if(s&2){try{e:{for(var a=t.return;a!==null;){if(Uu(a)){var r=a;break e}a=a.return}throw Error(D(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(Xa(n,""),r.flags&=-33);var i=ad(t);El(t,i,n);break;case 3:case 4:var o=r.stateNode.containerInfo,m=ad(t);Il(t,m,o);break;default:throw Error(D(161))}}catch(u){le(t,t.return,u)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function lh(t,s,a){E=t,Qu(t)}function Qu(t,s,a){for(var r=(t.mode&1)!==0;E!==null;){var n=E,i=n.child;if(n.tag===22&&r){var o=n.memoizedState!==null||Vr;if(!o){var m=n.alternate,u=m!==null&&m.memoizedState!==null||Pe;m=Vr;var l=Pe;if(Vr=o,(Pe=u)&&!l)for(E=n;E!==null;)o=E,u=o.child,o.tag===22&&o.memoizedState!==null?ld(n):u!==null?(u.return=o,E=u):ld(n);for(;i!==null;)E=i,Qu(i),i=i.sibling;E=n,Vr=m,Pe=l}nd(t)}else n.subtreeFlags&8772&&i!==null?(i.return=n,E=i):nd(t)}}function nd(t){for(;E!==null;){var s=E;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Pe||Xn(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Pe)if(a===null)r.componentDidMount();else{var n=s.elementType===s.type?a.memoizedProps:dt(s.type,a.memoizedProps);r.componentDidUpdate(n,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Vc(s,i,r);break;case 3:var o=s.updateQueue;if(o!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Vc(s,o,a)}break;case 5:var m=s.stateNode;if(a===null&&s.flags&4){a=m;var u=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&a.focus();break;case"img":u.src&&(a.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var l=s.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ar(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Pe||s.flags&512&&Al(s)}catch(p){le(s,s.return,p)}}if(s===t){E=null;break}if(a=s.sibling,a!==null){a.return=s.return,E=a;break}E=s.return}}function id(t){for(;E!==null;){var s=E;if(s===t){E=null;break}var a=s.sibling;if(a!==null){a.return=s.return,E=a;break}E=s.return}}function ld(t){for(;E!==null;){var s=E;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Xn(4,s)}catch(u){le(s,a,u)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var n=s.return;try{r.componentDidMount()}catch(u){le(s,n,u)}}var i=s.return;try{Al(s)}catch(u){le(s,i,u)}break;case 5:var o=s.return;try{Al(s)}catch(u){le(s,o,u)}}}catch(u){le(s,s.return,u)}if(s===t){E=null;break}var m=s.sibling;if(m!==null){m.return=s.return,E=m;break}E=s.return}}var oh=Math.ceil,An=Gt.ReactCurrentDispatcher,$o=Gt.ReactCurrentOwner,at=Gt.ReactCurrentBatchConfig,Y=0,fe=null,me=null,Ne=0,We=0,Xs=ps(0),pe=0,xr=null,Ds=0,ei=0,Oo=0,Ya=null,Le=null,Lo=0,ha=1/0,Tt=null,In=!1,$l=null,ns=null,Wr=!1,Jt=null,En=0,Qa=0,Ol=null,nn=-1,ln=0;function Ie(){return Y&6?ce():nn!==-1?nn:nn=ce()}function is(t){return t.mode&1?Y&2&&Ne!==0?Ne&-Ne:q0.transition!==null?(ln===0&&(ln=Am()),ln):(t=Q,t!==0||(t=window.event,t=t===void 0?16:zm(t.type)),t):1}function ht(t,s,a,r){if(50<Qa)throw Qa=0,Ol=null,Error(D(185));vr(t,a,r),(!(Y&2)||t!==fe)&&(t===fe&&(!(Y&2)&&(ei|=a),pe===4&&Zt(t,Ne)),Ge(t,r),a===1&&Y===0&&!(s.mode&1)&&(ha=ce()+500,Zn&&xs()))}function Ge(t,s){var a=t.callbackNode;qx(t,s);var r=yn(t,t===fe?Ne:0);if(r===0)a!==null&&gc(a),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(a!=null&&gc(a),s===1)t.tag===0?W0(od.bind(null,t)):nu(od.bind(null,t)),z0(function(){!(Y&6)&&xs()}),a=null;else{switch(Im(r)){case 1:a=co;break;case 4:a=Mm;break;case 16:a=fn;break;case 536870912:a=Dm;break;default:a=fn}a=ap(a,Zu.bind(null,t))}t.callbackPriority=s,t.callbackNode=a}}function Zu(t,s){if(nn=-1,ln=0,Y&6)throw Error(D(327));var a=t.callbackNode;if(ia()&&t.callbackNode!==a)return null;var r=yn(t,t===fe?Ne:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=$n(t,r);else{s=r;var n=Y;Y|=2;var i=Ju();(fe!==t||Ne!==s)&&(Tt=null,ha=ce()+500,Cs(t,s));do try{mh();break}catch(m){Ku(t,m)}while(1);wo(),An.current=i,Y=n,me!==null?s=0:(fe=null,Ne=0,s=pe)}if(s!==0){if(s===2&&(n=dl(t),n!==0&&(r=n,s=Ll(t,n))),s===1)throw a=xr,Cs(t,0),Zt(t,r),Ge(t,ce()),a;if(s===6)Zt(t,r);else{if(n=t.current.alternate,!(r&30)&&!ch(n)&&(s=$n(t,r),s===2&&(i=dl(t),i!==0&&(r=i,s=Ll(t,i))),s===1))throw a=xr,Cs(t,0),Zt(t,r),Ge(t,ce()),a;switch(t.finishedWork=n,t.finishedLanes=r,s){case 0:case 1:throw Error(D(345));case 2:vs(t,Le,Tt);break;case 3:if(Zt(t,r),(r&130023424)===r&&(s=Lo+500-ce(),10<s)){if(yn(t,0)!==0)break;if(n=t.suspendedLanes,(n&r)!==r){Ie(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=yl(vs.bind(null,t,Le,Tt),s);break}vs(t,Le,Tt);break;case 4:if(Zt(t,r),(r&4194240)===r)break;for(s=t.eventTimes,n=-1;0<r;){var o=31-xt(r);i=1<<o,o=s[o],o>n&&(n=o),r&=~i}if(r=n,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oh(r/1960))-r,10<r){t.timeoutHandle=yl(vs.bind(null,t,Le,Tt),r);break}vs(t,Le,Tt);break;case 5:vs(t,Le,Tt);break;default:throw Error(D(329))}}}return Ge(t,ce()),t.callbackNode===a?Zu.bind(null,t):null}function Ll(t,s){var a=Ya;return t.current.memoizedState.isDehydrated&&(Cs(t,s).flags|=256),t=$n(t,s),t!==2&&(s=Le,Le=a,s!==null&&Fl(s)),t}function Fl(t){Le===null?Le=t:Le.push.apply(Le,t)}function ch(t){for(var s=t;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var r=0;r<a.length;r++){var n=a[r],i=n.getSnapshot;n=n.value;try{if(!gt(i(),n))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zt(t,s){for(s&=~Oo,s&=~ei,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var a=31-xt(s),r=1<<a;t[a]=-1,s&=~r}}function od(t){if(Y&6)throw Error(D(327));ia();var s=yn(t,0);if(!(s&1))return Ge(t,ce()),null;var a=$n(t,s);if(t.tag!==0&&a===2){var r=dl(t);r!==0&&(s=r,a=Ll(t,r))}if(a===1)throw a=xr,Cs(t,0),Zt(t,s),Ge(t,ce()),a;if(a===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,vs(t,Le,Tt),Ge(t,ce()),null}function Fo(t,s){var a=Y;Y|=1;try{return t(s)}finally{Y=a,Y===0&&(ha=ce()+500,Zn&&xs())}}function As(t){Jt!==null&&Jt.tag===0&&!(Y&6)&&ia();var s=Y;Y|=1;var a=at.transition,r=Q;try{if(at.transition=null,Q=1,t)return t()}finally{Q=r,at.transition=a,Y=s,!(Y&6)&&xs()}}function zo(){We=Xs.current,ee(Xs)}function Cs(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,F0(a)),me!==null)for(a=me.return;a!==null;){var r=a;switch(bo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wn();break;case 3:pa(),ee(ze),ee(Te),_o();break;case 5:To(r);break;case 4:pa();break;case 13:ee(se);break;case 19:ee(se);break;case 10:So(r.type._context);break;case 22:case 23:zo()}a=a.return}if(fe=t,me=t=ls(t.current,null),Ne=We=s,pe=0,xr=null,Oo=ei=Ds=0,Le=Ya=null,Ns!==null){for(s=0;s<Ns.length;s++)if(a=Ns[s],r=a.interleaved,r!==null){a.interleaved=null;var n=r.next,i=a.pending;if(i!==null){var o=i.next;i.next=n,r.next=o}a.pending=r}Ns=null}return t}function Ku(t,s){do{var a=me;try{if(wo(),sn.current=Dn,Mn){for(var r=ae.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Mn=!1}if(Ms=0,ge=ue=ae=null,Ua=!1,mr=0,$o.current=null,a===null||a.return===null){pe=1,xr=s,me=null;break}e:{var i=t,o=a.return,m=a,u=s;if(s=Ne,m.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=m,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Qc(o);if(h!==null){h.flags&=-257,Zc(h,o,m,i,s),h.mode&1&&Yc(i,l,s),s=h,u=l;var g=s.updateQueue;if(g===null){var y=new Set;y.add(u),s.updateQueue=y}else g.add(u);break e}else{if(!(s&1)){Yc(i,l,s),Bo();break e}u=Error(D(426))}}else if(te&&m.mode&1){var N=Qc(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Zc(N,o,m,i,s),jo(xa(u,m));break e}}i=u=xa(u,m),pe!==4&&(pe=2),Ya===null?Ya=[i]:Ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var f=Iu(i,u,s);Gc(i,f);break e;case 1:m=u;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ns===null||!ns.has(v)))){i.flags|=65536,s&=-s,i.lanes|=s;var C=Eu(i,m,s);Gc(i,C);break e}}i=i.return}while(i!==null)}ep(a)}catch(T){s=T,me===a&&a!==null&&(me=a=a.return);continue}break}while(1)}function Ju(){var t=An.current;return An.current=Dn,t===null?Dn:t}function Bo(){(pe===0||pe===3||pe===2)&&(pe=4),fe===null||!(Ds&268435455)&&!(ei&268435455)||Zt(fe,Ne)}function $n(t,s){var a=Y;Y|=2;var r=Ju();(fe!==t||Ne!==s)&&(Tt=null,Cs(t,s));do try{dh();break}catch(n){Ku(t,n)}while(1);if(wo(),Y=a,An.current=r,me!==null)throw Error(D(261));return fe=null,Ne=0,pe}function dh(){for(;me!==null;)Xu(me)}function mh(){for(;me!==null&&!$x();)Xu(me)}function Xu(t){var s=sp(t.alternate,t,We);t.memoizedProps=t.pendingProps,s===null?ep(t):me=s,$o.current=null}function ep(t){var s=t;do{var a=s.alternate;if(t=s.return,s.flags&32768){if(a=rh(a,s),a!==null){a.flags&=32767,me=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,me=null;return}}else if(a=ah(a,s,We),a!==null){me=a;return}if(s=s.sibling,s!==null){me=s;return}me=s=t}while(s!==null);pe===0&&(pe=5)}function vs(t,s,a){var r=Q,n=at.transition;try{at.transition=null,Q=1,uh(t,s,a,r)}finally{at.transition=n,Q=r}return null}function uh(t,s,a,r){do ia();while(Jt!==null);if(Y&6)throw Error(D(327));a=t.finishedWork;var n=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=a.lanes|a.childLanes;if(Ux(t,i),t===fe&&(me=fe=null,Ne=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Wr||(Wr=!0,ap(fn,function(){return ia(),null})),i=(a.flags&15990)!==0,a.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=Q;Q=1;var m=Y;Y|=4,$o.current=null,ih(t,a),Yu(a,t),D0(gl),vn=!!hl,gl=hl=null,t.current=a,lh(a),Ox(),Y=m,Q=o,at.transition=i}else t.current=a;if(Wr&&(Wr=!1,Jt=t,En=n),i=t.pendingLanes,i===0&&(ns=null),zx(a.stateNode),Ge(t,ce()),s!==null)for(r=t.onRecoverableError,a=0;a<s.length;a++)n=s[a],r(n.value,{componentStack:n.stack,digest:n.digest});if(In)throw In=!1,t=$l,$l=null,t;return En&1&&t.tag!==0&&ia(),i=t.pendingLanes,i&1?t===Ol?Qa++:(Qa=0,Ol=t):Qa=0,xs(),null}function ia(){if(Jt!==null){var t=Im(En),s=at.transition,a=Q;try{if(at.transition=null,Q=16>t?16:t,Jt===null)var r=!1;else{if(t=Jt,Jt=null,En=0,Y&6)throw Error(D(331));var n=Y;for(Y|=4,E=t.current;E!==null;){var i=E,o=i.child;if(E.flags&16){var m=i.deletions;if(m!==null){for(var u=0;u<m.length;u++){var l=m[u];for(E=l;E!==null;){var c=E;switch(c.tag){case 0:case 11:case 15:Ha(8,c,i)}var d=c.child;if(d!==null)d.return=c,E=d;else for(;E!==null;){c=E;var p=c.sibling,h=c.return;if(qu(c),c===l){E=null;break}if(p!==null){p.return=h,E=p;break}E=h}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}E=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,E=o;else e:for(;E!==null;){if(i=E,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ha(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,E=f;break e}E=i.return}}var x=t.current;for(E=x;E!==null;){o=E;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,E=v;else e:for(o=x;E!==null;){if(m=E,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Xn(9,m)}}catch(T){le(m,m.return,T)}if(m===o){E=null;break e}var C=m.sibling;if(C!==null){C.return=m.return,E=C;break e}E=m.return}}if(Y=n,xs(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(qn,t)}catch{}r=!0}return r}finally{Q=a,at.transition=s}}return!1}function cd(t,s,a){s=xa(a,s),s=Iu(t,s,1),t=rs(t,s,1),s=Ie(),t!==null&&(vr(t,1,s),Ge(t,s))}function le(t,s,a){if(t.tag===3)cd(t,t,a);else for(;s!==null;){if(s.tag===3){cd(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){t=xa(a,t),t=Eu(s,t,1),s=rs(s,t,1),t=Ie(),s!==null&&(vr(s,1,t),Ge(s,t));break}}s=s.return}}function ph(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),s=Ie(),t.pingedLanes|=t.suspendedLanes&a,fe===t&&(Ne&a)===a&&(pe===4||pe===3&&(Ne&130023424)===Ne&&500>ce()-Lo?Cs(t,0):Oo|=a),Ge(t,s)}function tp(t,s){s===0&&(t.mode&1?(s=Ir,Ir<<=1,!(Ir&130023424)&&(Ir=4194304)):s=1);var a=Ie();t=Lt(t,s),t!==null&&(vr(t,s,a),Ge(t,a))}function xh(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),tp(t,a)}function hh(t,s){var a=0;switch(t.tag){case 13:var r=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(s),tp(t,a)}var sp;sp=function(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps||ze.current)Fe=!0;else{if(!(t.lanes&a)&&!(s.flags&128))return Fe=!1,sh(t,s,a);Fe=!!(t.flags&131072)}else Fe=!1,te&&s.flags&1048576&&iu(s,kn,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;rn(t,s),t=s.pendingProps;var n=da(s,Te.current);na(s,a),n=Mo(null,s,r,t,n,a);var i=Do();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Be(r)?(i=!0,Sn(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,ko(s),n.updater=Jn,s.stateNode=n,n._reactInternals=s,Cl(s,r,t,a),s=Tl(null,s,r,!0,i,a)):(s.tag=0,te&&i&&vo(s),De(null,s,n,a),s=s.child),s;case 16:r=s.elementType;e:{switch(rn(t,s),t=s.pendingProps,n=r._init,r=n(r._payload),s.type=r,n=s.tag=fh(r),t=dt(r,t),n){case 0:s=Pl(null,s,r,t,a);break e;case 1:s=Xc(null,s,r,t,a);break e;case 11:s=Kc(null,s,r,t,a);break e;case 14:s=Jc(null,s,r,dt(r.type,t),a);break e}throw Error(D(306,r,""))}return s;case 0:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:dt(r,n),Pl(t,s,r,n,a);case 1:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:dt(r,n),Xc(t,s,r,n,a);case 3:e:{if(Fu(s),t===null)throw Error(D(387));r=s.pendingProps,i=s.memoizedState,n=i.element,uu(t,s),_n(s,r,null,a);var o=s.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=xa(Error(D(423)),s),s=ed(t,s,r,a,n);break e}else if(r!==n){n=xa(Error(D(424)),s),s=ed(t,s,r,a,n);break e}else for(qe=as(s.stateNode.containerInfo.firstChild),He=s,te=!0,ut=null,a=du(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ma(),r===n){s=Ft(t,s,a);break e}De(t,s,r,a)}s=s.child}return s;case 5:return pu(s),t===null&&Nl(s),r=s.type,n=s.pendingProps,i=t!==null?t.memoizedProps:null,o=n.children,fl(r,n)?o=null:i!==null&&fl(r,i)&&(s.flags|=32),Lu(t,s),De(t,s,o,a),s.child;case 6:return t===null&&Nl(s),null;case 13:return zu(t,s,a);case 4:return Po(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=ua(s,null,r,a):De(t,s,r,a),s.child;case 11:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:dt(r,n),Kc(t,s,r,n,a);case 7:return De(t,s,s.pendingProps,a),s.child;case 8:return De(t,s,s.pendingProps.children,a),s.child;case 12:return De(t,s,s.pendingProps.children,a),s.child;case 10:e:{if(r=s.type._context,n=s.pendingProps,i=s.memoizedProps,o=n.value,K(Pn,r._currentValue),r._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===n.children&&!ze.current){s=Ft(t,s,a);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var m=i.dependencies;if(m!==null){o=i.child;for(var u=m.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Dt(-1,a&-a),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),wl(i.return,a,s),m.lanes|=a;break}u=u.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=a,m=o.alternate,m!==null&&(m.lanes|=a),wl(o,a,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}De(t,s,n.children,a),s=s.child}return s;case 9:return n=s.type,r=s.pendingProps.children,na(s,a),n=it(n),r=r(n),s.flags|=1,De(t,s,r,a),s.child;case 14:return r=s.type,n=dt(r,s.pendingProps),n=dt(r.type,n),Jc(t,s,r,n,a);case 15:return $u(t,s,s.type,s.pendingProps,a);case 17:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:dt(r,n),rn(t,s),s.tag=1,Be(r)?(t=!0,Sn(s)):t=!1,na(s,a),Au(s,r,n),Cl(s,r,n,a),Tl(null,s,r,!0,t,a);case 19:return Bu(t,s,a);case 22:return Ou(t,s,a)}throw Error(D(156,s.tag))};function ap(t,s){return Rm(t,s)}function gh(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,s,a,r){return new gh(t,s,a,r)}function Go(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fh(t){if(typeof t=="function")return Go(t)?1:0;if(t!=null){if(t=t.$$typeof,t===io)return 11;if(t===lo)return 14}return 2}function ls(t,s){var a=t.alternate;return a===null?(a=st(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function on(t,s,a,r,n,i){var o=2;if(r=t,typeof t=="function")Go(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vs:return ks(a.children,n,i,s);case no:o=8,n|=8;break;case Qi:return t=st(12,a,s,n|2),t.elementType=Qi,t.lanes=i,t;case Zi:return t=st(13,a,s,n),t.elementType=Zi,t.lanes=i,t;case Ki:return t=st(19,a,s,n),t.elementType=Ki,t.lanes=i,t;case pm:return ti(a,n,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mm:o=10;break e;case um:o=9;break e;case io:o=11;break e;case lo:o=14;break e;case qt:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return s=st(o,a,s,n),s.elementType=t,s.type=r,s.lanes=i,s}function ks(t,s,a,r){return t=st(7,t,r,s),t.lanes=a,t}function ti(t,s,a,r){return t=st(22,t,r,s),t.elementType=pm,t.lanes=a,t.stateNode={isHidden:!1},t}function Oi(t,s,a){return t=st(6,t,null,s),t.lanes=a,t}function Li(t,s,a){return s=st(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function yh(t,s,a,r,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Vo(t,s,a,r,n,i,o,m,u){return t=new yh(t,s,a,m,u),s===1?(s=1,i===!0&&(s|=8)):s=0,i=st(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(i),t}function vh(t,s,a){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:s,implementation:a}}function rp(t){if(!t)return cs;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(D(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Be(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(D(171))}if(t.tag===1){var a=t.type;if(Be(a))return ru(t,a,s)}return s}function np(t,s,a,r,n,i,o,m,u){return t=Vo(a,r,!0,t,n,i,o,m,u),t.context=rp(null),a=t.current,r=Ie(),n=is(a),i=Dt(r,n),i.callback=s??null,rs(a,i,n),t.current.lanes=n,vr(t,n,r),Ge(t,r),t}function si(t,s,a,r){var n=s.current,i=Ie(),o=is(n);return a=rp(a),s.context===null?s.context=a:s.pendingContext=a,s=Dt(i,o),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=rs(n,s,o),t!==null&&(ht(t,n,o,i),tn(t,n,o)),o}function On(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dd(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Wo(t,s){dd(t,s),(t=t.alternate)&&dd(t,s)}function bh(){return null}var ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function qo(t){this._internalRoot=t}ai.prototype.render=qo.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(D(409));si(t,s,null,null)};ai.prototype.unmount=qo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;As(function(){si(null,t,null,null)}),s[Ot]=null}};function ai(t){this._internalRoot=t}ai.prototype.unstable_scheduleHydration=function(t){if(t){var s=Om();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Qt.length&&s!==0&&s<Qt[a].priority;a++);Qt.splice(a,0,t),a===0&&Fm(t)}};function Uo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function md(){}function jh(t,s,a,r,n){if(n){if(typeof r=="function"){var i=r;r=function(){var l=On(o);i.call(l)}}var o=np(s,r,t,0,null,!1,!1,"",md);return t._reactRootContainer=o,t[Ot]=o.current,ir(t.nodeType===8?t.parentNode:t),As(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof r=="function"){var m=r;r=function(){var l=On(u);m.call(l)}}var u=Vo(t,0,!1,null,null,!1,!1,"",md);return t._reactRootContainer=u,t[Ot]=u.current,ir(t.nodeType===8?t.parentNode:t),As(function(){si(s,u,a,r)}),u}function ni(t,s,a,r,n){var i=a._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var m=n;n=function(){var u=On(o);m.call(u)}}si(s,o,t,n)}else o=jh(a,s,t,n,r);return On(o)}Em=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var a=Fa(s.pendingLanes);a!==0&&(mo(s,a|1),Ge(s,ce()),!(Y&6)&&(ha=ce()+500,xs()))}break;case 13:As(function(){var r=Lt(t,1);if(r!==null){var n=Ie();ht(r,t,1,n)}}),Wo(t,1)}};uo=function(t){if(t.tag===13){var s=Lt(t,134217728);if(s!==null){var a=Ie();ht(s,t,134217728,a)}Wo(t,134217728)}};$m=function(t){if(t.tag===13){var s=is(t),a=Lt(t,s);if(a!==null){var r=Ie();ht(a,t,s,r)}Wo(t,s)}};Om=function(){return Q};Lm=function(t,s){var a=Q;try{return Q=t,s()}finally{Q=a}};ll=function(t,s,a){switch(s){case"input":if(el(t,a),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var n=Qn(r);if(!n)throw Error(D(90));hm(r),el(r,n)}}}break;case"textarea":fm(t,a);break;case"select":s=a.value,s!=null&&ta(t,!!a.multiple,s,!1)}};Sm=Fo;Cm=As;var Nh={usingClientEntryPoint:!1,Events:[jr,Hs,Qn,Nm,wm,Fo]},_a={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wh={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tm(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||bh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qr.isDisabled&&qr.supportsFiber)try{qn=qr.inject(wh),wt=qr}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nh;Ke.createPortal=function(t,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uo(s))throw Error(D(200));return vh(t,s,null,a)};Ke.createRoot=function(t,s){if(!Uo(t))throw Error(D(299));var a=!1,r="",n=ip;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Vo(t,1,!1,null,null,a,!1,r,n),t[Ot]=s.current,ir(t.nodeType===8?t.parentNode:t),new qo(s)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Tm(s),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return As(t)};Ke.hydrate=function(t,s,a){if(!ri(s))throw Error(D(200));return ni(null,t,s,!0,a)};Ke.hydrateRoot=function(t,s,a){if(!Uo(t))throw Error(D(405));var r=a!=null&&a.hydratedSources||null,n=!1,i="",o=ip;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onRecoverableError!==void 0&&(o=a.onRecoverableError)),s=np(s,null,t,1,a??null,n,!1,i,o),t[Ot]=s.current,ir(t),r)for(t=0;t<r.length;t++)a=r[t],n=a._getVersion,n=n(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,n]:s.mutableSourceEagerHydrationData.push(a,n);return new ai(s)};Ke.render=function(t,s,a){if(!ri(s))throw Error(D(200));return ni(null,t,s,!1,a)};Ke.unmountComponentAtNode=function(t){if(!ri(t))throw Error(D(40));return t._reactRootContainer?(As(function(){ni(null,null,t,!1,function(){t._reactRootContainer=null,t[Ot]=null})}),!0):!1};Ke.unstable_batchedUpdates=Fo;Ke.unstable_renderSubtreeIntoContainer=function(t,s,a,r){if(!ri(a))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return ni(t,s,a,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lp)}catch(t){console.error(t)}}lp(),lm.exports=Ke;var Sh=lm.exports,op,ud=Sh;op=ud.createRoot,ud.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hr(){return hr=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},hr.apply(this,arguments)}var Xt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xt||(Xt={}));const pd="popstate";function Ch(t){t===void 0&&(t={});function s(n,i){let{pathname:o="/",search:m="",hash:u=""}=$s(n.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zl("",{pathname:o,search:m,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(n,i){let o=n.document.querySelector("base"),m="";if(o&&o.getAttribute("href")){let u=n.location.href,l=u.indexOf("#");m=l===-1?u:u.slice(0,l)}return m+"#"+(typeof i=="string"?i:cp(i))}function r(n,i){Ho(n.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Ph(s,a,r,t)}function xe(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Ho(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function kh(){return Math.random().toString(36).substr(2,8)}function xd(t,s){return{usr:t.state,key:t.key,idx:s}}function zl(t,s,a,r){return a===void 0&&(a=null),hr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?$s(s):s,{state:a,key:s&&s.key||r||kh()})}function cp(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function $s(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function Ph(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:i=!1}=r,o=n.history,m=Xt.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(hr({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function d(){m=Xt.Pop;let N=c(),f=N==null?null:N-l;l=N,u&&u({action:m,location:y.location,delta:f})}function p(N,f){m=Xt.Push;let x=zl(y.location,N,f);a&&a(x,N),l=c()+1;let v=xd(x,l),C=y.createHref(x);try{o.pushState(v,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(C)}i&&u&&u({action:m,location:y.location,delta:1})}function h(N,f){m=Xt.Replace;let x=zl(y.location,N,f);a&&a(x,N),l=c();let v=xd(x,l),C=y.createHref(x);o.replaceState(v,"",C),i&&u&&u({action:m,location:y.location,delta:0})}function g(N){let f=n.location.origin!=="null"?n.location.origin:n.location.href,x=typeof N=="string"?N:cp(N);return x=x.replace(/ $/,"%20"),xe(f,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,f)}let y={get action(){return m},get location(){return t(n,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(pd,d),u=N,()=>{n.removeEventListener(pd,d),u=null}},createHref(N){return s(n,N)},createURL:g,encodeLocation(N){let f=g(N);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:h,go(N){return o.go(N)}};return y}var hd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hd||(hd={}));function Th(t,s,a){return a===void 0&&(a="/"),_h(t,s,a,!1)}function _h(t,s,a,r){let n=typeof s=="string"?$s(s):s,i=up(n.pathname||"/",a);if(i==null)return null;let o=dp(t);Rh(o);let m=null;for(let u=0;m==null&&u<o.length;++u){let l=Bh(i);m=Fh(o[u],l,r)}return m}function dp(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(i,o,m)=>{let u={relativePath:m===void 0?i.path||"":m,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Ps([r,u.relativePath]),c=a.concat(u);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),dp(i.children,s,c,l)),!(i.path==null&&!i.index)&&s.push({path:l,score:Oh(l,i.index),routesMeta:c})};return t.forEach((i,o)=>{var m;if(i.path===""||!((m=i.path)!=null&&m.includes("?")))n(i,o);else for(let u of mp(i.path))n(i,o,u)}),s}function mp(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let o=mp(r.join("/")),m=[];return m.push(...o.map(u=>u===""?i:[i,u].join("/"))),n&&m.push(...o),m.map(u=>t.startsWith("/")&&u===""?"/":u)}function Rh(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:Lh(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const Mh=/^:[\w-]+$/,Dh=3,Ah=2,Ih=1,Eh=10,$h=-2,gd=t=>t==="*";function Oh(t,s){let a=t.split("/"),r=a.length;return a.some(gd)&&(r+=$h),s&&(r+=Ah),a.filter(n=>!gd(n)).reduce((n,i)=>n+(Mh.test(i)?Dh:i===""?Ih:Eh),r)}function Lh(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function Fh(t,s,a){a===void 0&&(a=!1);let{routesMeta:r}=t,n={},i="/",o=[];for(let m=0;m<r.length;++m){let u=r[m],l=m===r.length-1,c=i==="/"?s:s.slice(i.length)||"/",d=fd({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),p=u.route;if(!d&&l&&a&&!r[r.length-1].route.index&&(d=fd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:Ps([i,d.pathname]),pathnameBase:Hh(Ps([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Ps([i,d.pathnameBase]))}return o}function fd(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=zh(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),m=n.slice(1);return{params:r.reduce((l,c,d)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let y=m[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=m[d];return h&&!g?l[p]=void 0:l[p]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function zh(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),Ho(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,m,u)=>(r.push({paramName:m,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function Bh(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Ho(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function up(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function Gh(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?$s(t):t;return{pathname:a?a.startsWith("/")?a:Vh(a,s):s,search:Yh(r),hash:Qh(n)}}function Vh(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Fi(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wh(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function qh(t,s){let a=Wh(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Uh(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=$s(t):(n=hr({},t),xe(!n.pathname||!n.pathname.includes("?"),Fi("?","pathname","search",n)),xe(!n.pathname||!n.pathname.includes("#"),Fi("#","pathname","hash",n)),xe(!n.search||!n.search.includes("#"),Fi("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,m;if(o==null)m=a;else{let d=s.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;n.pathname=p.join("/")}m=d>=0?s[d]:"/"}let u=Gh(n,m),l=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),Hh=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yh=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pp=["post","put","patch","delete"];new Set(pp);const Kh=["get",...pp];new Set(Kh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gr(){return gr=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},gr.apply(this,arguments)}const Yo=j.createContext(null),Jh=j.createContext(null),ii=j.createContext(null),li=j.createContext(null),hs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),xp=j.createContext(null);function oi(){return j.useContext(li)!=null}function ba(){return oi()||xe(!1),j.useContext(li).location}function hp(t){j.useContext(ii).static||j.useLayoutEffect(t)}function Z(){let{isDataRoute:t}=j.useContext(hs);return t?pg():Xh()}function Xh(){oi()||xe(!1);let t=j.useContext(Yo),{basename:s,future:a,navigator:r}=j.useContext(ii),{matches:n}=j.useContext(hs),{pathname:i}=ba(),o=JSON.stringify(qh(n,a.v7_relativeSplatPath)),m=j.useRef(!1);return hp(()=>{m.current=!0}),j.useCallback(function(l,c){if(c===void 0&&(c={}),!m.current)return;if(typeof l=="number"){r.go(l);return}let d=Uh(l,JSON.parse(o),i,c.relative==="path");t==null&&s!=="/"&&(d.pathname=d.pathname==="/"?s:Ps([s,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[s,r,o,i,t])}const eg=j.createContext(null);function tg(t){let s=j.useContext(hs).outlet;return s&&j.createElement(eg.Provider,{value:t},s)}function gp(){let{matches:t}=j.useContext(hs),s=t[t.length-1];return s?s.params:{}}function sg(t,s){return ag(t,s)}function ag(t,s,a,r){oi()||xe(!1);let{navigator:n}=j.useContext(ii),{matches:i}=j.useContext(hs),o=i[i.length-1],m=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=ba(),c;if(s){var d;let N=typeof s=="string"?$s(s):s;u==="/"||(d=N.pathname)!=null&&d.startsWith(u)||xe(!1),c=N}else c=l;let p=c.pathname||"/",h=p;if(u!=="/"){let N=u.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let g=Th(t,{pathname:h}),y=og(g&&g.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Ps([u,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Ps([u,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,a,r);return s&&y?j.createElement(li.Provider,{value:{location:gr({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xt.Pop}},y):y}function rg(){let t=ug(),s=Zh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},s),a?j.createElement("pre",{style:n},a):null,i)}const ng=j.createElement(rg,null);class ig extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?j.createElement(hs.Provider,{value:this.props.routeContext},j.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lg(t){let{routeContext:s,match:a,children:r}=t,n=j.useContext(Yo);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),j.createElement(hs.Provider,{value:s},r)}function og(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var i;if(!a)return null;if(a.errors)t=a.matches;else if((i=r)!=null&&i.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let o=t,m=(n=a)==null?void 0:n.errors;if(m!=null){let c=o.findIndex(d=>d.route.id&&(m==null?void 0:m[d.route.id])!==void 0);c>=0||xe(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(a&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:p,errors:h}=a,g=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,p)=>{let h,g=!1,y=null,N=null;a&&(h=m&&d.route.id?m[d.route.id]:void 0,y=d.route.errorElement||ng,u&&(l<0&&p===0?(xg("route-fallback",!1),g=!0,N=null):l===p&&(g=!0,N=d.route.hydrateFallbackElement||null)));let f=s.concat(o.slice(0,p+1)),x=()=>{let v;return h?v=y:g?v=N:d.route.Component?v=j.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,j.createElement(lg,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:a!=null},children:v})};return a&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(ig,{location:a.location,revalidation:a.revalidation,component:y,error:h,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var fp=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fp||{}),Ln=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ln||{});function cg(t){let s=j.useContext(Yo);return s||xe(!1),s}function dg(t){let s=j.useContext(Jh);return s||xe(!1),s}function mg(t){let s=j.useContext(hs);return s||xe(!1),s}function yp(t){let s=mg(),a=s.matches[s.matches.length-1];return a.route.id||xe(!1),a.route.id}function ug(){var t;let s=j.useContext(xp),a=dg(Ln.UseRouteError),r=yp(Ln.UseRouteError);return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function pg(){let{router:t}=cg(fp.UseNavigateStable),s=yp(Ln.UseNavigateStable),a=j.useRef(!1);return hp(()=>{a.current=!0}),j.useCallback(function(n,i){i===void 0&&(i={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,gr({fromRouteId:s},i)))},[t,s])}const yd={};function xg(t,s,a){!s&&!yd[t]&&(yd[t]=!0)}function hg(t,s){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function gg(t){return tg(t.context)}function G(t){xe(!1)}function fg(t){let{basename:s="/",children:a=null,location:r,navigationType:n=Xt.Pop,navigator:i,static:o=!1,future:m}=t;oi()&&xe(!1);let u=s.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:u,navigator:i,static:o,future:gr({v7_relativeSplatPath:!1},m)}),[u,m,i,o]);typeof r=="string"&&(r=$s(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:g="default"}=r,y=j.useMemo(()=>{let N=up(c,u);return N==null?null:{location:{pathname:N,search:d,hash:p,state:h,key:g},navigationType:n}},[u,c,d,p,h,g,n]);return y==null?null:j.createElement(ii.Provider,{value:l},j.createElement(li.Provider,{children:a,value:y}))}function yg(t){let{children:s,location:a}=t;return sg(Bl(s),a)}new Promise(()=>{});function Bl(t,s){s===void 0&&(s=[]);let a=[];return j.Children.forEach(t,(r,n)=>{if(!j.isValidElement(r))return;let i=[...s,n];if(r.type===j.Fragment){a.push.apply(a,Bl(r.props.children,i));return}r.type!==G&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bl(r.props.children,i)),a.push(o)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,a)=>{let r=t[a];return s.concat(Array.isArray(r)?r.map(n=>[a,n]):[[a,r]])},[]))}function vg(t,s){let a=Gl(t);return s&&s.forEach((r,n)=>{a.has(n)||s.getAll(n).forEach(i=>{a.append(n,i)})}),a}const bg="6";try{window.__reactRouterVersion=bg}catch{}const jg="startTransition",vd=px[jg];function Ng(t){let{basename:s,children:a,future:r,window:n}=t,i=j.useRef();i.current==null&&(i.current=Ch({window:n,v5Compat:!0}));let o=i.current,[m,u]=j.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=j.useCallback(d=>{l&&vd?vd(()=>u(d)):u(d)},[u,l]);return j.useLayoutEffect(()=>o.listen(c),[o,c]),j.useEffect(()=>hg(r),[r]),j.createElement(fg,{basename:s,children:a,location:m.location,navigationType:m.action,navigator:o,future:r})}var bd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bd||(bd={}));var jd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jd||(jd={}));function vp(t){let s=j.useRef(Gl(t)),a=j.useRef(!1),r=ba(),n=j.useMemo(()=>vg(r.search,a.current?null:s.current),[r.search]),i=Z(),o=j.useCallback((m,u)=>{const l=Gl(typeof m=="function"?m(n):m);a.current=!0,i("?"+l,u)},[i,n]);return[n,o]}const wg={data:null,loading:!1,error:null};function Sg(t,s){switch(s.type){case"SET_LOADING":return{...t,loading:s.payload};case"SET_DATA":return{...t,data:s.payload,loading:!1,error:null};case"SET_ERROR":return{...t,error:s.payload,loading:!1};case"CLEAR_ERROR":return{...t,error:null};default:return t}}const bp=j.createContext(void 0);function Cg({children:t}){const[s,a]=j.useReducer(Sg,wg),r=j.useCallback(u=>{a({type:"SET_DATA",payload:u})},[]),n=j.useCallback(u=>{a({type:"SET_LOADING",payload:u})},[]),i=j.useCallback(u=>{a({type:"SET_ERROR",payload:u})},[]),o=j.useCallback(()=>{a({type:"CLEAR_ERROR"})},[]),m={state:s,dispatch:a,setData:r,setLoading:n,setError:i,clearError:o};return e.jsx(bp.Provider,{value:m,children:t})}function kg(){const t=j.useContext(bp);if(t===void 0)throw new Error("useDashboard must be used within a DashboardProvider");return t}function Nd(t,s){try{if(typeof window>"u")return s;const a=window.localStorage.getItem(t);return a===null?s:JSON.parse(a)}catch(a){return console.warn(`Error reading from localStorage key "${t}":`,a),s}}function Pg(t,s){try{return typeof window>"u"?!1:(window.localStorage.setItem(t,JSON.stringify(s)),!0)}catch(a){return console.warn(`Error writing to localStorage key "${t}":`,a),!1}}function Tg(t){try{return typeof window>"u"?!1:(window.localStorage.removeItem(t),!0)}catch(s){return console.warn(`Error removing from localStorage key "${t}":`,s),!1}}function Fn(t,s){const[a,r]=j.useState(()=>Nd(t,s)),n=j.useRef(t);j.useEffect(()=>{n.current!==t&&(n.current=t,r(Nd(t,s)))},[t,s]);const i=j.useCallback(m=>{try{const u=m instanceof Function?m(a):m;r(u),Pg(t,u),window.dispatchEvent(new CustomEvent("localStorage-change",{detail:{key:t,value:u}}))}catch(u){console.warn(`Error setting localStorage key "${t}":`,u)}},[t,a]),o=j.useCallback(()=>{try{r(s),Tg(t),window.dispatchEvent(new CustomEvent("localStorage-change",{detail:{key:t,value:void 0}}))}catch(m){console.warn(`Error removing localStorage key "${t}":`,m)}},[t,s]);return j.useEffect(()=>{const m=l=>{if(l.key===t&&l.newValue!==null)try{const c=JSON.parse(l.newValue);r(c)}catch{r(l.newValue)}else l.key===t&&l.newValue===null&&r(s)},u=l=>{l.detail.key===t&&(l.detail.value!==void 0?r(l.detail.value):r(s))};return window.addEventListener("storage",m),window.addEventListener("localStorage-change",u),()=>{window.removeEventListener("storage",m),window.removeEventListener("localStorage-change",u)}},[t,s]),[a,i,o]}function _g(t,s=!1){const[a,r,n]=Fn(t,s),i=j.useCallback(()=>{r(m=>!m)},[r]),o=j.useCallback(m=>{r(m)},[r]);return[a,o,i,n]}function wd(t,s=[]){const[a,r,n]=Fn(t,s),i=j.useCallback(l=>{r(c=>[...c,l])},[r]),o=j.useCallback(l=>{r(c=>c.filter((d,p)=>p!==l))},[r]),m=j.useCallback(l=>{r(c=>c.filter(d=>d!==l))},[r]),u=j.useCallback(()=>{r([])},[r]);return{value:a,setValue:r,push:i,remove:o,removeByValue:m,clear:u,removeValue:n}}const Rg=j.createContext(void 0),Mg=[{id:"1",name:"Consulting",reportingCategory:"",stock:"-",price:"$100.00/ea",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function Dg({children:t}){const{value:s,setValue:a,push:r,remove:n,clear:i,removeByValue:o}=wd("items",Mg),[m,u]=_g("items-loading",!1),[l,c]=Fn("items-error",null),[d,p]=Fn("items-search",""),{value:h,setValue:g,push:y,removeByValue:N,clear:f}=wd("items-selected",[]),x=j.useMemo(()=>{if(!d.trim())return s;const $=d.toLowerCase();return s.filter(z=>{var H,ie,Oe,yt;return z.name.toLowerCase().includes($)||((H=z.category)==null?void 0:H.toLowerCase().includes($))||((ie=z.reportingCategory)==null?void 0:ie.toLowerCase().includes($))||((Oe=z.sku)==null?void 0:Oe.toLowerCase().includes($))||((yt=z.description)==null?void 0:yt.toLowerCase().includes($))})},[s,d]),v=j.useCallback($=>{const z=new Date().toISOString(),H={...$,id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:z,updatedAt:z};r(H)},[r]),C=j.useCallback(($,z)=>{const H=s.map(ie=>ie.id===$?{...ie,...z,updatedAt:new Date().toISOString()}:ie);a(H)},[s,a]),T=j.useCallback($=>{const z=s.filter(H=>H.id!==$);a(z),N($)},[s,a,N]),P=j.useCallback($=>{const z=s.filter(ie=>!$.includes(ie.id));a(z);const H=h.filter(ie=>!$.includes(ie));g(H)},[s,a,h,g]),w=j.useCallback(()=>{i(),f()},[i,f]),S=j.useCallback($=>{h.includes($)||y($)},[h,y]),b=j.useCallback($=>{N($)},[N]),k=j.useCallback($=>{h.includes($)?N($):y($)},[h,N,y]),_=j.useCallback(()=>{const $=x.map(z=>z.id);g($)},[x,g]),R=j.useCallback(()=>{f()},[f]),F=j.useCallback($=>h.includes($),[h]),V=j.useCallback(($,z)=>{const H=new Date().toISOString(),ie=s.map(Oe=>$.includes(Oe.id)?{...Oe,...z,updatedAt:H}:Oe);a(ie)},[s,a]),ne=j.useCallback($=>s.find(z=>z.id===$),[s]),O=j.useCallback($=>s.filter(z=>z.category===$),[s]),Re=j.useCallback(()=>s.length,[s]),I=j.useCallback(()=>[...s],[s]),L=j.useCallback(($,z=!1)=>{if(z)a($),f();else{const H=new Set(s.map(Oe=>Oe.id)),ie=$.filter(Oe=>!H.has(Oe.id));a([...s,...ie])}},[s,a,f]),B={items:s,addItem:v,updateItem:C,deleteItem:T,deleteMultipleItems:P,clearAllItems:w,loading:m,setLoading:u,error:l,setError:c,searchTerm:d,setSearchTerm:p,filteredItems:x,selectedItems:h,selectItem:S,deselectItem:b,toggleItemSelection:k,selectAllItems:_,deselectAllItems:R,isItemSelected:F,bulkUpdateItems:V,getItemById:ne,getItemsByCategory:O,getTotalItems:Re,exportItems:I,importItems:L};return e.jsx(Rg.Provider,{value:B,children:t})}const Ag={components:[],categories:[],searchTerm:"",selectedCategory:null,selectedComponent:null},Ig=j.createContext(void 0);function Eg(t,s){switch(s.type){case"SET_SEARCH_TERM":return{...t,searchTerm:s.payload};case"SET_SELECTED_CATEGORY":return{...t,selectedCategory:s.payload};case"SET_SELECTED_COMPONENT":return{...t,selectedComponent:s.payload};case"SET_COMPONENTS":return{...t,components:s.payload};case"SET_CATEGORIES":return{...t,categories:s.payload};default:return t}}function $g({children:t}){const[s,a]=j.useReducer(Eg,Ag),r=c=>{a({type:"SET_SEARCH_TERM",payload:c})},n=c=>{a({type:"SET_SELECTED_CATEGORY",payload:c})},i=c=>{a({type:"SET_SELECTED_COMPONENT",payload:c})},o=()=>{let c=s.components;if(s.selectedCategory&&(c=c.filter(d=>d.category===s.selectedCategory)),s.searchTerm){const d=s.searchTerm.toLowerCase();c=c.filter(p=>p.name.toLowerCase().includes(d)||p.description.toLowerCase().includes(d)||p.tags.some(h=>h.toLowerCase().includes(d)))}return c},m=c=>{const d=c.toLowerCase();return s.components.filter(p=>p.name.toLowerCase().includes(d)||p.description.toLowerCase().includes(d)||p.tags.some(h=>h.toLowerCase().includes(d))||p.category.toLowerCase().includes(d))},u=c=>s.components.filter(d=>d.category.toLowerCase()===c.toLowerCase()),l=()=>{const c=["Button","Card","Input","Modal","Table"];return s.components.sort((d,p)=>{const h=c.findIndex(y=>d.name.includes(y)),g=c.findIndex(y=>p.name.includes(y));return h===-1&&g===-1?0:h===-1?1:g===-1?-1:h-g}).slice(0,5)};return e.jsx(Ig.Provider,{value:{state:s,dispatch:a,setSearchTerm:r,setSelectedCategory:n,setSelectedComponent:i,getFilteredComponents:o,searchComponents:m,getComponentsByCategory:u,getPopularComponents:l},children:t})}const zi=[{id:"1",name:"Premium Wireless Headphones",category:"Electronics",price:299.99,rating:4.8,features:["noise-canceling","wireless","long-battery"],description:"High-quality wireless headphones with active noise canceling"},{id:"2",name:"Ergonomic Office Chair",category:"Furniture",price:449.99,rating:4.6,features:["ergonomic","adjustable","lumbar-support"],description:"Professional office chair with lumbar support"},{id:"3",name:"Smart Fitness Tracker",category:"Health",price:199.99,rating:4.7,features:["heart-rate","gps","waterproof"],description:"Advanced fitness tracker with health monitoring"},{id:"4",name:"Organic Coffee Beans",category:"Food",price:24.99,rating:4.9,features:["organic","fair-trade","single-origin"],description:"Premium organic coffee beans from single origin farms"},{id:"5",name:"Portable Power Bank",category:"Electronics",price:79.99,rating:4.5,features:["fast-charging","portable","high-capacity"],description:"High-capacity portable charger for all devices"}],Og=["What is the best product for productivity?","Show me highly rated electronics under $300","What's the most popular item in the health category?","Recommend something for working from home","What are your top 3 products this month?","Find me eco-friendly products","What's good for fitness enthusiasts?","Show me products with the highest ratings"];function Lg(t){const s=t.toLowerCase();if(s.includes("best product")||s.includes("top product"))return{message:"Based on customer reviews and ratings, here are our top recommended products:",recommendations:[{id:"4",name:"Organic Coffee Beans",reason:"Highest customer rating (4.9/5) and consistently positive reviews",confidence:.95,category:"Food",price:24.99},{id:"1",name:"Premium Wireless Headphones",reason:"Excellent sound quality and noise-canceling features",confidence:.88,category:"Electronics",price:299.99}],suggestedQuestions:["Tell me more about the coffee beans","What makes the headphones special?","Show me more highly rated products"]};if(s.includes("electronics")||s.includes("tech"))return{message:"Here are our top electronics products:",recommendations:zi.filter(a=>a.category==="Electronics").map(a=>({id:a.id,name:a.name,reason:`${a.rating}/5 rating with ${a.features.join(", ")} features`,confidence:a.rating/5,category:a.category,price:a.price})),suggestedQuestions:["Compare these electronics","What's the cheapest electronics option?","Show me wireless products"]};if(s.includes("under")||s.includes("cheap")||s.includes("budget")){const a=Fg(s),r=zi.filter(n=>n.price<=a);return{message:`Here are great products under $${a}:`,recommendations:r.map(n=>({id:n.id,name:n.name,reason:`Great value at $${n.price} with ${n.rating}/5 rating`,confidence:n.rating/5,category:n.category,price:n.price})),suggestedQuestions:["What's the absolute cheapest option?","Show me mid-range products","Compare these budget options"]}}return s.includes("health")||s.includes("fitness")||s.includes("workout")?{message:"Perfect for your health and fitness goals:",recommendations:[{id:"3",name:"Smart Fitness Tracker",reason:"Comprehensive health monitoring with GPS and heart rate tracking",confidence:.87,category:"Health",price:199.99}],suggestedQuestions:["What health features does it have?","Show me more fitness products","Is it waterproof for swimming?"]}:s.includes("work from home")||s.includes("office")||s.includes("productivity")?{message:"Great choices for your home office setup:",recommendations:[{id:"2",name:"Ergonomic Office Chair",reason:"Essential for comfortable long work sessions with lumbar support",confidence:.86,category:"Furniture",price:449.99},{id:"1",name:"Premium Wireless Headphones",reason:"Perfect for video calls and focused work with noise canceling",confidence:.88,category:"Electronics",price:299.99}],suggestedQuestions:["What other office furniture do you have?","Show me desk accessories","What about lighting for home office?"]}:{message:"I'd be happy to help you find the perfect product! I can recommend items based on your needs, budget, or preferences. What are you looking for?",recommendations:zi.slice(0,2).map(a=>({id:a.id,name:a.name,reason:`Popular choice with ${a.rating}/5 rating`,confidence:a.rating/5,category:a.category,price:a.price})),suggestedQuestions:Og.slice(0,4)}}function Fg(t){const s=t.match(/\$?(\d+)/);return s?parseInt(s[1]):500}function zg(){return[{id:"1",title:"Best Products Inquiry",createdAt:new Date(Date.now()-864e5),updatedAt:new Date(Date.now()-864e5),messages:[{id:"1",content:"What is the best product you have?",sender:"user",timestamp:new Date(Date.now()-864e5)},{id:"2",content:"Based on customer reviews and ratings, our Organic Coffee Beans are our highest-rated product with a 4.9/5 rating!",sender:"assistant",timestamp:new Date(Date.now()-864e5+3e4)}]},{id:"2",title:"Electronics Search",createdAt:new Date(Date.now()-36e5),updatedAt:new Date(Date.now()-36e5),messages:[{id:"3",content:"Show me electronics under $300",sender:"user",timestamp:new Date(Date.now()-36e5)},{id:"4",content:"Here are our top electronics under $300: Premium Wireless Headphones ($299.99) and Portable Power Bank ($79.99).",sender:"assistant",timestamp:new Date(Date.now()-36e5+45e3)}]}]}const Bg={conversations:zg(),currentConversationId:null,isLoading:!1,isTyping:!1},Gg=j.createContext(void 0);function Vg(t,s){switch(s.type){case"SET_CONVERSATIONS":return{...t,conversations:s.payload};case"SET_CURRENT_CONVERSATION":return{...t,currentConversationId:s.payload};case"ADD_MESSAGE":return{...t,conversations:t.conversations.map(a=>a.id===s.payload.conversationId?{...a,messages:[...a.messages,s.payload.message],updatedAt:new Date}:a)};case"SET_LOADING":return{...t,isLoading:s.payload};case"SET_TYPING":return{...t,isTyping:s.payload};case"ADD_CONVERSATION":return{...t,conversations:[s.payload,...t.conversations],currentConversationId:s.payload.id};case"UPDATE_CONVERSATION":return{...t,conversations:t.conversations.map(a=>a.id===s.payload.id?s.payload:a)};default:return t}}function Wg({children:t}){const[s,a]=j.useReducer(Vg,Bg),r=()=>`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n=()=>`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=async l=>{if(!l.trim())return;let c=s.currentConversationId;if(!c){const p={id:n(),title:l.length>50?l.substring(0,50)+"...":l,messages:[],createdAt:new Date,updatedAt:new Date};a({type:"ADD_CONVERSATION",payload:p}),c=p.id}const d={id:r(),content:l,sender:"user",timestamp:new Date};a({type:"ADD_MESSAGE",payload:{conversationId:c,message:d}}),a({type:"SET_TYPING",payload:!0});try{await new Promise(g=>setTimeout(g,1e3+Math.random()*2e3));const p=Lg(l),h={id:r(),content:p.message,sender:"assistant",timestamp:new Date};if(a({type:"ADD_MESSAGE",payload:{conversationId:c,message:h}}),p.recommendations&&p.recommendations.length>0){const g={id:r(),content:`**Recommendations:**

${p.recommendations.map(y=>` **${y.name}** (${y.category}) - $${y.price}
  ${y.reason}
  Confidence: ${Math.round(y.confidence*100)}%`).join(`

`)}`,sender:"assistant",timestamp:new Date};setTimeout(()=>{a({type:"ADD_MESSAGE",payload:{conversationId:c,message:g}})},500)}if(p.suggestedQuestions&&p.suggestedQuestions.length>0){const g={id:r(),content:`**You might also ask:**
${p.suggestedQuestions.map(y=>` ${y}`).join(`
`)}`,sender:"assistant",timestamp:new Date};setTimeout(()=>{a({type:"ADD_MESSAGE",payload:{conversationId:c,message:g}})},1e3)}}catch{const h={id:r(),content:"Sorry, I encountered an error. Please try again.",sender:"assistant",timestamp:new Date};a({type:"ADD_MESSAGE",payload:{conversationId:c,message:h}})}finally{a({type:"SET_TYPING",payload:!1})}},o=()=>{a({type:"SET_CURRENT_CONVERSATION",payload:null})},m=l=>{a({type:"SET_CURRENT_CONVERSATION",payload:l})},u=()=>s.currentConversationId&&s.conversations.find(l=>l.id===s.currentConversationId)||null;return e.jsx(Gg.Provider,{value:{state:s,dispatch:a,sendMessage:i,startNewConversation:o,selectConversation:m,getCurrentConversation:u},children:t})}function Sd(t,s){return new Promise(a=>{setTimeout(()=>{const r=t.toLowerCase();(r.includes("code")||r.includes("function")||r.includes("javascript")||r.includes("react"))&&a(`Here's a code example for your request:

\`\`\`javascript
function handleUserInput(input) {
  if (!input.trim()) {
    return 'Please enter a valid message';
  }
  
  return processMessage(input);
}

// Usage example
const result = handleUserInput('Hello, world!');
console.log(result);
\`\`\`

This function demonstrates basic input validation and processing. Would you like me to explain any part of this code or show you a different approach?`),(r.includes("how to")||r.includes("explain")||r.includes("what is"))&&a(`Great question! Let me break this down for you:

**Key Points:**
 This is a comprehensive explanation of your query
 I'll provide step-by-step guidance
 Include relevant examples and best practices

**Detailed Answer:**
Based on your question, here's what you need to know:

1. **First Step**: Start with understanding the fundamentals
2. **Second Step**: Apply the concepts with practical examples  
3. **Third Step**: Test and iterate on your implementation

Would you like me to dive deeper into any of these points or provide specific examples?`),(r.includes("file")||r.includes("upload")||r.includes("document"))&&a(`I can help you with file-related tasks! Here's what I can do:

**File Operations:**
 **Upload & Analysis**: Upload documents, images, or code files for analysis
 **Format Conversion**: Convert between different file formats
 **Content Extraction**: Extract text, data, or metadata from files
 **Code Review**: Analyze code files for improvements and suggestions

**Supported File Types:**
- Documents: PDF, DOC, TXT, MD
- Images: JPG, PNG, GIF, SVG
- Code: JS, TS, PY, HTML, CSS
- Data: JSON, CSV, XML

Would you like to upload a file or need help with a specific file operation?`),(r.includes("search")||r.includes("find")||r.includes("current")||r.includes("latest"))&&a(`I can help you find current information! Here are some recent results:

**Search Results:**
 **Latest Updates on Your Topic**
- Recent developments and news
- Current best practices and trends
- Updated documentation and resources

**Key Findings:**
 **Current Status**: Based on the latest information available
 **Recent Changes**: What's new since the last update
 **Recommendations**: Best practices for your specific use case

Would you like me to search for more specific information or dive deeper into any of these results?`),s.length>0&&s[s.length-1].role==="assistant"&&a(`I see you're following up on our previous discussion. Let me build on what we talked about:

**Context from our conversation:**
Based on your previous question, I can provide more specific guidance tailored to your needs.

**Additional insights:**
 This connects to what we discussed earlier
 Here are some advanced techniques you might find useful
 I can help you implement these concepts step by step

Is there a particular aspect you'd like to explore further?`),a(`I'm here to help! I can assist you with:

** Conversations**: Natural, contextual discussions on any topic
** Code**: Programming help, debugging, and code examples
** Documents**: File analysis, content extraction, and processing
** Research**: Current information and detailed explanations
** Problem Solving**: Step-by-step guidance for complex tasks

What would you like to work on today? Feel free to ask me anything or upload a file if you need help with a specific document!`)},1e3+Math.random()*2e3)})}function qg(t){return new Promise((s,a)=>{setTimeout(()=>{if(t.size>50*1024*1024){a(new Error("File size exceeds 50MB limit"));return}const r=t.type,n=t.name;r.startsWith("text/")||r==="application/json"?s(`**File Analysis Complete**

**File:** ${n}
**Type:** ${r}
**Size:** ${(t.size/1024).toFixed(2)} KB

**Content Summary:**
I've analyzed your file and found:
 Text-based content with structured data
 Key sections and important information identified
 No issues or errors detected

**Key Insights:**
 The file contains well-formatted content
 Structure appears to be valid and complete
 Ready for further processing or analysis

Would you like me to extract specific information or perform additional analysis on this file?`):r.startsWith("image/")?s(`**Image Analysis Complete**

**File:** ${n}
**Type:** ${r}
**Size:** ${(t.size/1024).toFixed(2)} KB

**Image Details:**
 Image format is supported and valid
 Quality appears to be good
 No corruption detected

**Analysis Results:**
 Image contains visual content suitable for analysis
 Text extraction capabilities available if needed
 Ready for further image processing tasks

What would you like me to do with this image?`):s(`**File Processing Complete**

**File:** ${n}
**Type:** ${r}
**Size:** ${(t.size/1024).toFixed(2)} KB

**Processing Results:**
 File format recognized and processed
 Content structure analyzed
 No critical issues found

**Available Actions:**
 Content extraction and analysis
 Format conversion options
 Detailed examination of file structure

How would you like to proceed with this file?`)},2e3)})}function Ug(t){const s=t.trim();return s.length<=50?s:s.substring(0,50)+"..."}const Hg=[{id:"code-review",title:"Code Review",description:"Get feedback on your code",initialMessage:"I have some code I'd like you to review. Can you help me identify any issues and suggest improvements?"},{id:"debug-help",title:"Debug Help",description:"Troubleshoot coding issues",initialMessage:"I'm having trouble with my code. It's not working as expected. Can you help me debug it?"},{id:"explain-concept",title:"Explain Concept",description:"Learn about technical topics",initialMessage:"Can you explain this technical concept to me in simple terms with examples?"},{id:"document-analysis",title:"Document Analysis",description:"Analyze uploaded documents",initialMessage:"I have a document I'd like you to analyze. Can you help me understand its content and extract key information?"}],Yg={theme:"light",language:"en",autoSave:!0,showTimestamps:!0,enableSounds:!1},Qg={currentConversation:null,conversations:[],isLoading:!1,isTyping:!1,error:null,preferences:Yg,usage:{messagesCount:0,tokensUsed:0,conversationsCount:0,filesUploaded:0}},jp=j.createContext(void 0);function Zg(t,s){var a,r,n;switch(s.type){case"SET_CURRENT_CONVERSATION":return{...t,currentConversation:s.payload};case"ADD_MESSAGE":const i=t.conversations.map(u=>u.id===s.payload.conversationId?{...u,messages:[...u.messages,s.payload.message],updatedAt:new Date}:u);return{...t,conversations:i,currentConversation:((a=t.currentConversation)==null?void 0:a.id)===s.payload.conversationId?{...t.currentConversation,messages:[...t.currentConversation.messages,s.payload.message],updatedAt:new Date}:t.currentConversation};case"UPDATE_MESSAGE":const o=t.conversations.map(u=>u.id===s.payload.conversationId?{...u,messages:u.messages.map(l=>l.id===s.payload.messageId?{...l,...s.payload.updates}:l)}:u);return{...t,conversations:o,currentConversation:((r=t.currentConversation)==null?void 0:r.id)===s.payload.conversationId?{...t.currentConversation,messages:t.currentConversation.messages.map(u=>u.id===s.payload.messageId?{...u,...s.payload.updates}:u)}:t.currentConversation};case"SET_LOADING":return{...t,isLoading:s.payload};case"SET_TYPING":return{...t,isTyping:s.payload};case"SET_ERROR":return{...t,error:s.payload};case"ADD_CONVERSATION":return{...t,conversations:[s.payload,...t.conversations],currentConversation:s.payload,usage:{...t.usage,conversationsCount:t.usage.conversationsCount+1}};case"DELETE_CONVERSATION":const m=t.conversations.filter(u=>u.id!==s.payload);return{...t,conversations:m,currentConversation:((n=t.currentConversation)==null?void 0:n.id)===s.payload?m[0]||null:t.currentConversation};case"UPDATE_PREFERENCES":return{...t,preferences:{...t.preferences,...s.payload}};case"UPDATE_USAGE":return{...t,usage:{...t.usage,...s.payload}};default:return t}}function Kg({children:t}){const[s,a]=j.useReducer(Zg,Qg),r=()=>`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n=()=>`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=j.useCallback(async(h,g)=>{var x,v;if(!h.trim()&&!(g!=null&&g.length))return;let y=(x=s.currentConversation)==null?void 0:x.id;if(!y){const C={id:n(),title:Ug(h),messages:[],createdAt:new Date,updatedAt:new Date,settings:{model:"gpt-4",temperature:.7,maxTokens:2048}};a({type:"ADD_CONVERSATION",payload:C}),y=C.id}let N=[];if(g!=null&&g.length)try{a({type:"SET_LOADING",payload:!0});for(const C of g){const T=await qg(C),P={id:`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:C.name,size:C.size,type:C.type,content:T,uploadedAt:new Date};N.push(P)}a({type:"UPDATE_USAGE",payload:{filesUploaded:s.usage.filesUploaded+g.length}})}catch(C){a({type:"SET_ERROR",payload:C instanceof Error?C.message:"File processing failed"}),a({type:"SET_LOADING",payload:!1});return}const f={id:r(),role:"user",content:h,timestamp:new Date,messageType:g!=null&&g.length?"file":"text",metadata:N.length?{files:N}:void 0};a({type:"ADD_MESSAGE",payload:{conversationId:y,message:f}}),a({type:"UPDATE_USAGE",payload:{messagesCount:s.usage.messagesCount+1}}),a({type:"SET_TYPING",payload:!0}),a({type:"SET_LOADING",payload:!1});try{const C=((v=s.currentConversation)==null?void 0:v.messages)||[],T=await Sd(h,C),P={id:r(),role:"assistant",content:T,timestamp:new Date,messageType:"text"};a({type:"ADD_MESSAGE",payload:{conversationId:y,message:P}}),a({type:"UPDATE_USAGE",payload:{messagesCount:s.usage.messagesCount+1}})}catch(C){a({type:"SET_ERROR",payload:C instanceof Error?C.message:"Failed to generate response"})}finally{a({type:"SET_TYPING",payload:!1})}},[s.currentConversation,s.usage]),o=j.useCallback(async h=>{if(!s.currentConversation)return;const g=s.currentConversation.messages.findIndex(N=>N.id===h);if(g===-1||g===0)return;const y=s.currentConversation.messages[g-1];if(y.role==="user"){a({type:"SET_TYPING",payload:!0});try{const N=s.currentConversation.messages.slice(0,g),f=await Sd(y.content,N);a({type:"UPDATE_MESSAGE",payload:{conversationId:s.currentConversation.id,messageId:h,updates:{content:f,timestamp:new Date,metadata:{...s.currentConversation.messages[g].metadata,regenerated:!0}}}})}catch(N){a({type:"SET_ERROR",payload:N instanceof Error?N.message:"Failed to regenerate response"})}finally{a({type:"SET_TYPING",payload:!1})}}},[s.currentConversation]),m=j.useCallback(()=>{a({type:"SET_CURRENT_CONVERSATION",payload:null})},[]),u=j.useCallback(h=>{const g=s.conversations.find(y=>y.id===h);g&&a({type:"SET_CURRENT_CONVERSATION",payload:g})},[s.conversations]),l=j.useCallback(h=>{a({type:"DELETE_CONVERSATION",payload:h})},[]),c=j.useCallback(h=>{a({type:"UPDATE_PREFERENCES",payload:h})},[]),d=j.useCallback(h=>{const g=s.conversations.find(v=>v.id===h);if(!g)return;const y={title:g.title,createdAt:g.createdAt,messages:g.messages.map(v=>({role:v.role,content:v.content,timestamp:v.timestamp}))},N=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),f=URL.createObjectURL(N),x=document.createElement("a");x.href=f,x.download=`conversation-${g.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(f)},[s.conversations]),p=j.useCallback((h,g)=>{var y;s.currentConversation&&a({type:"UPDATE_MESSAGE",payload:{conversationId:s.currentConversation.id,messageId:h,updates:{metadata:{...(y=s.currentConversation.messages.find(N=>N.id===h))==null?void 0:y.metadata,rating:g}}}})},[s.currentConversation]);return e.jsx(jp.Provider,{value:{state:s,dispatch:a,sendMessage:i,regenerateMessage:o,createNewConversation:m,selectConversation:u,deleteConversation:l,updatePreferences:c,exportConversation:d,rateMessage:p},children:t})}function Jg(){const t=j.useContext(jp);if(t===void 0)throw new Error("useChatbot must be used within a ChatbotProvider");return t}const Ve={items:1540,serviceCharges:{covidServiceCharge:0,setupCost:0,autoGratuity:7.2},returns:-813.47,discountsAndComps:0,netSales:758.94,giftCardSales:0,deferredSales:{giftCardSales:0,invoices:100,invoiceDepositRedeemed:-100,squareOnline:0},taxes:1.59,tips:0,totalSales:760.53,totalPaymentsCollected:760.53,paymentMethods:[{method:"Card",amount:55},{method:"Cash",amount:705.53}],fees:{squarePaymentProcessingFees:-1.9},netTotal:758.63},Vl=t=>{const s=Math.ceil((t.end.getTime()-t.start.getTime())/864e5),a=Math.max(1,s/7);return{items:Math.round(Ve.items*a*(.8+Math.random()*.4)),serviceCharges:{covidServiceCharge:Math.round(Ve.serviceCharges.covidServiceCharge*a*100)/100,setupCost:Math.round(Ve.serviceCharges.setupCost*a*100)/100,autoGratuity:Math.round(Ve.serviceCharges.autoGratuity*a*100)/100},returns:Math.round(Ve.returns*a*(.5+Math.random()*.5)),discountsAndComps:Math.round(Ve.discountsAndComps*a*100)/100,netSales:0,giftCardSales:Math.round(Ve.giftCardSales*a*100)/100,deferredSales:{giftCardSales:Math.round(Ve.deferredSales.giftCardSales*a*100)/100,invoices:Math.round(Ve.deferredSales.invoices*a*100)/100,invoiceDepositRedeemed:Math.round(Ve.deferredSales.invoiceDepositRedeemed*a*100)/100,squareOnline:Math.round(Ve.deferredSales.squareOnline*a*100)/100},taxes:Math.round(Ve.taxes*a*100)/100,tips:Math.round(Ve.tips*a*100)/100,totalSales:0,totalPaymentsCollected:0,paymentMethods:[{method:"Card",amount:Math.round(55*a*(.8+Math.random()*.4)*100)/100},{method:"Cash",amount:Math.round(705.53*a*(.8+Math.random()*.4)*100)/100}],fees:{squarePaymentProcessingFees:Math.round(-1.9*a*100)/100},netTotal:0}},Wl=t=>{const s=t.items+t.serviceCharges.covidServiceCharge+t.serviceCharges.setupCost+t.serviceCharges.autoGratuity+t.returns+t.discountsAndComps,a=s+t.giftCardSales+t.taxes+t.tips,r=t.paymentMethods.reduce((i,o)=>i+o.amount,0),n=r+t.fees.squarePaymentProcessingFees;return{...t,netSales:Math.round(s*100)/100,totalSales:Math.round(a*100)/100,totalPaymentsCollected:Math.round(r*100)/100,netTotal:Math.round(n*100)/100}},Cd={dateRange:{start:new Date("2025-06-22"),end:new Date("2025-06-28")},location:"All",timeframe:"All day",groupBy:"All"},Xg={salesData:Wl(Vl(Cd.dateRange)),filters:Cd,isLoading:!1,error:null},Np=j.createContext(void 0);function ef(t,s){switch(s.type){case"SET_SALES_DATA":return{...t,salesData:s.payload};case"SET_FILTERS":return{...t,filters:{...t.filters,...s.payload}};case"SET_LOADING":return{...t,isLoading:s.payload};case"SET_ERROR":return{...t,error:s.payload};default:return t}}function tf({children:t}){const[s,a]=j.useReducer(ef,Xg),r=i=>{a({type:"SET_FILTERS",payload:i});const o={...s.filters,...i},m=Wl(Vl(o.dateRange));a({type:"SET_SALES_DATA",payload:m})},n=()=>{a({type:"SET_LOADING",payload:!0}),setTimeout(()=>{const i=Wl(Vl(s.filters.dateRange));a({type:"SET_SALES_DATA",payload:i}),a({type:"SET_LOADING",payload:!1})},1e3)};return e.jsx(Np.Provider,{value:{state:s,dispatch:a,updateFilters:r,refreshData:n},children:t})}function wr(){const t=j.useContext(Np);if(t===void 0)throw new Error("useReports must be used within a ReportsProvider");return t}const cn=[{id:"txn_001",date:new Date("2025-06-26"),time:"1:37 pm",type:"refund",description:"Refund of Massage SL",items:["Massage SL"],staff:"System",amount:-865,status:"complete",location:"Main Location",refundReason:"Customer request"},{id:"txn_002",date:new Date("2025-06-26"),time:"1:34 pm",type:"sale",description:"Massage SL",items:["Massage SL"],staff:"Peng F SL",paymentMethod:"card",amount:100,status:"complete",location:"Main Location"},{id:"txn_003",date:new Date("2025-06-26"),time:"1:29 pm",type:"refund",description:"Refund of Online site item - Issued by Peng F SL",items:["Online site item"],staff:"Peng F SL",amount:-850,status:"complete",location:"Main Location",refundReason:"Product issue"},{id:"txn_004",date:new Date("2025-06-26"),time:"1:24 pm",type:"sale",description:"Online site item - Collected by Divya C SL",items:["Online site item"],staff:"Divya C SL",paymentMethod:"cash",amount:50,status:"complete",location:"Main Location"},{id:"txn_005",date:new Date("2025-06-26"),time:"1:19 pm",type:"refund",description:"Refund of Massage - Issued by Divya C SL",items:["Massage"],staff:"Divya C SL",amount:-100,status:"complete",location:"Main Location",refundReason:"Service cancellation"},{id:"txn_006",date:new Date("2025-06-26"),time:"1:10 pm",type:"sale",description:"Massage - Collected by Hank D SL",items:["Massage"],staff:"Hank D SL",paymentMethod:"card",amount:100,status:"complete",location:"Main Location"},{id:"txn_007",date:new Date("2025-06-26"),time:"12:47 pm",type:"refund",description:"Refund of Apple, Croissant - Issued by Peng F SL",items:["Apple","Croissant"],staff:"Peng F SL",amount:-5.2,status:"complete",location:"Main Location",refundReason:"Wrong order"},{id:"txn_008",date:new Date("2025-06-26"),time:"12:41 pm",type:"sale",description:"Chocolate Shake - Collected by Peng F SL",items:["Chocolate Shake"],staff:"Peng F SL",paymentMethod:"cash",amount:15,status:"complete",location:"Main Location"},{id:"txn_009",date:new Date("2025-06-26"),time:"12:35 pm",type:"sale",description:"Apple, Croissant SL",items:["Apple","Croissant SL"],staff:"System",paymentMethod:"card",amount:5.2,status:"complete",location:"Main Location"},{id:"txn_010",date:new Date("2025-06-26"),time:"12:18 pm",type:"refund",description:"Refund of Massage - Issued by Divya C SL",items:["Massage"],staff:"Divya C SL",amount:-100,status:"complete",location:"Main Location",refundReason:"Customer dissatisfaction"},{id:"txn_011",date:new Date("2025-06-26"),time:"12:13 pm",type:"sale",description:"Invoice #000031 - Collected by Hank D SL",items:["Invoice #000031"],staff:"Hank D SL",paymentMethod:"card",amount:100,status:"complete",location:"Main Location"},{id:"txn_012",date:new Date("2025-06-26"),time:"11:56 am",type:"refund",description:"Refund of Massage SL",items:["Massage SL"],staff:"System",amount:-100,status:"complete",location:"Main Location",refundReason:"Service not provided"},{id:"txn_013",date:new Date("2025-06-26"),time:"11:53 am",type:"sale",description:"Massage SL",items:["Massage SL"],staff:"System",paymentMethod:"cash",amount:100,status:"complete",location:"Main Location"},{id:"txn_014",date:new Date("2025-06-26"),time:"11:47 am",type:"sale",description:"Massage - Collected by Divya C SL",items:["Massage"],staff:"Divya C SL",paymentMethod:"card",amount:100,status:"complete",location:"Main Location"},{id:"txn_015",date:new Date("2025-06-26"),time:"11:41 am",type:"sale",description:"Massage - Collected by Ibrahim B SL",items:["Massage"],staff:"Ibrahim B SL",paymentMethod:"cash",amount:100,status:"complete",location:"Main Location"},{id:"txn_016",date:new Date("2025-06-26"),time:"11:04 am",type:"sale",description:"Online site item - Collected by Steven H SL",items:["Online site item"],staff:"Steven H SL",paymentMethod:"card",amount:50,status:"complete",location:"Main Location"},{id:"txn_017",date:new Date("2025-06-26"),time:"10:53 am",type:"refund",description:"Refund of Massage, Online site item - Issued by Divya C SL",items:["Massage","Online site item"],staff:"Divya C SL",amount:-150,status:"complete",location:"Main Location",refundReason:"Billing error"},{id:"txn_018",date:new Date("2025-06-26"),time:"10:50 am",type:"sale",description:"Massage, Online site item - Collected by Hank D SL",items:["Massage","Online site item"],staff:"Hank D SL",paymentMethod:"cash",amount:150,status:"complete",location:"Main Location"},{id:"txn_019",date:new Date("2025-06-26"),time:"10:49 am",type:"refund",description:"Refund of Massage, Online site item - Issued by Hank D SL",items:["Massage","Online site item"],staff:"Hank D SL",amount:-150,status:"complete",location:"Main Location",refundReason:"Duplicate charge"},{id:"txn_020",date:new Date("2025-06-26"),time:"10:44 am",type:"sale",description:"Massage, Online site item - Collected by Hank D SL",items:["Massage","Online site item"],staff:"Hank D SL",paymentMethod:"card",amount:150,status:"complete",location:"Main Location"},{id:"txn_021",date:new Date("2025-06-26"),time:"10:23 am",type:"sale",description:"Massage, Online site item, Massage SL",items:["Massage","Online site item","Massage SL"],staff:"System",paymentMethod:"cash",amount:250,status:"complete",location:"Main Location"},{id:"txn_022",date:new Date("2025-06-26"),time:"9:54 am",type:"sale",description:"Online site item SL",items:["Online site item SL"],staff:"System",paymentMethod:"card",amount:50,status:"complete",location:"Main Location"}],sf=t=>cn.filter(s=>s.type===t),af=t=>{const s=t.length,a=t.reduce((n,i)=>n+Math.abs(i.amount),0),r=t.reduce((n,i)=>n+i.amount,0);return{totalTransactions:s,totalCollected:a,netSales:r}},ql={dateRange:{start:new Date("2025-06-22"),end:new Date("2025-06-28")},timeRange:"9:00 pm - 9:00 pm",paymentMethods:[],types:[],status:[],locations:[],sources:[],teamMembers:[],fees:[],searchQuery:""},rf={transactions:cn,filteredTransactions:cn,summary:{totalTransactions:cn.length,totalCollected:760.53,netSales:758.94,dateRange:ql.dateRange,timeRange:"All day (12:00 am - 12:00 am EDT)"},filters:ql,isLoading:!1,error:null},nf=j.createContext(void 0);function lf(t,s){switch(s.type){case"SET_TRANSACTIONS":return{...t,transactions:s.payload};case"SET_FILTERED_TRANSACTIONS":const a=af(s.payload);return{...t,filteredTransactions:s.payload,summary:{...t.summary,totalTransactions:a.totalTransactions,totalCollected:a.totalCollected,netSales:a.netSales}};case"SET_FILTERS":return{...t,filters:{...t.filters,...s.payload}};case"SET_LOADING":return{...t,isLoading:s.payload};case"SET_ERROR":return{...t,error:s.payload};case"SET_SELECTED_TYPE":return{...t,selectedTransactionType:s.payload};default:return t}}function of({children:t}){const[s,a]=j.useReducer(lf,rf),r=(u,l)=>{let c=[...u];if(l.types.length>0&&(c=c.filter(d=>l.types.includes(d.type))),l.paymentMethods.length>0&&(c=c.filter(d=>d.paymentMethod&&l.paymentMethods.includes(d.paymentMethod))),l.searchQuery){const d=l.searchQuery.toLowerCase();c=c.filter(p=>p.description.toLowerCase().includes(d)||p.staff.toLowerCase().includes(d)||p.items.some(h=>h.toLowerCase().includes(d)))}return c=c.filter(d=>{const p=new Date(d.date);return p>=l.dateRange.start&&p<=l.dateRange.end}),c},n=u=>{const l={...s.filters,...u};a({type:"SET_FILTERS",payload:u});const c=r(s.transactions,l);a({type:"SET_FILTERED_TRANSACTIONS",payload:c})},i=u=>{a({type:"SET_SELECTED_TYPE",payload:u});const l=sf(u);a({type:"SET_FILTERED_TRANSACTIONS",payload:l}),n({types:[u]})},o=()=>{a({type:"SET_FILTERS",payload:ql}),a({type:"SET_FILTERED_TRANSACTIONS",payload:s.transactions}),a({type:"SET_SELECTED_TYPE",payload:void 0})},m=u=>{n({searchQuery:u})};return e.jsx(nf.Provider,{value:{state:s,dispatch:a,updateFilters:n,filterByType:i,clearFilters:o,searchTransactions:m},children:t})}const cf=[{name:"Gross Sales",formula:"Price + Service Charges",description:"The total amount charged to the customer before any deductions",whenReported:"When payment is completed",examples:["$100 item + $5 service charge = $105 Gross Sales"]},{name:"Net Sales",formula:"Gross Sales - Discounts - Comps - Returns",description:"Sales amount after deducting discounts, comps, and returns",whenReported:"When payment is completed",examples:["$105 Gross - $10 discount = $95 Net Sales"]}],zn=[{id:"single-payment",name:"Sale with Single Payment",description:"Standard transaction with one payment method",saleReportTime:"Payment completed time",paymentReportTime:"Payment created time (with exceptions)",explanation:"Most common scenario with minimal timing differences",isEdgeCase:!1},{id:"credit-card-delay",name:"Credit Card Processing Delay",description:"Unintentional delays due to server-side processing",saleReportTime:"Payment completed time",paymentReportTime:"Payment created time",explanation:"Network latency or server delays can cause timing discrepancies",isEdgeCase:!0},{id:"cash-system-issue",name:"Cash Payment System Issue",description:"Internal system failure affecting payment record timing",saleReportTime:"Payment completed time",paymentReportTime:"Payment created time (when system recovers)",explanation:"System failures can create gaps between sale and payment recording",isEdgeCase:!0},{id:"pre-auth",name:"Pre-Authorization",description:"Intentional separation of auth and capture times",saleReportTime:"Payment completed time",paymentReportTime:"Payment created time (except Gift Cards and Bank Transfers)",explanation:"Authorization happens before capture, creating intentional timing differences",isEdgeCase:!1},{id:"delayed-capture",name:"Delayed Capture (Credit Card)",description:"Intentional delay for paper receipts and reopen checks",saleReportTime:"Created_at (close to payment auth time)",paymentReportTime:"Payment created time (except Gift Cards and Bank Transfers)",explanation:"Used for paper receipts where capture happens later than authorization",isEdgeCase:!1},{id:"offline-payments",name:"Offline Payments",description:"Payments taken offline and synced later",saleReportTime:"Bill/Order completed_at time (when seller took payment)",paymentReportTime:"Auth time when payment comes back online",explanation:"Offline mode creates timing gaps when payments sync back online",isEdgeCase:!0},{id:"ach-payments",name:"ACH Payments",description:"Bank transfer payments with processing delays",saleReportTime:"Payment completed/Capture time",paymentReportTime:"Payment completed/Capture time",explanation:"Both metrics align for ACH payments due to processing requirements",isEdgeCase:!1},{id:"split-payments",name:"Sale with Split Payments",description:"Multiple payment methods for single sale",saleReportTime:"Last completed payment",paymentReportTime:"Individual payment created times (with exceptions)",explanation:"Sale timing depends on final payment completion",isEdgeCase:!1},{id:"invoice-payments",name:"Sale with Multiple Payments via Invoice",description:"Invoice paid in multiple installments",saleReportTime:"When final payment is complete",paymentReportTime:"Individual payment times (Gift Cards and Bank Transfers when completed)",explanation:"Sale not recorded until invoice is fully paid",isEdgeCase:!1},{id:"house-account",name:"House Account",description:"Credit account payments",saleReportTime:"When order is placed",paymentReportTime:"As House account balances are paid",explanation:"Sale recorded immediately, payments recorded when account is settled",isEdgeCase:!1}],Ra=[{id:"sales-metrics-education",title:"Understanding Sales Metrics",description:"Understanding how Gross Sales, Net Sales, and Total Line Items are calculated and when they are reported",duration:"20 minutes",difficulty:"Beginner",sections:[{id:"metric-definitions",title:"Sales Metrics Definitions",content:"Learn the fundamental definitions and formulas for key sales metrics used in Square reporting.",type:"definition",examples:[{id:"definitions-overview",title:"Core Sales Metrics",scenario:"Understanding the relationship between different sales metrics",calculation:[{label:"Gross Sales",formula:"Price + Service Charges",value:0,explanation:"Total amount before deductions"},{label:"Net Sales",formula:"Gross Sales - Discounts - Comps - Returns",value:0,explanation:"Amount after deductions"},{label:"Total Line Item",formula:"Net Sales - Partial Refunds + Tax",value:0,explanation:"Final amount with tax adjustments"}],result:"These metrics build upon each other in sequence"}]},{id:"gross-sales",title:"Gross Sales",content:"Gross Sales = Price + Service Charges. This represents the total amount charged to customers before any deductions. It includes the base price of items plus any service charges.",type:"calculation",examples:[{id:"gross-example-1",title:"Basic Gross Sales",scenario:"Customer orders a $25 meal with $3 delivery fee",calculation:[{label:"Item Price",formula:"$25.00",value:25,explanation:"Base price of the meal"},{label:"Service Charges",formula:"$3.00",value:3,explanation:"Delivery fee"},{label:"Gross Sales",formula:"$25.00 + $3.00",value:28,explanation:"Total before deductions"}],result:"$28.00"}],calculator:{id:"gross-sales-calc",type:"sales-metrics",inputs:[{id:"item-price",label:"Item Price",type:"number",placeholder:"25.00",defaultValue:25},{id:"service-charges",label:"Service Charges",type:"number",placeholder:"3.00",defaultValue:3}],outputs:[{id:"gross-sales",label:"Gross Sales",formula:"item-price + service-charges",format:"currency"}]}},{id:"net-sales",title:"Net Sales",content:"Net Sales = Gross Sales - Discounts - Comps - Returns. This is calculated by taking Gross Sales and subtracting discounts, comps (complimentary items), and returns.",type:"calculation",examples:[{id:"net-example-1",title:"Net Sales with Discount",scenario:"Customer has $28 gross sales with a $5 discount applied",calculation:[{label:"Gross Sales",formula:"$28.00",value:28,explanation:"Starting amount"},{label:"Discounts",formula:"-$5.00",value:-5,explanation:"Applied discount"},{label:"Comps",formula:"$0.00",value:0,explanation:"No complimentary items"},{label:"Returns",formula:"$0.00",value:0,explanation:"No returns"},{label:"Net Sales",formula:"$28.00 - $5.00",value:23,explanation:"Final net amount"}],result:"$23.00"}],calculator:{id:"net-sales-calc",type:"sales-metrics",inputs:[{id:"gross-sales",label:"Gross Sales",type:"number",placeholder:"28.00",defaultValue:28},{id:"discounts",label:"Discounts",type:"number",placeholder:"5.00",defaultValue:5},{id:"comps",label:"Comps",type:"number",placeholder:"0.00",defaultValue:0},{id:"returns",label:"Returns",type:"number",placeholder:"0.00",defaultValue:0}],outputs:[{id:"net-sales",label:"Net Sales",formula:"gross-sales - discounts - comps - returns",format:"currency"}]}},{id:"total-line-item",title:"Total Line Item",content:"Total Line Item = Net Sales - Partial Refunds + Tax. This is the final amount calculated as Net Sales minus partial refunds (refunds by amount) plus tax.",type:"calculation",examples:[{id:"total-example-1",title:"Complete Calculation",scenario:"Customer with $23 net sales, $2 partial refund, and $1.68 tax",calculation:[{label:"Net Sales",formula:"$23.00",value:23,explanation:"After discounts and comps"},{label:"Partial Refunds",formula:"-$2.00",value:-2,explanation:"Refund by amount"},{label:"Tax",formula:"+$1.68",value:1.68,explanation:"Applied tax"},{label:"Total Line Item",formula:"$23.00 - $2.00 + $1.68",value:22.68,explanation:"Final amount"}],result:"$22.68"}],calculator:{id:"total-line-item-calc",type:"sales-metrics",inputs:[{id:"net-sales",label:"Net Sales",type:"number",placeholder:"23.00",defaultValue:23},{id:"partial-refunds",label:"Partial Refunds",type:"number",placeholder:"2.00",defaultValue:2},{id:"tax",label:"Tax",type:"number",placeholder:"1.68",defaultValue:1.68}],outputs:[{id:"total-line-item",label:"Total Line Item",formula:"net-sales - partial-refunds + tax",format:"currency"}]}},{id:"reporting-timing",title:"When Metrics Are Reported",content:"Understanding when sales metrics are calculated and reported in your Square dashboard.",type:"timeline",examples:[{id:"reporting-timing-example",title:"Sales Metrics Reporting",scenario:"All sales metrics follow the same reporting schedule",calculation:[{label:"Gross Sales",formula:"Reported when payment is completed",value:0,explanation:"Payment completion triggers reporting"},{label:"Net Sales",formula:"Reported when payment is completed",value:0,explanation:"Same timing as Gross Sales"},{label:"Total Line Item",formula:"Reported when payment is completed",value:0,explanation:"Same timing as other sales metrics"}],result:"All sales metrics are reported simultaneously when payment completes"}]}],faqs:[{id:"faq-timing",question:"When are Gross/Net Sales reported?",answer:"All sales metrics (Gross Sales, Net Sales, Total Line Item) are calculated and reported when the payment is completed.",category:"timing",examples:["Payment completion triggers metric calculation","Pending payments do not affect sales metrics","All sales metrics use the same reporting time"]},{id:"faq-service-charges",question:"What counts as service charges in Gross Sales?",answer:"Service charges include delivery fees, processing fees, convenience charges, and any additional fees beyond the base item price.",category:"definitions",examples:["Delivery fee: $3.00","Processing fee: $1.50","Convenience charge: $2.00"]},{id:"faq-partial-refunds",question:"What are partial refunds in the Total Line Item calculation?",answer:"Partial refunds are refunds by amount (not full item returns). They reduce the Total Line Item but not the Net Sales.",category:"definitions",examples:["$5 refund on a $20 item","Refund for damaged portion of order","Customer dissatisfaction adjustment"]},{id:"faq-comps",question:"What are comps in the Net Sales calculation?",answer:"Comps (complimentary items) are free items given to customers, which reduce the Net Sales amount.",category:"definitions",examples:["Free appetizer","Complimentary drink","Manager comp for service issue"]}],visualizations:[{id:"sales-metrics-flow",type:"flowchart",title:"Sales Metrics Calculation Flow",description:"Visual representation of how sales metrics are calculated",data:cf}]},{id:"sales-payments-differences",title:"Understanding Sales and Payments Metrics Differences",description:"Learn why sales and payment metrics can differ and when each is reported",duration:"30 minutes",difficulty:"Intermediate",sections:[{id:"timing-overview",title:"When Sales vs Payments Are Reported",content:"Understanding the fundamental difference in timing between sales and payment reporting.",type:"comparison",examples:[{id:"timing-comparison",title:"Sales vs Payments Reporting Timeline",scenario:"Understanding when each metric is recorded",calculation:[{label:"Sales Metrics",formula:"When payment is completed",value:0,explanation:"Reported when payment finishes processing successfully"},{label:"Payment Metrics",formula:"When payment is initiated",value:0,explanation:"Reported when payment starts (with specific exceptions)"}],result:"This timing difference creates discrepancies in your reports"}]},{id:"general-scenarios",title:"General Payment Scenarios",content:"Common scenarios that cause differences between sales and payment timing.",type:"scenarios",examples:[{id:"single-payment-scenario",title:"Sale with Single Payment",scenario:"Standard transaction with one payment method",calculation:[{label:"Sale Timing",formula:"Payment completed time",value:0,explanation:"When the payment finishes processing"},{label:"Payment Timing",formula:"When customer presents payment method",value:0,explanation:"When customer presents payment method (except Gift Cards: payment complete, Bank Transfers: payment completed time)"}],result:"Most common scenario with minimal timing differences"},{id:"credit-card-delay-scenario",title:"Credit Card Processing Delay",scenario:"Unintentional delays due to server-side processing issues",calculation:[{label:"Sale Timing",formula:"Payment completed time",value:0,explanation:"When payment actually completes despite delays"},{label:"Payment Timing",formula:"When customer presents payment method",value:0,explanation:"When customer initially presented payment method"}],result:"Network latency or server delays can cause timing discrepancies"},{id:"cash-system-issue-scenario",title:"Cash Payment System Issue",scenario:"Internal system failure affecting payment record timing",calculation:[{label:"Sale Timing",formula:"Payment completed time",value:0,explanation:"When cash payment is actually completed"},{label:"Payment Timing",formula:"When customer presents payment method (when system recovers)",value:0,explanation:"When system failure is resolved and record is created"}],result:"System failures can create gaps between sale and payment recording"}]},{id:"edge-cases",title:"Edge Cases and Special Payment Methods",content:"Special payment scenarios that have unique timing behaviors.",type:"edge-cases",examples:[{id:"pre-auth-scenario",title:"Pre-Authorization",scenario:"Payments are reported when customer presents payment method, sales when payment completes",calculation:[{label:"Sale Timing",formula:"Payment completed time",value:0,explanation:"When payment is captured and sale completes"},{label:"Payment Timing",formula:"When customer presents payment method",value:0,explanation:"When customer presents card for authorization (except Gift Cards: payment complete, Bank Transfers: payment completed time)"}],result:"May show differences when sales fall outside of midnight windows"},{id:"tipping-paper-receipts-scenario",title:"Tipping on Paper Receipts",scenario:"Open orders where payment method is presented after order creation",calculation:[{label:"Sale Timing",formula:"When order is created",value:0,explanation:"Sale recorded when order is initially created"},{label:"Payment Timing",formula:"When customer presents payment method",value:0,explanation:"When customer presents card for payment (except Gift Cards: payment complete, Bank Transfers: payment completed time)"}],result:"Used for paper receipts and open orders where payment happens after order creation"},{id:"offline-payments-scenario",title:"Offline Payments",scenario:"Payments taken offline and synced later",calculation:[{label:"Sale Timing",formula:"Bill/Order completed_at time",value:0,explanation:"When seller took the payment offline"},{label:"Payment Timing",formula:"Auth time when payment comes back online",value:0,explanation:"When offline payment syncs back to system"}],result:"Offline mode creates timing gaps when payments sync back online"},{id:"ach-payments-scenario",title:"ACH Payments",scenario:"Bank transfer payments with processing delays",calculation:[{label:"Sale Timing",formula:"Payment completed/Capture time",value:0,explanation:"When ACH payment is completed"},{label:"Payment Timing",formula:"Payment completed/Capture time",value:0,explanation:"Same as sale timing for ACH"}],result:"Both metrics align for ACH payments due to processing requirements"}]},{id:"complex-scenarios",title:"Complex Payment Scenarios",content:"Advanced scenarios involving multiple payments or special account types.",type:"complex",examples:[{id:"split-payments-scenario",title:"Sale with Split Payments",scenario:"Multiple payment methods for single sale",calculation:[{label:"Sale Timing",formula:"Last completed payment",value:0,explanation:"Sale timing depends on when final payment completes"},{label:"Payment Timing",formula:"When customer presents payment method",value:0,explanation:"Each payment reports when customer presents payment method (except Gift Cards: payment complete, Bank Transfers: bankTransaction.completedAt)"}],result:"Sale timing depends on final payment completion"},{id:"invoice-payments-scenario",title:"Sale with Multiple Payments via Invoice",scenario:"Invoice paid in multiple installments",calculation:[{label:"Sale Timing",formula:"When final payment is complete",value:0,explanation:"Sale not recorded until invoice is fully paid"},{label:"Payment Timing",formula:"When customer presents payment method",value:0,explanation:"Each payment reports when customer presents payment method (Gift Cards: when completed, Bank Transfers: when completed)"}],result:"Sale not recorded until invoice is fully paid"},{id:"house-account-scenario",title:"House Account",scenario:"Credit account payments",calculation:[{label:"Sale Timing",formula:"When order is placed",value:0,explanation:"Sale recorded immediately when order is created"},{label:"Payment Timing",formula:"As House account balances are paid",value:0,explanation:"Payments recorded when account is settled"}],result:"Sale recorded immediately, payments recorded when account is settled"}]},{id:"bank-transfers-deep-dive",title:"Understanding Bank Transfers",content:"Deep dive into how bank transfers affect sales and payment reporting.",type:"deep-dive",examples:[{id:"bank-transfer-timing",title:"Bank Transfer Timing Rules",scenario:"How bank transfers are handled differently from other payment methods",calculation:[{label:"Standard Payments",formula:"When customer presents payment method",value:0,explanation:"Most payments report when customer presents payment method"},{label:"Bank Transfers",formula:"Payment completed time",value:0,explanation:"Bank transfers report when completed, aligning with sales timing"},{label:"Why Different",formula:"Processing requirements",value:0,explanation:"Bank transfers require completion confirmation before reporting"}],result:"Bank transfers align more closely with sales timing than other payment methods"}]}],faqs:[{id:"payments-faq-general",question:"Why don't my sales reports match my payment reports?",answer:"Sales and payments are tracked differently: Sales reports show when transactions are completed, Payment reports show when payment processing is initiated. This timing difference occurs because sales are reported when payment completes, while payments are reported when the payment process begins (with some exceptions for specific payment methods).",category:"general",examples:["Sales: reported when payment completes","Payments: reported when payment processing starts","Timing differences can occur during processing","Different payment methods have different timing rules"]},{id:"payments-faq-close-day-mismatch",question:"My close-of-day report doesn't match my daily sales report. What's wrong?",answer:"This is usually due to different time windows: Daily sales reports typically cover a full 24-hour calendar day, Close-of-day reports only include transactions within your configured business hours. Check for transactions that occurred outside your normal business hours (early morning or late evening).",category:"timing",examples:["Daily sales: full 24-hour calendar day","Close-of-day: configured business hours only","Early morning transactions (6:59 AM when business starts at 7:00 AM)","Late evening transactions after configured close time"]},{id:"payments-faq-missing-transaction",question:"There's a transaction missing from my close-of-day report but it shows in my sales report. Where did it go?",answer:"Check the transaction timestamp: Transactions outside your configured business hours won't appear in close-of-day reports. Common examples: 6:59 AM sale when business hours start at 7:00 AM, Late evening transactions after your configured close time. Solution: Adjust your business hours settings or reference the full daily sales report.",category:"troubleshooting",examples:["6:59 AM sale when business hours start at 7:00 AM","Late evening transactions after configured close time","Adjust business hours settings if needed","Reference full daily sales report for complete picture"]},{id:"payments-faq-refunds-mismatch",question:"My refunds don't match between different reports. Why?",answer:"Refunds can appear differently depending on timing: Same-day refunds may net against sales in some reports, Next-day refunds appear as separate line items, Different reports may group refunds by processing date vs. original sale date.",category:"timing",examples:["Same-day refunds: may net against sales","Next-day refunds: appear as separate line items","Processing date vs. original sale date grouping","Report-specific refund handling varies"]},{id:"payments-faq-multi-location",question:"I have multiple locations. Why do my consolidated reports not add up?",answer:"Multi-location reporting considerations: Ensure all locations are in the same time zone setting, Check that business hours are configured consistently, Verify that all locations are included in your consolidated report filters, Inter-location transfers may appear differently in individual vs. consolidated reports.",category:"complex",examples:["Ensure consistent time zone settings across locations","Configure business hours consistently","Verify all locations included in consolidated filters","Inter-location transfers may appear differently"]},{id:"payments-faq-gross-net-difference",question:"What's the difference between gross sales and net sales?",answer:"Gross sales: Total transaction amounts before any deductions, Net sales: Gross sales minus refunds, discounts, and tax (depending on your settings). Always check which metric your reports are displaying.",category:"definitions",examples:["Gross sales: total before deductions","Net sales: after refunds, discounts, tax adjustments","Check report settings for which metric is displayed","Both metrics serve different analytical purposes"]},{id:"payments-faq-credit-card-deposits",question:"My credit card deposits don't match my credit card sales. Is there an error?",answer:"This is normal due to processing timing: Credit card sales are recorded when the transaction occurs, Deposits happen 1-2 business days later, Weekend and holiday processing delays can extend this timing, Check your deposit schedule in your Square dashboard.",category:"timing",examples:["Sales recorded when transaction occurs","Deposits happen 1-2 business days later","Weekend and holiday delays extend timing","Check deposit schedule in dashboard"]},{id:"payments-faq-troubleshooting",question:"What should I do when reports don't match?",answer:"Follow these troubleshooting steps: 1. Check time ranges - Ensure you're comparing the same date ranges, 2. Verify time zones - Confirm all reports use the same time zone, 3. Review business hours - Check your close-of-day settings, 4. Look for edge cases - Early morning or late evening transactions, 5. Consider processing delays - Sales vs. payment timing differences.",category:"troubleshooting",examples:["Compare same date ranges across reports","Verify consistent time zone usage","Check close-of-day business hours settings","Look for transactions outside normal hours","Account for processing delays between sales and payments"]},{id:"payments-faq-prevention",question:"How can I prevent report discrepancies?",answer:"Prevention tips: Set consistent business hours across all locations, Understand the difference between sales and payment timing, Regularly review report settings after system changes, Train staff on proper transaction timing procedures.",category:"prevention",examples:["Set consistent business hours across locations","Understand sales vs payment timing differences","Review report settings after changes","Train staff on transaction timing procedures"]}],visualizations:[{id:"payment-timeline",type:"timeline",title:"Payment Processing Timeline",description:"Visual representation of when different metrics are reported",data:zn},{id:"scenario-comparison",type:"comparison-chart",title:"Sales vs Payments Timing Comparison",description:"Side-by-side comparison of timing for different scenarios",data:zn}]},{id:"self-serve-navigation",title:"Self-Serve Navigation: Sales Summary to Transactions",description:"Learn how to navigate from summary numbers to detailed transaction data",duration:"15 minutes",difficulty:"Beginner",sections:[{id:"navigation-overview",title:"Understanding the Navigation Flow",content:"Learn how to drill down from high-level sales summary data to individual transaction details.",type:"navigation",examples:[{id:"navigation-flow",title:"Sales Summary to Transaction Details",scenario:"Following the data trail from summary to details",calculation:[{label:"Sales Summary",formula:"High-level aggregated data",value:0,explanation:"Total sales, payment counts, averages"},{label:"Filtered Reports",formula:"Filtered by time, payment method, etc.",value:0,explanation:"Narrow down to specific criteria"},{label:"Transaction Details",formula:"Individual transaction records",value:0,explanation:"Complete transaction information"}],result:"Navigate from summary metrics to individual transaction details"}]},{id:"drill-down-techniques",title:"Drill-Down Techniques",content:"Master the techniques for drilling down from summary data to transaction-level details.",type:"interactive",examples:[{id:"time-based-drill-down",title:"Time-Based Drill Down",scenario:"Narrowing down by time periods",calculation:[{label:"Monthly Summary",formula:"Total sales for the month",value:0,explanation:"Start with monthly aggregated data"},{label:"Daily Breakdown",formula:"Sales by day within the month",value:0,explanation:"Drill down to daily level"},{label:"Hourly Analysis",formula:"Sales by hour for specific days",value:0,explanation:"Further drill down to hourly data"},{label:"Transaction List",formula:"Individual transactions",value:0,explanation:"Final level: individual transactions"}],result:"Progressive narrowing from month to individual transactions"},{id:"payment-method-drill-down",title:"Payment Method Drill Down",scenario:"Analyzing by payment method",calculation:[{label:"Total Sales",formula:"All payment methods combined",value:0,explanation:"Starting point: total sales"},{label:"By Payment Method",formula:"Credit cards, cash, etc.",value:0,explanation:"Break down by payment method"},{label:"Specific Method",formula:"Focus on one payment method",value:0,explanation:"Drill into specific payment method"},{label:"Transaction Details",formula:"Individual transactions for that method",value:0,explanation:"See individual transactions"}],result:"Isolate and analyze specific payment methods"}]},{id:"filtering-strategies",title:"Effective Filtering Strategies",content:"Learn how to use filters effectively to find the data you need.",type:"strategies",examples:[{id:"multi-filter-approach",title:"Multi-Filter Approach",scenario:"Using multiple filters to narrow down data",calculation:[{label:"Date Range",formula:"Specific time period",value:0,explanation:"Start with relevant time frame"},{label:"Payment Method",formula:"Specific payment types",value:0,explanation:"Add payment method filter"},{label:"Amount Range",formula:"Transaction size filter",value:0,explanation:"Filter by transaction amount"},{label:"Location",formula:"Specific business location",value:0,explanation:"Filter by location if applicable"}],result:"Combine multiple filters for precise data analysis"}]},{id:"common-use-cases",title:"Common Navigation Use Cases",content:"Explore common scenarios where you need to navigate from summary to details.",type:"use-cases",examples:[{id:"discrepancy-investigation",title:"Investigating Discrepancies",scenario:"When summary numbers don't match expectations",calculation:[{label:"Identify Issue",formula:"Summary shows unexpected numbers",value:0,explanation:"Notice discrepancy in summary data"},{label:"Filter by Time",formula:"Narrow to specific time period",value:0,explanation:"Focus on when issue occurred"},{label:"Check Payment Methods",formula:"Look at payment method breakdown",value:0,explanation:"See if specific payment methods are affected"},{label:"Review Transactions",formula:"Examine individual transactions",value:0,explanation:"Find specific transactions causing the issue"}],result:"Systematic approach to finding root cause of discrepancies"},{id:"performance-analysis",title:"Performance Analysis",scenario:"Understanding business performance patterns",calculation:[{label:"High-Level Trends",formula:"Monthly/weekly performance",value:0,explanation:"Start with broad performance view"},{label:"Peak Identification",formula:"Find high-performing periods",value:0,explanation:"Identify peak performance times"},{label:"Drill into Peaks",formula:"Analyze high-performing days/hours",value:0,explanation:"Understand what drove good performance"},{label:"Transaction Analysis",formula:"Look at individual high-value transactions",value:0,explanation:"Identify specific successful transactions"}],result:"Understand what drives business performance"}]}],faqs:[{id:"navigation-faq-filters",question:"What filters are available for drilling down into transaction data?",answer:"Common filters include date range, payment method, transaction amount, location, item categories, and staff members.",category:"navigation",examples:["Date range: Last 30 days, specific week, custom range","Payment method: Credit cards, cash, gift cards, etc.","Amount: Transactions over $50, under $10, etc.","Location: Specific store locations for multi-location businesses"]},{id:"navigation-faq-export",question:"Can I export the detailed transaction data after filtering?",answer:"Yes, most reporting systems allow you to export filtered transaction data to CSV or Excel formats for further analysis.",category:"navigation",examples:["Export to CSV for spreadsheet analysis","Export to Excel with formatting","Export specific columns only","Export with applied filters maintained"]}],visualizations:[{id:"navigation-flow",type:"flowchart",title:"Navigation Flow Diagram",description:"Visual guide for navigating from summary to transaction details",data:[]}]},{id:"reconciliation-faqs",title:"Reconciliation FAQs",description:"Common questions about summary emails, close-of-day reports, and reconciliation processes",duration:"25 minutes",difficulty:"Beginner",sections:[{id:"reconciliation-overview",title:"Understanding Reconciliation",content:"Learn about the different reconciliation tools and reports available to help you balance your books.",type:"overview",examples:[{id:"reconciliation-tools",title:"Reconciliation Tools Overview",scenario:"Understanding the different tools available for reconciliation",calculation:[{label:"Summary Emails",formula:"Daily automated summaries",value:0,explanation:"Automated daily reports sent via email"},{label:"Close-of-Day Reports",formula:"End-of-business-day summaries",value:0,explanation:"Reports covering your configured business hours"},{label:"Dashboard Reports",formula:"Real-time reporting interface",value:0,explanation:"Interactive reports in your Square dashboard"},{label:"Export Options",formula:"Downloadable detailed data",value:0,explanation:"CSV and Excel exports for external analysis"}],result:"Multiple tools work together to provide complete reconciliation capabilities"}]}],faqs:[{id:"reconciliation-faq-email-timing",question:"When do I receive the daily summary email?",answer:"We send a daily email to merchants who have taken at least one payment for the day summarizing their gross sales. The email is sent after 1:30 AM PST. If you don't have business hours set (most merchants don't), you'll receive an email covering midnight to midnight. The Daily Sales Summary is based on your set business hours, which you can update in your Public Profile.",category:"summary-email",examples:["Sent after 1:30 AM PST for previous business day","Requires at least one payment to trigger email","Midnight to midnight if no business hours set","Based on business hours and timezone in Public Profile","Separate emails sent for each location with payments"]},{id:"reconciliation-faq-close-day-vs-summary",question:"What's the difference between close-of-day reports and summary emails?",answer:"Close-of-day reports cover transactions within your configured business hours, while summary emails typically cover a full 24-hour period. Close-of-day reports are generated when you manually close your day, while summary emails are sent automatically.",category:"close-of-day",examples:["Close-of-day: configured business hours only","Summary email: full 24-hour period","Close-of-day: manually triggered","Summary email: automatically sent"]},{id:"reconciliation-faq-missing-email",question:"I didn't receive my daily summary email. What should I do?",answer:"Check your spam/junk folder first. Verify your email address is correct in your Square account settings. If you still don't receive it, you can access the same information in your Square dashboard under Reports.",category:"troubleshooting",examples:["Check spam/junk email folders","Verify email address in account settings","Access reports directly in Square dashboard","Contact support if issue persists"]},{id:"reconciliation-faq-reconcile-cash",question:"How do I reconcile cash transactions?",answer:"Compare your physical cash count with the cash sales shown in your reports. The close-of-day report will show total cash sales, which should match your cash drawer after accounting for your starting cash amount.",category:"cash-reconciliation",examples:["Count physical cash in drawer","Check cash sales in close-of-day report","Account for starting cash amount","Investigate any discrepancies"]},{id:"reconciliation-faq-deposit-timing",question:"Why don't my deposits match my daily sales?",answer:"Deposits typically occur 1-2 business days after sales due to payment processing. Your daily sales report shows when transactions occurred, while deposits show when funds actually reach your bank account.",category:"deposits",examples:["Sales: when transaction occurred","Deposits: when funds reach bank (1-2 days later)","Weekend/holiday delays affect timing","Different payment methods have different processing times"]},{id:"reconciliation-faq-refund-reconciliation",question:"How do refunds appear in reconciliation reports?",answer:"Refunds appear as negative amounts in your reports and reduce your net sales. Same-day refunds may net against sales, while refunds processed on different days appear as separate line items.",category:"refunds",examples:["Refunds show as negative amounts","Same-day refunds: net against sales","Different-day refunds: separate line items","Reduces net sales and deposit amounts"]},{id:"reconciliation-faq-tax-reconciliation",question:"How is tax handled in reconciliation reports?",answer:"Tax collected is shown separately from sales in most reports. Your total transaction amount includes tax, but reports typically break down the tax portion separately for accounting purposes.",category:"tax",examples:["Tax shown separately from sales","Total transaction = sales + tax","Tax breakdown available for accounting","Tax rates may vary by location/item type"]},{id:"reconciliation-faq-multi-location",question:"How do I reconcile multiple locations?",answer:"You can view reports for individual locations or consolidated across all locations. Ensure each location's business hours and settings are configured consistently for accurate reconciliation.",category:"multi-location",examples:["Individual location reports available","Consolidated multi-location reports","Ensure consistent business hours settings","Configure time zones properly for each location"]},{id:"reconciliation-faq-discrepancy-investigation",question:"What should I do if I find discrepancies during reconciliation?",answer:"Start by checking transaction timing and business hours settings. Look for transactions outside normal hours, verify payment method totals, and check for any pending or failed transactions. Document discrepancies and contact support if needed.",category:"troubleshooting",examples:["Check transaction timing and business hours","Look for transactions outside normal hours","Verify payment method totals","Check for pending or failed transactions","Document discrepancies for support"]},{id:"reconciliation-faq-export-data",question:"Can I export reconciliation data for my accounting software?",answer:"Yes, Square provides various export options including CSV and Excel formats. You can export transaction details, summary reports, and tax information that can be imported into most accounting software.",category:"exports",examples:["CSV and Excel export formats available","Transaction details and summary reports","Tax information included","Compatible with most accounting software"]},{id:"reconciliation-faq-best-practices",question:"What are the best practices for daily reconciliation?",answer:"Reconcile daily rather than waiting, compare multiple report types for accuracy, keep physical receipts for cash transactions, document any discrepancies immediately, and maintain consistent business hours settings.",category:"best-practices",examples:["Reconcile daily, not weekly or monthly","Compare multiple report types for accuracy","Keep physical receipts for cash transactions","Document discrepancies immediately","Maintain consistent business hours settings"]}],visualizations:[{id:"reconciliation-flow",type:"flowchart",title:"Daily Reconciliation Process",description:"Step-by-step guide for daily reconciliation workflow",data:[]}]}],wp=j.createContext(void 0),ci=()=>{const t=j.useContext(wp);if(t===void 0)throw new Error("useEducation must be used within an EducationProvider");return t},df=({children:t})=>{const[s,a]=j.useState(null),[r,n]=j.useState(null),[i,o]=j.useState(new Set),[m,u]=j.useState({}),[l,c]=j.useState(null),[d,p]=j.useState(""),[h,g]=j.useState(""),y=j.useCallback(k=>{var R;const _=Ra.find(F=>F.id===k);_&&(a(_),n(((R=_.sections[0])==null?void 0:R.id)||null))},[]),N=j.useCallback(k=>{n(k)},[]),f=j.useCallback(()=>{if(!s||!r)return null;const k=s.sections.findIndex(_=>_.id===r);return k<s.sections.length-1?s.sections[k+1].id:null},[s,r]),x=j.useCallback(()=>{if(!s||!r)return null;const k=s.sections.findIndex(_=>_.id===r);return k>0?s.sections[k-1].id:null},[s,r]),v=j.useCallback(k=>{o(_=>new Set(_).add(k))},[]),C=j.useCallback(k=>{const _=Ra.find(F=>F.id===k);return _?_.sections.filter(F=>i.has(F.id)).length/_.sections.length*100:0},[i]),T=j.useCallback((k,_)=>{u(R=>({...R,[k]:_}))},[]),P=j.useCallback(k=>{var F;const _={},R=(F=Ra.flatMap(V=>V.sections).find(V=>{var ne;return((ne=V.calculator)==null?void 0:ne.id)===k}))==null?void 0:F.calculator;return R&&R.outputs.forEach(V=>{let ne=0;try{let O=V.formula;R.inputs.forEach(Re=>{const I=m[Re.id]||Re.defaultValue||0;O=O.replace(new RegExp(Re.id,"g"),String(I))}),O.includes("+")||O.includes("-")||O.includes("*")||O.includes("/")?(O=O.replace(/\s/g,""),/^[0-9+\-*/.() ]+$/.test(O)&&(ne=Function('"use strict"; return ('+O+")")())):ne=m[V.formula]||0}catch(O){console.error("Error calculating result:",O),ne=0}_[V.id]=ne}),_},[m]),w=j.useCallback(k=>{const _=zn.find(R=>R.id===k);c(_||null)},[]),S=j.useCallback(()=>Ra.filter(k=>{const _=d===""||k.title.toLowerCase().includes(d.toLowerCase())||k.description.toLowerCase().includes(d.toLowerCase()),R=h===""||k.difficulty===h;return _&&R}),[d,h]),b={modules:Ra,currentModule:s,currentSectionId:r,setCurrentModule:y,setCurrentSection:N,getNextSection:f,getPreviousSection:x,completedSections:i,markSectionComplete:v,getModuleProgress:C,calculatorInputs:m,updateCalculatorInput:T,calculateResult:P,scenarios:zn,selectedScenario:l,setSelectedScenario:w,searchTerm:d,setSearchTerm:p,difficultyFilter:h,setDifficultyFilter:g,getFilteredModules:S};return e.jsx(wp.Provider,{value:b,children:t})},mf=[{id:"gift-card-tracking",title:"Tracking Gift Cards",description:"Gift card purchase, refund, and payment scenarios",scenarios:[{id:"gc-purchase",title:"Gift Card Purchase",description:"A customer purchases a GC worth $50",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:50},{label:"      Partial Payments",amount:0}],total:50}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:50},{label:"     Cash",amount:0},{label:"     Card",amount:50},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:50}]},{id:"gc-refund",title:"Gift Card Refund",description:"Customer returns a GC",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      GC Refund",amount:-50},{label:"      Partial Payments",amount:0}],total:0}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:-50},{label:"     Cash",amount:0},{label:"     Card",amount:-50},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:-50}]}]},{id:"gift-card-payment",title:"Tracking Payments via Gift Card",description:"Customer purchases items using gift cards",scenarios:[{id:"gc-payment-sale",title:"Sale with Gift Card",description:"Customer purchases an item worth $50 via GC",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:50},{label:"          Items",amount:50},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:50},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:50}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:50},{label:"     Cash",amount:0},{label:"     Card",amount:0},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:50},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:50}]},{id:"gc-payment-refund",title:"Refund with Gift Card",description:"Customer returns item purchased with gift card",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:-50},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:-50},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:-50}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:-50},{label:"     Cash",amount:0},{label:"     Card",amount:0},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:-50},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:-50}]}]},{id:"invoices-deposits",title:"Tracking Partial payments/Deposits - Partial Payments",description:"Invoice deposits tracking with negative amounts in deferred sales",scenarios:[{id:"invoice-deposit-day",title:"Deposit Day",description:"Customer pays $100 deposit towards a $1000 invoice",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:100}],total:100}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:100},{label:"     Cash",amount:0},{label:"     Card",amount:100},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:100}]},{id:"invoice-remaining-payment",title:"Remaining Payment",description:"Customer pays remaining $900 - deposit tracked as negative in deferred sales",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"          Items",amount:1e3},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0},{label:"      Partial Payments Redeemed",amount:-100}],total:900}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:900},{label:"     Cash",amount:0},{label:"     Card",amount:900},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:900}]},{id:"invoice-full-cycle",title:"Full Cycle",description:"Complete transaction showing both deposit and final payment",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"          Items",amount:1e3},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:100},{label:"      Partial Payments Redeemed",amount:-100}],total:1e3}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:1e3},{label:"     Cash",amount:0},{label:"     Card",amount:1e3},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:1e3}]}]},{id:"appointments-deposits",title:"Tracking Partial payments/Deposits - Appointments",description:"Customer pays deposit towards scheduled appointments",scenarios:[{id:"appointment-deposit-day",title:"Appointment Deposit Day",description:"Customer pays $50 deposit towards a $200 appointment",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0},{label:"      Appointments Deposit",amount:50}],total:50}],paymentSections:[{title:"Payments",lines:[{label:"Payments",amount:50},{label:"Prior Payments",amount:0},{label:"       Appointments Deposit Redeemed",amount:0},{label:"Total Collected",amount:50},{label:"     Cash",amount:0},{label:"     Card",amount:50},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:50}]},{id:"appointment-remaining-payment",title:"Remaining Payment",description:"Customer pays remaining amount with appointment deposit redeemed",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:200},{label:"          Items",amount:0},{label:"          Service Charges",amount:200},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:200},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0},{label:"      Appointments Deposit Redeemed",amount:-50}],total:150}],paymentSections:[{title:"Payments",lines:[{label:"Payments",amount:200},{label:"Prior Payments",amount:0},{label:"       Appointments Deposit Redeemed",amount:50},{label:"Total Collected",amount:150},{label:"     Cash",amount:0},{label:"     Card",amount:150},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:150}]},{id:"appointment-full-cycle",title:"Full Cycle",description:"Shows both appointment deposit and appointment deposit redeemed",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:200},{label:"          Items",amount:0},{label:"          Service Charges",amount:200},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:200},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0},{label:"      Appointments Deposit",amount:50},{label:"      Appointments Deposit Redeemed",amount:-50}],total:200}],paymentSections:[{title:"Payments",lines:[{label:"Payments",amount:250},{label:"Prior Payments",amount:0},{label:"       Appointments Deposit Redeemed",amount:50},{label:"Total Collected",amount:200},{label:"     Cash",amount:0},{label:"     Card",amount:200},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:200}]}]},{id:"catering-so",title:"Tracking Catering (Square Online)",description:"Catering order placed in advance with payment collected upfront",scenarios:[{id:"catering-order",title:"Catering Order Placed",description:"Catering order for $1000 placed on Apr 28, 2025 to be fulfilled May 15, 2025",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:1e3}],paymentSections:[{title:"Payments",lines:[{label:"Payments",amount:1e3},{label:"Prior Payments",amount:0},{label:"       Partial Payments Redeemed",amount:0},{label:"Total Collected",amount:1e3},{label:"     Cash",amount:0},{label:"     Card",amount:1e3},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:1e3}]},{id:"catering-fulfilled",title:"Catering Order Fulfilled",description:"Revenue recognized on May 15, 2025 when service is fulfilled",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"          Items",amount:1e3},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:0}],paymentSections:[{title:"Payments",lines:[{label:"Payments",amount:0},{label:"Prior Payments",amount:0},{label:"       Partial Payments Redeemed",amount:0},{label:"Total Collected",amount:0},{label:"     Cash",amount:0},{label:"     Card",amount:0},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:0}]}]}],Sp=j.createContext(void 0);function uf({children:t}){const[s,a]=j.useState(null),[r,n]=j.useState(null),[i,o]=j.useState({start:new Date(2025,6,29),end:new Date(2025,6,30)}),u={scenarioGroups:mf,selectedGroup:s,selectedScenario:r,dateRange:i,setSelectedGroup:a,setSelectedScenario:n,setDateRange:o,getScenarioDataForDate:(l,c)=>{if(l.id==="deposit-payment"||l.id==="remaining-payment"){const d=new Date(2025,6,5),p=new Date(2025,6,10),h=c.start<=d&&d<=c.end,g=c.start<=p&&p<=c.end;if(h&&!g)return{...l,id:"deposit-payment",title:"Deposit Payment",description:"Customer pays $100 deposit towards a $1000 item (July 5)",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:100}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:100},{label:"     Cash",amount:0},{label:"     Card",amount:100},{label:"     Partial Payments Redeemed",amount:0},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:100}]};if(!h&&g)return{...l,id:"remaining-payment",title:"Remaining Payment",description:"Customer pays remaining amount - gross sales recognized (July 10)",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"          Items",amount:1e3},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0}],total:1e3}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:1e3},{label:"     Cash",amount:0},{label:"     Card",amount:900},{label:"     Partial Payments Redeemed",amount:100},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:1e3}]};if(h&&g)return{...l,id:"combined-deposit-payment",title:"Combined Deposit & Payment",description:"Full transaction cycle - deposit taken July 5, remaining paid July 10",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"Items",amount:1e3},{label:"Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"Gift Card Sales",amount:0},{label:"Deposit",amount:0}],total:1e3}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:1e3},{label:"Cash",amount:0},{label:"Card",amount:1e3},{label:"Partial Payments Redeemed",amount:0},{label:"External",amount:0},{label:"Other",amount:0},{label:"Gift Card",amount:0},{label:"Bank Transfer",amount:0},{label:"House Account",amount:0},{label:"Fees",amount:0}],total:1e3}]}}if(l.id==="partial-payment"||l.id==="completed-invoice"){const d=new Date(2025,6,5),p=new Date(2025,6,10),h=c.start<=d&&d<=c.end,g=c.start<=p&&p<=c.end;if(h&&!g)return{...l,id:"partial-payment",title:"Partial Payment",description:"Customer pays $100 towards a $1000 invoice (July 5)",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:0},{label:"          Items",amount:0},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:0},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:100}],total:100}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:100},{label:"     Cash",amount:0},{label:"     Card",amount:100},{label:"     Partial Payments Redeemed",amount:0},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:100}]};if(!h&&g)return{...l,id:"completed-invoice-remaining",title:"Invoice Completion",description:"Customer pays remaining invoice amount - gross sales recognized (July 10)",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"          Items",amount:1e3},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:1e3}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:1e3},{label:"     Cash",amount:0},{label:"     Card",amount:900},{label:"     Partial Payments Redeemed",amount:100},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:1e3}]};if(h&&g)return{...l,id:"combined-invoice-payment",title:"Combined Invoice Payment",description:"Full invoice cycle - partial payment July 5, completion July 10",salesSections:[{title:"Sales",lines:[{label:"Gross Sales",amount:1e3},{label:"          Items",amount:1e3},{label:"          Service Charges",amount:0},{label:"Returns",amount:0},{label:"Discounts & Comps",amount:0},{label:"Net Sales",amount:1e3},{label:"Tax",amount:0},{label:"Tip",amount:0},{label:"Refunds by Amount",amount:0}]},{title:"Deferred Sales",lines:[{label:"      Gift Card Sales",amount:0},{label:"      Partial Payments",amount:0}],total:1e3}],paymentSections:[{title:"Payments",lines:[{label:"Total Collected",amount:1e3},{label:"     Cash",amount:0},{label:"     Card",amount:1e3},{label:"     Partial Payments Redeemed",amount:0},{label:"     External",amount:0},{label:"     Other",amount:0},{label:"     Gift Card",amount:0},{label:"     Bank Transfer",amount:0},{label:"     House Account",amount:0},{label:"     Fees",amount:0}],total:1e3}]}}return l}};return e.jsx(Sp.Provider,{value:u,children:t})}function Sr(){const t=j.useContext(Sp);if(t===void 0)throw new Error("useDeferredSales must be used within a DeferredSalesProvider");return t}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xf=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,r)=>r?r.toUpperCase():a.toLowerCase()),kd=t=>{const s=xf(t);return s.charAt(0).toUpperCase()+s.slice(1)},Cp=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim(),hf=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=j.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:o,...m},u)=>j.createElement("svg",{ref:u,...gf,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:Cp("lucide",n),...!i&&!hf(m)&&{"aria-hidden":"true"},...m},[...o.map(([l,c])=>j.createElement(l,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=(t,s)=>{const a=j.forwardRef(({className:r,...n},i)=>j.createElement(ff,{ref:i,iconNode:s,className:Cp(`lucide-${pf(kd(t))}`,`lucide-${t}`,r),...n}));return a.displayName=kd(t),a};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pt=A("activity",yf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ja=A("arrow-left",vf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fr=A("arrow-right",bf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Nf=A("arrow-up-down",jf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Sf=A("award",wf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kf=A("bell",Cf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qo=A("book-open",Pf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_f=A("bot",Tf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],dn=A("brain",Rf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],kp=A("building-2",Mf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Za=A("calculator",Df);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rt=A("calendar",Af);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],de=A("chart-column",If);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Pp=A("chart-pie",Ef);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],mn=A("chef-hat",$f);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],we=A("chevron-down",Of);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zt=A("chevron-left",Lf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cr=A("chevron-right",Ff);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],di=A("chevron-up",zf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ka=A("circle-alert",Bf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ft=A("circle-check-big",Gf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bn=A("circle-check",Vf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ye=A("circle-question-mark",Wf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bi=A("circle-x",qf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tp=A("circle",Uf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ye=A("clock",Hf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],_p=A("cloud",Yf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Zo=A("code",Qf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pd=A("copy",Zf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mi=A("credit-card",Kf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ul=A("database",Jf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],kt=A("dollar-sign",Xf);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Pt=A("download",ey);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ui=A("ellipsis",ty);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rp=A("external-link",sy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hl=A("eye-off",ay);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bt=A("eye",ry);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ds=A("file-text",ny);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kr=A("funnel",iy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oy=A("globe",ly);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Mp=A("graduation-cap",cy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ko=A("grid-3x3",dy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],uy=A("grip-vertical",my);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xy=A("house",py);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jo=A("info",hy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],la=A("lightbulb",gy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],yy=A("link",fy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],by=A("list",vy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ny=A("loader-circle",jy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Sy=A("mail",wy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xo=A("map-pin",Cy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Py=A("maximize-2",ky);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],un=A("message-circle",Ty);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Gn=A("message-square",_y);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],My=A("minimize-2",Ry);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ay=A("minus",Dy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ht=A("package",Iy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Yl=A("paperclip",Ey);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Oy=A("pause",$y);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Fy=A("percent",Ly);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],By=A("piggy-bank",zy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vy=A("play",Gy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nt=A("plus",Wy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Uy=A("printer",qy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ts=A("refresh-cw",Hy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ec=A("rotate-ccw",Yy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dp=A("save",Qy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ze=A("search",Zy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Jy=A("send",Ky);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],At=A("settings",Xy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ap=A("share-2",ev);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],tc=A("shopping-cart",tv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ms=A("sparkles",sv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rv=A("square-pen",av);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ga=A("star",nv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ue=A("target",iv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],ov=A("thumbs-down",lv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],dv=A("thumbs-up",cv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oa=A("trash-2",mv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ct=A("trending-down",uv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oe=A("trending-up",pv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tt=A("triangle-alert",xv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],gv=A("truck",hv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],yv=A("unlink",fv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ql=A("upload",vv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pr=A("user",bv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],It=A("users",jv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wv=A("wifi-off",Nv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Td=A("wifi",Sv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],je=A("x",Cv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_e=A("zap",kv);function Ip(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(s=0;s<t.length;s++)t[s]&&(a=Ip(t[s]))&&(r&&(r+=" "),r+=a);else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function Pv(){for(var t,s,a=0,r="";a<arguments.length;)(t=arguments[a++])&&(s=Ip(t))&&(r&&(r+=" "),r+=s);return r}function Tv(){for(var t=0,s,a,r="";t<arguments.length;)(s=arguments[t++])&&(a=Ep(s))&&(r&&(r+=" "),r+=a);return r}function Ep(t){if(typeof t=="string")return t;for(var s,a="",r=0;r<t.length;r++)t[r]&&(s=Ep(t[r]))&&(a&&(a+=" "),a+=s);return a}var sc="-";function _v(t){var s=Mv(t),a=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,n=r===void 0?{}:r;function i(m){var u=m.split(sc);return u[0]===""&&u.length!==1&&u.shift(),$p(u,s)||Rv(m)}function o(m,u){var l=a[m]||[];return u&&n[m]?[].concat(l,n[m]):l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function $p(t,s){var o;if(t.length===0)return s.classGroupId;var a=t[0],r=s.nextPart.get(a),n=r?$p(t.slice(1),r):void 0;if(n)return n;if(s.validators.length!==0){var i=t.join(sc);return(o=s.validators.find(function(m){var u=m.validator;return u(i)}))==null?void 0:o.classGroupId}}var _d=/^\[(.+)\]$/;function Rv(t){if(_d.test(t)){var s=_d.exec(t)[1],a=s==null?void 0:s.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}}function Mv(t){var s=t.theme,a=t.prefix,r={nextPart:new Map,validators:[]},n=Av(Object.entries(t.classGroups),a);return n.forEach(function(i){var o=i[0],m=i[1];Zl(m,r,o,s)}),r}function Zl(t,s,a,r){t.forEach(function(n){if(typeof n=="string"){var i=n===""?s:Rd(s,n);i.classGroupId=a;return}if(typeof n=="function"){if(Dv(n)){Zl(n(r),s,a,r);return}s.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(function(o){var m=o[0],u=o[1];Zl(u,Rd(s,m),a,r)})})}function Rd(t,s){var a=t;return s.split(sc).forEach(function(r){a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a}function Dv(t){return t.isThemeGetter}function Av(t,s){return s?t.map(function(a){var r=a[0],n=a[1],i=n.map(function(o){return typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(m){var u=m[0],l=m[1];return[s+u,l]})):o});return[r,i]}):t}function Iv(t){if(t<1)return{get:function(){},set:function(){}};var s=0,a=new Map,r=new Map;function n(i,o){a.set(i,o),s++,s>t&&(s=0,r=a,a=new Map)}return{get:function(o){var m=a.get(o);if(m!==void 0)return m;if((m=r.get(o))!==void 0)return n(o,m),m},set:function(o,m){a.has(o)?a.set(o,m):n(o,m)}}}var Op="!";function Ev(t){var s=t.separator||":",a=s.length===1,r=s[0],n=s.length;return function(o){for(var m=[],u=0,l=0,c,d=0;d<o.length;d++){var p=o[d];if(u===0){if(p===r&&(a||o.slice(d,d+n)===s)){m.push(o.slice(l,d)),l=d+n;continue}if(p==="/"){c=d;continue}}p==="["?u++:p==="]"&&u--}var h=m.length===0?o:o.substring(l),g=h.startsWith(Op),y=g?h.substring(1):h,N=c&&c>l?c-l:void 0;return{modifiers:m,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:N}}}function $v(t){if(t.length<=1)return t;var s=[],a=[];return t.forEach(function(r){var n=r[0]==="[";n?(s.push.apply(s,a.sort().concat([r])),a=[]):a.push(r)}),s.push.apply(s,a.sort()),s}function Ov(t){return{cache:Iv(t.cacheSize),splitModifiers:Ev(t),..._v(t)}}var Lv=/\s+/;function Fv(t,s){var a=s.splitModifiers,r=s.getClassGroupId,n=s.getConflictingClassGroupIds,i=new Set;return t.trim().split(Lv).map(function(o){var m=a(o),u=m.modifiers,l=m.hasImportantModifier,c=m.baseClassName,d=m.maybePostfixModifierPosition,p=r(d?c.substring(0,d):c),h=!!d;if(!p){if(!d)return{isTailwindClass:!1,originalClassName:o};if(p=r(c),!p)return{isTailwindClass:!1,originalClassName:o};h=!1}var g=$v(u).join(":"),y=l?g+Op:g;return{isTailwindClass:!0,modifierId:y,classGroupId:p,originalClassName:o,hasPostfixModifier:h}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var m=o.modifierId,u=o.classGroupId,l=o.hasPostfixModifier,c=m+u;return i.has(c)?!1:(i.add(c),n(u,l).forEach(function(d){return i.add(m+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function zv(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var r,n,i,o=m;function m(l){var c=s[0],d=s.slice(1),p=d.reduce(function(h,g){return g(h)},c());return r=Ov(p),n=r.cache.get,i=r.cache.set,o=u,u(l)}function u(l){var c=n(l);if(c)return c;var d=Fv(l,r);return i(l,d),d}return function(){return o(Tv.apply(null,arguments))}}function J(t){var s=function(r){return r[t]||[]};return s.isThemeGetter=!0,s}var Lp=/^\[(?:([a-z-]+):)?(.+)\]$/i,Bv=/^\d+\/\d+$/,Gv=new Set(["px","full","screen"]),Vv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qv=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ct(t){return Ss(t)||Gv.has(t)||Bv.test(t)||Kl(t)}function Kl(t){return Os(t,"length",Kv)}function Uv(t){return Os(t,"size",Fp)}function Hv(t){return Os(t,"position",Fp)}function Yv(t){return Os(t,"url",Jv)}function Ur(t){return Os(t,"number",Ss)}function Ss(t){return!Number.isNaN(Number(t))}function Qv(t){return t.endsWith("%")&&Ss(t.slice(0,-1))}function Ma(t){return Md(t)||Os(t,"number",Md)}function q(t){return Lp.test(t)}function Da(){return!0}function Wt(t){return Vv.test(t)}function Zv(t){return Os(t,"",Xv)}function Os(t,s,a){var r=Lp.exec(t);return r?r[1]?r[1]===s:a(r[2]):!1}function Kv(t){return Wv.test(t)}function Fp(){return!1}function Jv(t){return t.startsWith("url(")}function Md(t){return Number.isInteger(Number(t))}function Xv(t){return qv.test(t)}function eb(){var t=J("colors"),s=J("spacing"),a=J("blur"),r=J("brightness"),n=J("borderColor"),i=J("borderRadius"),o=J("borderSpacing"),m=J("borderWidth"),u=J("contrast"),l=J("grayscale"),c=J("hueRotate"),d=J("invert"),p=J("gap"),h=J("gradientColorStops"),g=J("gradientColorStopPositions"),y=J("inset"),N=J("margin"),f=J("opacity"),x=J("padding"),v=J("saturate"),C=J("scale"),T=J("sepia"),P=J("skew"),w=J("space"),S=J("translate"),b=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},_=function(){return["auto",q,s]},R=function(){return[q,s]},F=function(){return["",ct]},V=function(){return["auto",Ss,q]},ne=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},O=function(){return["solid","dashed","dotted","double","none"]},Re=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},I=function(){return["start","end","center","between","around","evenly","stretch"]},L=function(){return["","0",q]},B=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[Ss,Ur]},z=function(){return[Ss,q]};return{cacheSize:500,theme:{colors:[Da],spacing:[ct],blur:["none","",Wt,q],brightness:$(),borderColor:[t],borderRadius:["none","","full",Wt,q],borderSpacing:R(),borderWidth:F(),contrast:$(),grayscale:L(),hueRotate:z(),invert:L(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Qv,Kl],inset:_(),margin:_(),opacity:$(),padding:R(),saturate:$(),scale:$(),sepia:L(),skew:z(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[Wt]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ne(),[q])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ma]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ma]}],"grid-cols":[{"grid-cols":[Da]}],"col-start-end":[{col:["auto",{span:["full",Ma]},q]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Da]}],"row-start-end":[{row:["auto",{span:[Ma]},q]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(I())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(I(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(I(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",q,s]}],"min-w":[{"min-w":["min","max","fit",q,ct]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Wt]},Wt,q]}],h:[{h:[q,s,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",q,ct]}],"max-h":[{"max-h":[q,s,"min","max","fit"]}],"font-size":[{text:["base",Wt,Kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ur]}],"font-family":[{font:[Da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",Ss,Ur]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",q,ct]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(O(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ct]}],"underline-offset":[{"underline-offset":["auto",q,ct]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ne(),[Hv])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uv]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yv]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[].concat(O(),["hidden"])}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:O()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:[""].concat(O())}],"outline-offset":[{"outline-offset":[q,ct]}],"outline-w":[{outline:[ct]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[ct]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wt,Zv]}],"shadow-color":[{shadow:[Da]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":Re()}],"bg-blend":[{"bg-blend":Re()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Wt,q]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ma,q]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ct,Ur]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var tb=zv(eb);function U(...t){return tb(Pv(t))}const Dd=[{id:"home",label:"Home",icon:xy},{id:"invoices",label:"Invoices & payments",icon:ds},{id:"online",label:"Online",icon:oy},{id:"customers",label:"Customers",icon:mi},{id:"financial-suite",label:"Financial Suite",icon:de,hasSubmenu:!0,submenuItems:[{id:"financial-dashboard",label:" Dashboard"},{id:"reports",label:" Reports",hasSubmenu:!0,submenuItems:[{id:"standard-reports",label:"Standard Reports"},{id:"custom-reports",label:"Custom Reports"},{id:"report-builder",label:"Report Builder"},{id:"templates",label:"Templates"}]},{id:"analytics",label:" Analytics",hasSubmenu:!0,submenuItems:[{id:"benchmarking",label:"Benchmarking"},{id:"advanced-analytics",label:" Advanced Analytics"},{id:"forecasting",label:" Forecasting"},{id:"ingredient-analytics",label:" Ingredient Analytics"},{id:"profitability-analytics",label:" Profitability Analytics"},{id:"cash-flow-intelligence",label:" Cash Flow Intelligence"}]},{id:"integrations",label:" Integrations",hasSubmenu:!0,submenuItems:[{id:"integration-settings",label:"Settings"},{id:"external-data",label:"External Data"},{id:"data-sources",label:"Data Sources"},{id:"data-uploads",label:"Uploads"}]},{id:"procurement",label:" Procurement"},{id:"bill-pay",label:" Bill Pay & AP"},{id:"automation",label:" Automation",hasSubmenu:!0,submenuItems:[{id:"scheduled-exports",label:"Scheduled Exports"}]}]},{id:"fs-prototype",label:"FS Prototype",icon:pt,hasSubmenu:!0,submenuItems:[{id:"fs-dashboard",label:"Dashboard"},{id:"fs-reports",label:"Reports",hasSubmenu:!0,submenuItems:[{id:"fs-sales-summary",label:"Sales summary"},{id:"fs-sales-by-location",label:"Sales by location"},{id:"fs-sales-by-time",label:"Sales by time"},{id:"fs-sales-by-category",label:"Sales by category"},{id:"fs-sales-by-item",label:"Sales by item"},{id:"fs-discounts-comps",label:"Discounts & comps"},{id:"fs-taxes",label:"Taxes"},{id:"fs-payments",label:"Payments"},{id:"fs-cash-drawer",label:"Cash drawer"},{id:"fs-deposits",label:"Deposits"},{id:"fs-employee-timecards",label:"Employee timecards"},{id:"fs-gratuity",label:"Gratuity"},{id:"fs-items-sold",label:"Items sold"},{id:"fs-modifier-sold",label:"Modifier sold"},{id:"fs-customer-directory",label:"Customer directory"}]},{id:"fs-custom-reports",label:"Custom Reports"}]},{id:"staff",label:"Staff",icon:It},{id:"money",label:"Money",icon:kp},{id:"education",label:"Education",icon:Mp},{id:"settings",label:"Settings",icon:At},{id:"add-more",label:"Add more",icon:Ko}];function sb(){var d;const[t,s]=j.useState("main"),[a,r]=j.useState([]),n=Z(),i=ba(),o=p=>{p.hasSubmenu?(s(p.id),p.id==="financial-suite"?n("/financial-suite"):p.id==="fs-prototype"&&n("/fs-prototype")):(p.id==="home"&&n("/"),p.id==="reports"&&n("/reports"),p.id==="education"&&n("/education"))},m=(p,h)=>{if(p.hasSubmenu)l(p.id);else if(p.id==="financial-dashboard")n("/financial-suite");else if(p.id==="standard-reports")n("/financial-suite/standard-reports");else if(p.id==="custom-reports")n("/financial-suite/custom-reports");else if(p.id==="report-builder")n("/financial-suite/custom-reports/create");else if(p.id==="templates")n("/financial-suite/templates");else if(p.id==="benchmarking")n("/financial-suite/benchmarking");else if(p.id==="advanced-analytics")n("/financial-suite/advanced-analytics");else if(p.id==="forecasting")n("/financial-suite/forecasting");else if(p.id==="ingredient-analytics")n("/financial-suite/ingredient-tracking");else if(p.id==="profitability-analytics")n("/financial-suite/profitability-analytics");else if(p.id==="cash-flow-intelligence")n("/financial-suite/cash-flow-intelligence");else if(p.id==="integration-settings")n("/financial-suite/integration-settings");else if(p.id==="external-data")n("/financial-suite/external-data");else if(p.id==="data-sources")n("/financial-suite/integration-settings?tab=sources");else if(p.id==="data-uploads")n("/financial-suite/integration-settings?tab=uploads");else if(p.id==="scheduled-exports")n("/financial-suite/scheduled-exports");else if(p.id==="procurement")n("/financial-suite/procurement");else if(p.id==="bill-pay")n("/financial-suite/bill-pay");else if(p.id==="alert-rules")n("/financial-suite/integration-settings?tab=alerts");else if(p.id==="fs-dashboard")n("/fs-prototype");else if(p.id==="fs-reports")l(p.id);else if(p.id==="fs-custom-reports")n("/fs-prototype/custom-reports");else if(p.id.startsWith("fs-")){const g=p.id.replace("fs-","");n(`/fs-prototype/reports/${g}`)}},u=()=>s("main"),l=p=>{r(h=>h.includes(p)?h.filter(g=>g!==p):[...h,p])},c=Dd.find(p=>p.id===t);return e.jsxs("div",{className:"relative w-64 h-screen bg-gray-50 border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search",className:"w-full pl-10 pr-4 py-2 bg-gray-100 border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[e.jsx("div",{className:U("absolute inset-0 transition-transform duration-300 ease-in-out",t!=="main"?"-translate-x-full":"translate-x-0"),children:e.jsx("div",{className:"py-2 h-full overflow-y-auto",children:Dd.map(p=>{const h=p.icon;let g=!1;return p.id==="home"?g=i.pathname==="/":p.id==="reports"?g=i.pathname.startsWith("/reports"):p.id==="education"?g=i.pathname.startsWith("/education"):p.id==="financial-suite"?g=i.pathname.startsWith("/financial-suite"):p.id==="fs-prototype"&&(g=i.pathname.startsWith("/fs-prototype")),e.jsxs("button",{onClick:()=>o(p),className:U("w-full flex items-center space-x-3 px-4 py-2.5 text-left transition-colors font-normal",g?"bg-blue-100 text-blue-600":"text-gray-700 hover:bg-gray-200"),children:[e.jsx(h,{className:"h-5 w-5"}),e.jsx("span",{children:p.label})]},p.id)})})}),(c==null?void 0:c.hasSubmenu)&&e.jsx("div",{className:U("absolute inset-0 transition-transform duration-300 ease-in-out bg-gray-50",t===c.id?"translate-x-0":"translate-x-full"),children:e.jsxs("div",{className:"h-full overflow-y-auto",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:u,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(zt,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h2",{className:"font-medium text-gray-900",children:c.label})]})}),e.jsx("div",{className:"py-2",children:(d=c.submenuItems)==null?void 0:d.map(p=>{var h;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>m(p,c.id),className:U("w-full flex items-center justify-between px-4 py-2.5 text-left transition-colors font-normal",p.id==="sales-summary"&&i.pathname.includes("sales-summary")?"text-blue-600 bg-blue-100":"text-gray-700 hover:bg-gray-100"),children:[e.jsx("span",{children:p.label}),p.hasSubmenu&&(a.includes(p.id)?e.jsx(di,{className:"h-4 w-4 text-gray-400"}):e.jsx(we,{className:"h-4 w-4 text-gray-400"}))]}),p.hasSubmenu&&a.includes(p.id)&&e.jsx("div",{className:"bg-gray-100",children:(h=p.submenuItems)==null?void 0:h.map(g=>e.jsx("button",{onClick:()=>m(g,p.id),className:U("w-full flex items-center px-8 py-2 text-left transition-colors font-normal text-sm",g.id==="sales-summary"&&i.pathname.includes("sales-summary")?"text-blue-600 bg-blue-100":"text-gray-700 hover:bg-gray-200"),children:e.jsx("span",{children:g.label})},g.id))})]},p.id)})})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-center space-x-6 py-3",children:[e.jsxs("button",{className:"relative p-2 hover:bg-gray-100 rounded transition-colors",children:[e.jsx(kf,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"1"})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded transition-colors",children:e.jsx(un,{className:"h-4 w-4 text-gray-600"})}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded transition-colors",children:e.jsx(Ye,{className:"h-4 w-4 text-gray-600"})})]}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsxs("button",{className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-100 rounded transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pr,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-normal text-gray-900",children:"Divya's FS Demo"})]}),e.jsx(zt,{className:"h-4 w-4 text-gray-400 rotate-180"})]})})]})]})}function M({variant:t="primary",size:s="md",className:a,children:r,...n}){return e.jsx("button",{className:U("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-0",{"px-3 py-2 text-sm":s==="sm","px-4 py-2 text-sm":s==="md","px-6 py-3 text-base":s==="lg"},{"bg-blue-600 text-white hover:bg-blue-700":t==="primary","bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300":t==="secondary","border border-gray-300 bg-white text-blue-600 hover:bg-gray-50":t==="outline","text-gray-700 hover:bg-gray-100":t==="ghost"},a),...n,children:r})}function ab({conversations:t,currentConversationId:s,onSelectConversation:a,onNewConversation:r,onDeleteConversation:n,onExportConversation:i,className:o}){const m=d=>{const h=(new Date().getTime()-d.getTime())/(1e3*60*60);return h<1?"Just now":h<24?`${Math.floor(h)}h ago`:h<48?"Yesterday":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(d)},u=d=>{const p=d.messages.filter(g=>g.role==="user").pop();if(!p)return"New conversation";const h=p.content;return h.length>60?h.substring(0,60)+"...":h},l=d=>d.messages.length,c=d=>d.messages.some(p=>{var h;return((h=p.metadata)==null?void 0:h.rating)===1});return e.jsxs("div",{className:U("w-80 bg-gray-50 border-r border-gray-200 flex flex-col h-full",o),children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Gn,{className:"h-5 w-5 text-blue-500"}),"AI Assistant"]})}),e.jsxs(M,{onClick:r,className:"w-full justify-start gap-2",variant:"outline",children:[e.jsx(nt,{className:"h-4 w-4"}),"New Conversation"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(Gn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-sm font-medium",children:"No conversations yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start a new conversation to get help with anything!"})]}):e.jsx("div",{className:"p-2 space-y-1",children:t.map(d=>e.jsxs("div",{className:U("group relative rounded-lg transition-colors",s===d.id?"bg-white shadow-sm border border-blue-200":"hover:bg-white hover:shadow-sm"),children:[e.jsx("button",{onClick:()=>a(d.id),className:"w-full text-left p-3 rounded-lg",children:e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:U("font-medium text-sm truncate",s===d.id?"text-blue-900":"text-gray-900"),children:d.title}),c(d)&&e.jsx(ga,{className:"h-3 w-3 text-yellow-500 fill-current flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2 line-clamp-2",children:u(d)}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:m(d.updatedAt)})]}),e.jsxs("span",{children:[l(d)," messages"]})]})]})})}),e.jsxs("div",{className:U("absolute top-2 right-2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",s===d.id&&"opacity-100"),children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),i(d.id)},className:"h-6 w-6 p-0 text-gray-400 hover:text-blue-600",title:"Export conversation",children:e.jsx(Pt,{className:"h-3 w-3"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),confirm("Are you sure you want to delete this conversation?")&&n(d.id)},className:"h-6 w-6 p-0 text-gray-400 hover:text-red-600",title:"Delete conversation",children:e.jsx(oa,{className:"h-3 w-3"})})]})]},d.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[e.jsx("div",{children:" Pro tip: Use Shift+Enter for new lines"}),e.jsx("div",{children:" Drag & drop files to attach them"})]})})]})}function Ad({message:t,onRegenerate:s,onRate:a,showTimestamp:r=!0,isTyping:n=!1}){var f,x,v;const[i,o]=j.useState(!1),[m,u]=j.useState(!1),l=t.role==="user",c=t.role==="assistant",d=async()=>{try{await navigator.clipboard.writeText(t.content),o(!0),setTimeout(()=>o(!1),2e3)}catch(C){console.error("Failed to copy message:",C)}},p=C=>{a&&a(t.id,C)},h=C=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(C),g=()=>{if(n)return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Thinking..."})]});const C=/```(\w+)?\n([\s\S]*?)```/g,T=[];let P=0,w;for(;(w=C.exec(t.content))!==null;){w.index>P&&T.push(e.jsx("div",{className:"whitespace-pre-wrap",children:y(t.content.slice(P,w.index))},`text-${P}`));const S=w[1]||"text",b=w[2];T.push(e.jsx("div",{className:"my-3",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zo,{className:"h-4 w-4"}),e.jsx("span",{children:S})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(b),className:"h-6 px-2 text-gray-400 hover:text-white",children:e.jsx(Pd,{className:"h-3 w-3"})})]}),e.jsx("pre",{className:"p-4 text-sm text-gray-100 overflow-x-auto",children:e.jsx("code",{children:b})})]})},`code-${w.index}`)),P=w.index+w[0].length}return P<t.content.length&&T.push(e.jsx("div",{className:"whitespace-pre-wrap",children:y(t.content.slice(P))},`text-${P}`)),T.length>0?T:e.jsx("div",{className:"whitespace-pre-wrap",children:y(t.content)})},y=C=>C.split(/(\*\*.*?\*\*)/g).map((T,P)=>T.startsWith("**")&&T.endsWith("**")?e.jsx("strong",{children:T.slice(2,-2)},P):T),N=()=>{var C,T;return(T=(C=t.metadata)==null?void 0:C.files)!=null&&T.length?e.jsx("div",{className:"mt-2 space-y-2",children:t.metadata.files.map((P,w)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg border",children:[e.jsx(Yl,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:P.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",(P.size/1024).toFixed(1)," KB)"]})]},w))}):null};return e.jsxs("div",{className:U("flex gap-3 p-4 group transition-colors",l?"flex-row-reverse bg-transparent":"flex-row hover:bg-gray-50/50"),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[e.jsx("div",{className:U("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",l?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"),children:l?e.jsx(Pr,{className:"h-4 w-4"}):e.jsx(_f,{className:"h-4 w-4"})}),e.jsxs("div",{className:U("flex-1 max-w-3xl",l?"text-right":"text-left"),children:[e.jsxs("div",{className:U("inline-block rounded-lg px-4 py-3 max-w-full",l?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-900"),children:[e.jsx("div",{className:"text-sm leading-relaxed",children:t.error?e.jsx("div",{className:"text-red-600 flex items-center gap-2",children:e.jsxs("span",{children:[" Error: ",t.error]})}):g()}),N()]}),e.jsxs("div",{className:U("flex items-center gap-2 mt-2 transition-opacity",l?"justify-end":"justify-start",m?"opacity-100":"opacity-0"),children:[r&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:h(t.timestamp)}),((f=t.metadata)==null?void 0:f.regenerated)&&e.jsx("span",{className:"text-blue-500",children:"(regenerated)"})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:d,className:"h-6 px-2 text-gray-500 hover:text-gray-700",title:"Copy message",children:i?e.jsx(ft,{className:"h-3 w-3 text-green-500"}):e.jsx(Pd,{className:"h-3 w-3"})}),c&&s&&e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>s(t.id),className:"h-6 px-2 text-gray-500 hover:text-gray-700",title:"Regenerate response",children:e.jsx(ec,{className:"h-3 w-3"})}),c&&a&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>p(1),className:U("h-6 px-2",((x=t.metadata)==null?void 0:x.rating)===1?"text-green-600 bg-green-50":"text-gray-500 hover:text-green-600"),title:"Good response",children:e.jsx(dv,{className:"h-3 w-3"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>p(-1),className:U("h-6 px-2",((v=t.metadata)==null?void 0:v.rating)===-1?"text-red-600 bg-red-50":"text-gray-500 hover:text-red-600"),title:"Poor response",children:e.jsx(ov,{className:"h-3 w-3"})})]})]})]})]})}const rb=[{icon:Zo,title:"Code Help",description:"Get help with programming, debugging, and code review",question:"I need help with my code. Can you review it and suggest improvements?"},{icon:ds,title:"Document Analysis",description:"Upload and analyze documents, extract key information",question:"I have a document I'd like you to analyze. Can you help me understand its content?"},{icon:Ze,title:"Research Help",description:"Get current information and detailed explanations",question:"Can you help me research the latest information about this topic?"},{icon:la,title:"Problem Solving",description:"Step-by-step guidance for complex problems",question:"I have a complex problem I need to solve. Can you guide me through it step by step?"}],nb=["Explain how React hooks work with examples","Help me debug this JavaScript function","What are the latest trends in web development?","How do I optimize my code for better performance?","Can you review my project structure?","What's the best way to handle errors in my application?"];function ib({onSuggestedQuestionClick:t,className:s}){return e.jsx("div",{className:`p-6 ${s}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:e.jsx(ms,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Assistant"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"I'm here to help you with coding, document analysis, research, and problem-solving. What would you like to work on today?"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:rb.map((a,r)=>{const n=a.icon;return e.jsx(M,{variant:"outline",onClick:()=>t==null?void 0:t(a.question),className:"h-auto p-4 text-left justify-start hover:bg-blue-50 hover:border-blue-200 transition-colors group",children:e.jsxs("div",{className:"flex items-start gap-3 w-full",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:e.jsx(n,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:a.description})]})]})},r)})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Gn,{className:"h-5 w-5 text-blue-500"}),"Quick Start Templates"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Hg.map(a=>e.jsx(M,{variant:"ghost",onClick:()=>t==null?void 0:t(a.initialMessage),className:"h-auto p-3 text-left justify-start hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx(_e,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:a.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.description})]})]})},a.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Qo,{className:"h-5 w-5 text-blue-500"}),"Example Questions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:nb.map((a,r)=>e.jsx(M,{variant:"ghost",onClick:()=>t==null?void 0:t(a),className:"h-auto p-3 text-left justify-start hover:bg-gray-100 transition-colors text-sm",children:e.jsxs("div",{className:"flex items-start gap-2 w-full",children:[e.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),e.jsx("span",{className:"text-gray-700",children:a})]})},r))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What I can help you with:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zo,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Code review and debugging"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Document analysis and processing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-gray-700",children:"Research and information gathering"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-gray-700",children:"Problem-solving guidance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gn,{className:"h-4 w-4 text-indigo-500"}),e.jsx("span",{className:"text-gray-700",children:"Natural conversations"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"h-4 w-4 text-pink-500"}),e.jsx("span",{className:"text-gray-700",children:"Creative assistance"})]})]})]})]}),e.jsxs("div",{className:"text-center mt-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Ready to get started? Type your question below or choose from the suggestions above."}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:" Pro tip: Be specific for better results"}),e.jsx("span",{children:" You can also upload files"})]})]})]})})}function Id({messages:t,isTyping:s=!1,onRegenerate:a,onRate:r,onSuggestedQuestionClick:n,showTimestamps:i=!0,className:o}){const m=j.useRef(null),u=()=>{var l;(l=m.current)==null||l.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{u()},[t,s]),e.jsx("div",{className:U("flex-1 overflow-y-auto bg-gray-50",o),children:t.length===0?e.jsx(ib,{onSuggestedQuestionClick:n,className:"h-full flex items-center justify-center"}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.map(l=>e.jsx(Ad,{message:l,onRegenerate:a,onRate:r,showTimestamp:i},l.id)),s&&e.jsx(Ad,{message:{id:"typing",role:"assistant",content:"",timestamp:new Date,messageType:"text",isLoading:!0},isTyping:!0}),e.jsx("div",{ref:m})]})})}function Ed({onSendMessage:t,isLoading:s=!1,isTyping:a=!1,placeholder:r="Type your message...",disabled:n=!1,maxFileSize:i=50*1024*1024,acceptedFileTypes:o=[".txt",".pdf",".doc",".docx",".md",".json",".csv",".js",".ts",".py",".html",".css",".jpg",".jpeg",".png",".gif",".svg"]}){const[m,u]=j.useState(""),[l,c]=j.useState([]),[d,p]=j.useState(!1),h=j.useRef(null),g=j.useRef(null),y=S=>{S.preventDefault(),(m.trim()||l.length>0)&&!s&&!a&&!n&&(t(m.trim(),l),u(""),c([]),h.current&&(h.current.style.height="auto"))},N=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),y(S))},f=S=>{const b=Array.from(S.target.files||[]);x(b)},x=S=>{const b=S.filter(k=>k.size>i?(alert(`File "${k.name}" is too large. Maximum size is ${i/1048576}MB.`),!1):!0);c(k=>[...k,...b])},v=S=>{c(b=>b.filter((k,_)=>_!==S))},C=S=>{S.preventDefault(),p(!0)},T=S=>{S.preventDefault(),p(!1)},P=S=>{S.preventDefault(),p(!1);const b=Array.from(S.dataTransfer.files);x(b)};j.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=`${h.current.scrollHeight}px`)},[m]);const w=S=>{if(S===0)return"0 Bytes";const b=1024,k=["Bytes","KB","MB","GB"],_=Math.floor(Math.log(S)/Math.log(b));return parseFloat((S/Math.pow(b,_)).toFixed(2))+" "+k[_]};return e.jsxs("div",{className:"border-t bg-white",children:[l.length>0&&e.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((S,b)=>e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:[e.jsx(Yl,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-32",children:S.name}),e.jsxs("span",{className:"text-xs text-blue-500",children:["(",w(S.size),")"]}),e.jsx("button",{onClick:()=>v(b),className:"hover:bg-blue-100 rounded-full p-0.5",children:e.jsx(je,{className:"h-3 w-3"})})]},b))})}),e.jsxs("form",{onSubmit:y,className:"flex items-end gap-2 p-4",children:[e.jsxs("div",{className:U("flex-1 relative",d&&"ring-2 ring-blue-500 ring-opacity-50 rounded-lg"),onDragOver:C,onDragLeave:T,onDrop:P,children:[e.jsx("textarea",{ref:h,value:m,onChange:S=>u(S.target.value),onKeyDown:N,placeholder:r,disabled:n||s||a,className:U("w-full resize-none rounded-lg border border-gray-300 px-4 py-3 pr-12","focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20","disabled:bg-gray-50 disabled:text-gray-500","min-h-[48px] max-h-32 overflow-y-auto",d&&"border-blue-500 bg-blue-50/50"),rows:1}),d&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-blue-50/80 rounded-lg border-2 border-dashed border-blue-300",children:e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Drop files here to attach"})})]}),e.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:()=>{var S;return(S=g.current)==null?void 0:S.click()},disabled:n||s||a,className:"h-12 px-3",title:"Attach files",children:e.jsx(Yl,{className:"h-4 w-4"})}),e.jsx(M,{type:"submit",disabled:!m.trim()&&l.length===0||s||a||n,size:"sm",className:"h-12 px-4",children:s||a?e.jsx(Ny,{className:"h-4 w-4 animate-spin"}):e.jsx(Jy,{className:"h-4 w-4"})}),e.jsx("input",{ref:g,type:"file",multiple:!0,accept:o.join(","),onChange:f,className:"hidden"})]}),a&&e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{children:"AI is thinking..."})]})})]})}function zp({className:t,showSidebar:s=!0}){var h,g;const{state:a,sendMessage:r,regenerateMessage:n,createNewConversation:i,selectConversation:o,deleteConversation:m,exportConversation:u,rateMessage:l}=Jg(),c=((h=a.currentConversation)==null?void 0:h.messages)||[],d=async(y,N)=>{await r(y,N)},p=y=>{d(y)};return s?e.jsxs("div",{className:U("flex h-full bg-white",t),children:[e.jsx(ab,{conversations:a.conversations,currentConversationId:((g=a.currentConversation)==null?void 0:g.id)||null,onSelectConversation:o,onNewConversation:i,onDeleteConversation:m,onExportConversation:u}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(Id,{messages:c,isTyping:a.isTyping,onRegenerate:n,onRate:l,onSuggestedQuestionClick:p,showTimestamps:a.preferences.showTimestamps}),e.jsx(Ed,{onSendMessage:d,isLoading:a.isLoading,isTyping:a.isTyping,disabled:!1})]})]}):e.jsxs("div",{className:U("flex flex-col h-full bg-white",t),children:[e.jsx(Id,{messages:c,isTyping:a.isTyping,onRegenerate:n,onRate:l,onSuggestedQuestionClick:p,showTimestamps:a.preferences.showTimestamps,className:"flex-1"}),e.jsx(Ed,{onSendMessage:d,isLoading:a.isLoading,isTyping:a.isTyping,disabled:!1})]})}function lb({className:t}){const[s,a]=j.useState(!1),[r,n]=j.useState(!1),i=()=>{s&&!r?a(!1):(a(!0),n(!1))},o=()=>{n(!0)},m=()=>{n(!1)},u=()=>{a(!1),n(!1)};return e.jsxs("div",{className:U("fixed bottom-4 right-4 z-50",t),children:[s&&e.jsxs("div",{className:U("bg-white rounded-lg shadow-2xl border border-gray-200 transition-all duration-300 ease-in-out mb-4",r?"w-80 h-16":"w-96 h-[600px] max-h-[80vh]"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx(un,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Assistant"}),!r&&e.jsx("p",{className:"text-xs text-gray-600",children:"Ask me anything!"})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m,className:"p-1.5 hover:bg-white/50 rounded transition-colors",title:"Maximize",children:e.jsx(Py,{className:"h-4 w-4 text-gray-500"})}),e.jsx("button",{onClick:u,className:"p-1.5 hover:bg-white/50 rounded transition-colors",title:"Close",children:e.jsx(je,{className:"h-4 w-4 text-gray-500"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o,className:"p-1.5 hover:bg-white/50 rounded transition-colors",title:"Minimize",children:e.jsx(My,{className:"h-4 w-4 text-gray-500"})}),e.jsx("button",{onClick:u,className:"p-1.5 hover:bg-white/50 rounded transition-colors",title:"Close",children:e.jsx(je,{className:"h-4 w-4 text-gray-500"})})]})})]}),!r&&e.jsx("div",{className:"h-[calc(100%-65px)]",children:e.jsx(zp,{showSidebar:!1,className:"h-full"})})]}),!s&&e.jsxs("button",{onClick:i,className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center group",title:"Open AI Assistant",children:[e.jsx(un,{className:"h-6 w-6 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsx("span",{className:"text-xs text-white font-bold",children:"!"})})]}),s&&r&&e.jsx("button",{onClick:m,className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center mb-4",title:"Open AI Assistant",children:e.jsx(un,{className:"h-6 w-6"})})]})}function ob({className:t}){return e.jsx(lb,{className:t})}function cb(){return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(sb,{}),e.jsxs("main",{className:"flex-1 relative",children:[e.jsx(gg,{}),e.jsx(ob,{})]})]})}function $d({style:t}){return e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t,children:e.jsx("path",{d:"M3 8L6 5L9 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor"})})}function db({style:t}){return e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t,children:e.jsx("path",{d:"M3 8L6 5L9 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor"})})}function mb({style:t}){return e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t,children:e.jsx("path",{d:"M3 8L6 5L9 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor"})})}function ub({style:t}){return e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t,children:e.jsx("path",{d:"M3 8L6 5L9 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor"})})}function pb({style:t}){return e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t,children:e.jsx("path",{d:"M3 8L6 5L9 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor"})})}function xb({data:t}){const s=(t==null?void 0:t.selectedDate)||"Jul 18",a=(t==null?void 0:t.keyMetrics)||[],r=t==null?void 0:t.customerStats,n=(t==null?void 0:t.paymentTypes)||[];return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .performance-dashboard div {
          box-sizing: border-box;
        }
        .performance-dashboard h2 {
          box-sizing: border-box;
          font-family: "Square Sans Display VF", "Square Sans Display", Helvetica, Arial, sans-serif;
          font-size: 19px;
          font-weight: 700;
          line-height: 26px;
          letter-spacing: normal;
          text-transform: none;
        }
        .performance-dashboard span {
          box-sizing: border-box;
        }
        .performance-dashboard p {
          font-weight: 400;
          font-size: 14px;
          font-family: "Square Sans Text VF", "Square Sans Text", Helvetica, Arial, sans-serif;
          line-height: 22px;
          letter-spacing: normal;
          text-transform: none;
          box-sizing: border-box;
          margin-top: 0px;
          color: rgba(0, 0, 0, 0.55);
        }
        .performance-dashboard a {
          box-sizing: border-box;
          cursor: pointer;
          color: rgb(0, 90, 217);
          text-decoration: none;
        }
        .performance-dashboard h3 {
          font-weight: 700;
          font-size: 19px;
          font-family: "Square Sans Display VF", "Square Sans Display", Helvetica, Arial, sans-serif;
          line-height: 26px;
          letter-spacing: normal;
          text-transform: none;
          box-sizing: border-box;
          border: 0px none rgba(0, 0, 0, 0.9);
          padding: 0px;
          margin: 0px 0px 2px 0px;
        }
      `}),e.jsxs("div",{className:"performance-dashboard",style:{backgroundColor:"rgba(0, 0, 0, 0.03)",marginTop:"24px",borderRadius:"16px",padding:"16px 16px 8px 16px",width:"100%",color:"rgb(26, 26, 26)",fontSize:"14px",lineHeight:"22px",fontFamily:'"Square Sans Text VF", "Square Sans Text", Helvetica, Arial, sans-serif'},children:[e.jsx("div",{style:{visibility:"visible",boxSizing:"border-box",minHeight:"40px"},children:e.jsx("h2",{style:{border:"0px none rgb(26, 26, 26)",padding:"0px 0px 0px 8px",margin:"7px 0px 7px 0px"},children:"Performance"})}),e.jsx("div",{style:{position:"relative",top:"0px",minHeight:"0px",padding:"8px 0px 12px 8px"},children:e.jsx("div",{style:{overflowX:"scroll",display:"flex",rowGap:"8px",columnGap:"8px",height:"42px",scrollbarWidth:"none"},children:e.jsx("div",{style:{},children:e.jsxs("div",{style:{visibility:"visible",boxSizing:"border-box",minWidth:"80px",minHeight:"42px",backgroundColor:"white",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"6px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("label",{style:{boxSizing:"border-box",cursor:"pointer",fontSize:"12px",color:"rgba(0, 0, 0, 0.55)"},children:"Date"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:s})]})})})}),e.jsx("div",{style:{backgroundColor:"rgba(0, 0, 0, 0)",border:"0px none rgb(26, 26, 26)",margin:"8px 0px 8px 0px"},children:e.jsx("div",{style:{paddingBottom:"0px",marginBottom:"0px",borderBottom:"0px none rgb(26, 26, 26)"},children:e.jsxs("div",{style:{color:"rgba(0, 0, 0, 0.9)",fontWeight:"400",fontFamily:'"Square Sans Text VF", "Square Sans Text", Helvetica, Arial, sans-serif',fontSynthesisWeight:"none",fontSynthesisStyle:"none",fontSynthesisSmallCaps:"none",WebkitFontSmoothing:"antialiased",backgroundColor:"rgb(255, 255, 255)",boxShadow:"none",position:"static",borderRadius:"12px",padding:"24px",margin:"0px"},children:[e.jsxs("div",{style:{padding:"0px 8px 16px 0px"},children:[e.jsx("h2",{style:{border:"0px none rgba(0, 0, 0, 0.9)",padding:"0px",margin:"0px"},children:"Key Metrics"}),e.jsx("p",{style:{marginBottom:"0px"},children:"vs. Prior Friday"})]}),e.jsx("div",{style:{display:"grid",columnGap:"32px",rowGap:"16px",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:a.map((i,o)=>{const u=[$d,db,mb,ub,pb][o]||$d,l=(d,p)=>!p||p==="N/A"?"rgba(0, 0, 0, 0.3)":d==="positive"?"rgb(0, 156, 74)":d==="negative"?"rgb(199, 55, 55)":"rgba(0, 0, 0, 0.55)",c=(d,p)=>!p||p==="N/A"?"rgba(0, 0, 0, 0.05)":d==="positive"?"rgba(0, 156, 74, 0.1)":d==="negative"?"rgba(199, 55, 55, 0.1)":"rgba(0, 0, 0, 0.05)";return e.jsxs("a",{href:i.href||"#",style:{marginLeft:"-8px",display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"6px",padding:"12px 8px 12px 8px",transition:"background-color 0.2s"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.02)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[e.jsx("div",{style:{display:"flex",height:"22px"},children:e.jsx("p",{style:{marginBottom:"0px"},children:i.label})}),e.jsx("div",{style:{color:"rgba(0, 0, 0, 0.9)",fontSize:"16px",fontWeight:"600"},children:i.value})]}),e.jsx("div",{style:{minHeight:"28px"},children:e.jsxs("div",{style:{fontWeight:"600",fontSize:"14px",lineHeight:"22px",letterSpacing:"normal",textTransform:"none",backgroundColor:c(i.changeType,i.change),color:l(i.changeType,i.change),border:"1px solid rgba(0, 0, 0, 0)",borderRadius:"6px",padding:"2px 8px 2px 8px",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(u,{style:{}}),i.change||"N/A"]})})]},i.id)})})]})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",columnGap:"24px",rowGap:"24px",marginTop:"24px"},children:[e.jsxs("div",{style:{backgroundColor:"rgb(255, 255, 255)",borderRadius:"12px",padding:"24px",height:"356px"},children:[e.jsx("h3",{style:{},children:"Customers"}),e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"13px 8px",borderRadius:"6px"},children:[e.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},children:"Total customers"}),e.jsx("span",{children:(r==null?void 0:r.totalCustomers)||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"13px 8px",borderRadius:"6px"},children:[e.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},children:"Returning customers"}),e.jsx("span",{children:(r==null?void 0:r.returningCustomers)||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"13px 8px",borderRadius:"6px"},children:[e.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},children:"Avg. visits per customer"}),e.jsx("span",{children:(r==null?void 0:r.avgVisitsPerCustomer)||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"13px 8px",borderRadius:"6px"},children:[e.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},children:"Avg. spent per visit"}),e.jsx("span",{children:(r==null?void 0:r.avgSpentPerVisit)||"$0.00"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"13px 8px",borderRadius:"6px"},children:[e.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},children:"Feedback"}),e.jsx("span",{children:r?`${r.positiveFeedback} positive, ${r.negativeFeedback} negative`:"0 positive, 0 negative"})]})]})]}),e.jsxs("div",{style:{backgroundColor:"rgb(255, 255, 255)",borderRadius:"12px",padding:"24px",height:"356px",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{},children:"Payment Types"}),e.jsx("p",{style:{marginBottom:"16px"},children:"by Payment amount"})]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx("div",{style:{display:"flex",gap:"2px",marginBottom:"16px"},children:n.slice(0,3).map((i,o)=>e.jsx("div",{style:{height:"48px",flex:i.percentage>0?i.percentage:1,backgroundColor:i.color,borderRadius:"4px"}},i.id))}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:n.slice(0,3).map(i=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"14px",height:"14px",backgroundColor:i.color,borderRadius:"20%"}}),e.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},children:i.name})]}),e.jsx("span",{children:i.amount}),e.jsxs("span",{style:{color:"rgba(0, 0, 0, 0.55)",fontSize:"14px"},children:[i.percentage,"%"]})]},i.id))})]})]}),e.jsxs("div",{style:{backgroundColor:"rgb(255, 255, 255)",borderRadius:"12px",padding:"24px",height:"356px",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{},children:"Items"}),e.jsx("p",{style:{marginBottom:"16px"},children:"by Gross sales"})]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("div",{style:{display:"flex",gap:"4px",height:"80px",alignItems:"flex-end",marginBottom:"8px"},children:Array.from({length:11}).map((i,o)=>{const m=t==null?void 0:t.hasItemsSales,u=m?Math.max(4,Math.random()*60):4,l=m?"rgb(0, 106, 255)":"rgba(0, 0, 0, 0.05)";return e.jsx("div",{style:{flex:1,height:`${u}px`,backgroundColor:l,borderRadius:"4px 4px 0 0"}},o)})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"rgba(0, 0, 0, 0.55)"},children:[e.jsx("span",{children:"Lowest"}),e.jsx("span",{children:"Highest"})]})]}),e.jsx("div",{style:{marginTop:"16px"},children:e.jsx("p",{style:{marginBottom:"0px"},children:t!=null&&t.hasItemsSales?"Top items are performing well":"No sales in this time period"})})]})]})]})]})}const gs=[{report:"Sales Summary",currentState:"Migrated to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Sales trends",currentState:"Migrated to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Payment methods",currentState:"Migrated to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Fees",currentState:"Migrated to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Tax Invoice",currentState:"Migrated to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Item Sales",currentState:"In progress migrating to SDP",dataSource:"Sales/Inventory",category:"Sales & Inventory"},{report:"Category Sales",currentState:"In progress migrating to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Comps",currentState:"In progress migrating to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Voids",currentState:"In progress migrating to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Discounts",currentState:"In progress migrating to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Modifier sales",currentState:"In progress migrating to SDP",dataSource:"Sales",category:"Core Sales"},{report:"Section sales",currentState:"Not started",dataSource:"Sales/RST data",category:"Advanced Sales"},{report:"Team sales",currentState:"Not started",dataSource:"Sales/Team Member",category:"Team & Labor"},{report:"Labor vs sales",currentState:"Not started",dataSource:"Sales/Labor",category:"Team & Labor"},{report:"Kitchen Performance",currentState:"Not started",dataSource:"Orders/RST data",category:"Operations"},{report:"Transaction Status",currentState:"Not started",dataSource:"Sales",category:"Core Sales"},{report:"Taxes",currentState:"Not started",dataSource:"Sales",category:"Core Sales"},{report:"Service charges",currentState:"Not started",dataSource:"Sales",category:"Core Sales"},{report:"Custom reports",currentState:"Not started",dataSource:"Sales",category:"Core Sales"},{report:"Gift cards Sales",currentState:"Not started",dataSource:"GC data",category:"Gift Cards"},{report:"Transactions",currentState:"Not started",dataSource:"Orders/Sales",category:"Transactions"},{report:"Daily Sales Summary",currentState:"Not started",dataSource:"Sales/Inventory/Employee/Customers",category:"Summary Reports"},{report:"Monthly Sales Summary",currentState:"Not started",dataSource:"Sales/Inventory/Employee/Customers",category:"Summary Reports"},{report:"Yearly Sales Summary",currentState:"Not started",dataSource:"Sales/Inventory/Employee/Customers",category:"Summary Reports"},{report:"XYZ email",currentState:"Not started",dataSource:"Sales/Inventory/Employee/Customers",category:"Email Reports"},{report:"SQ Anniversary email",currentState:"Not started",dataSource:"Sales/Inventory/Employee/Customers",category:"Email Reports"},{report:"1099 K",currentState:"Not started",dataSource:"Tax/Compliance",category:"Tax Reports"},{report:"[Inventory Reports] Cost of Goods (COGS) sold",currentState:"Not started",dataSource:"Sales/Inventory/Cost",category:"Inventory"},{report:"[Inventory Reports] Vendor sales",currentState:"Not started",dataSource:"Sales/Inventory/Vendor",category:"Inventory"},{report:"[Inventory Reports] Projected Profit",currentState:"Not started",dataSource:"Sales/Inventory",category:"Inventory"},{report:"[Inventory Reports] Inventory by Category",currentState:"Not started",dataSource:"Sales/Inventory",category:"Inventory"},{report:"[Inventory Reports] Inventory Sell Through",currentState:"Not started",dataSource:"Sales/Inventory",category:"Inventory"},{report:"Top Customers",currentState:"Not started",dataSource:"Sales/Customers",category:"Customer Analytics"},{report:"Customers Visits",currentState:"Not started",dataSource:"Sales/Customers",category:"Customer Analytics"},{report:"Loyalty Overview Report",currentState:"Not started",dataSource:"Loyalty/Customers",category:"Customer Analytics"},{report:"top-line sales metrics (dashboard home)",currentState:"Not started",dataSource:"Dashboard/Sales",category:"Dashboard Widgets"},{report:"top-line widgets (dashboard home)",currentState:"Not started",dataSource:"Dashboard/Sales",category:"Dashboard Widgets"},{report:"Customer widget (dashboard home)",currentState:"Not started",dataSource:"Dashboard/Customers",category:"Dashboard Widgets"},{report:"[POS] Sales",currentState:"Other Team Owned",dataSource:"POS Events",category:"POS Reports",owner:"POS Team",notes:"POS team migration timeline"},{report:"[POS] Disputes",currentState:"Other Team Owned",dataSource:"POS Events",category:"POS Reports",owner:"POS Team",notes:"POS team responsibility"},{report:"[POS] Shift Report",currentState:"Other Team Owned",dataSource:"POS Events",category:"POS Reports",owner:"POS Team",notes:"POS team responsibility"},{report:"[POS] Close of Day",currentState:"Other Team Owned",dataSource:"POS Events",category:"POS Reports",owner:"POS Team",notes:"POS team responsibility"},{report:"[POS] Cash Management Report",currentState:"Other Team Owned",dataSource:"POS Events",category:"POS Reports",owner:"POS Team",notes:"POS team responsibility"},{report:"[POS] Lives Sales",currentState:"Other Team Owned",dataSource:"POS Events",category:"POS Reports",owner:"POS Team",notes:"POS team responsibility"},{report:"Checking",currentState:"Other Team Owned",dataSource:"Banking",category:"Banking",owner:"Banking Team",notes:"Banking team responsibility"},{report:"Savings",currentState:"Other Team Owned",dataSource:"Banking",category:"Banking",owner:"Banking Team",notes:"Banking team responsibility"},{report:"Transfers Report",currentState:"Other Team Owned",dataSource:"Banking",category:"Banking",owner:"Banking Team",notes:"Banking team responsibility"},{report:"Loan",currentState:"Other Team Owned",dataSource:"Banking",category:"Banking",owner:"Banking Team",notes:"Banking team responsibility"},{report:"Balance",currentState:"Other Team Owned",dataSource:"Banking",category:"Banking",owner:"Banking Team",notes:"Banking team responsibility"},{report:"Cash Drawers",currentState:"Other Team Owned",dataSource:"POS/Banking",category:"Banking",owner:"POS Team",notes:"POS team responsibility"},{report:"Paid Invoices",currentState:"Other Team Owned",dataSource:"Invoices",category:"Invoicing",owner:"Invoicing Team",notes:"Invoicing team migration timeline"},{report:"Outstanding Invoices",currentState:"Other Team Owned",dataSource:"Invoices",category:"Invoicing",owner:"Invoicing Team",notes:"Invoicing team responsibility"},{report:"Accepted Invoices",currentState:"Other Team Owned",dataSource:"Invoices",category:"Invoicing",owner:"Invoicing Team",notes:"Invoicing team responsibility"},{report:"Pending approval estimates",currentState:"Other Team Owned",dataSource:"Estimates",category:"Invoicing",owner:"Invoicing Team",notes:"Invoicing team responsibility"},{report:"Accepted estimates",currentState:"Other Team Owned",dataSource:"Estimates",category:"Invoicing",owner:"Invoicing Team",notes:"Invoicing team responsibility"},{report:"Overdue invoices",currentState:"Other Team Owned",dataSource:"Invoices",category:"Invoicing",owner:"Invoicing Team",notes:"Invoicing team responsibility"},{report:"Disputes",currentState:"External Workflow",dataSource:"Disputes/Risk",category:"Risk & Disputes",owner:"Risk Team",notes:"Risk team existing workflow"},{report:"Payroll",currentState:"Other Team Owned",dataSource:"HR/Payroll",category:"HR & Payroll",owner:"HR Team",notes:"HR team responsibility"}],hb=t=>{switch(t){case"Migrated to SDP":return e.jsx(ft,{className:"h-5 w-5 text-green-500"});case"In progress migrating to SDP":return e.jsx(ye,{className:"h-5 w-5 text-yellow-500"});case"Not started":return e.jsx(Tp,{className:"h-5 w-5 text-gray-400"});case"External Workflow":return e.jsx(Ka,{className:"h-5 w-5 text-purple-500"});case"Other Team Owned":return e.jsx(Ka,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(Ka,{className:"h-5 w-5 text-red-500"})}},gb=t=>{switch(t){case"Migrated to SDP":return"bg-green-100 text-green-800 border-green-200";case"In progress migrating to SDP":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Not started":return"bg-gray-100 text-gray-800 border-gray-200";case"External Workflow":return"bg-purple-100 text-purple-800 border-purple-200";case"Other Team Owned":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-red-100 text-red-800 border-red-200"}};function Bp(){const[t,s]=j.useState(""),[a,r]=j.useState("All"),[n,i]=j.useState("All"),o=["All",...Array.from(new Set(gs.map(N=>N.category)))],m=["All",...Array.from(new Set(gs.map(N=>N.currentState)))],u=gs.filter(N=>{const f=N.report.toLowerCase().includes(t.toLowerCase())||N.dataSource.toLowerCase().includes(t.toLowerCase()),x=a==="All"||N.category===a,v=n==="All"||N.currentState===n;return f&&x&&v}),l=gs.length,c=gs.filter(N=>N.currentState==="Migrated to SDP").length,d=gs.filter(N=>N.currentState==="In progress migrating to SDP").length,p=gs.filter(N=>N.currentState==="Not started").length,h=Math.round(c/l*100),g=Math.round(d/l*100),y=Math.round(p/l*100);return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(kr,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Migrated"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:c}),e.jsxs("p",{className:"text-sm text-gray-500",children:[h,"% complete"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(ft,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:d}),e.jsxs("p",{className:"text-sm text-gray-500",children:[g,"% of total"]})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:e.jsx(ye,{className:"h-6 w-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),e.jsx("p",{className:"text-3xl font-bold text-gray-600",children:p}),e.jsxs("p",{className:"text-sm text-gray-500",children:[y,"% remaining"]})]}),e.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:e.jsx(Tp,{className:"h-6 w-6 text-gray-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:e.jsxs("div",{className:"flex h-4 rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-green-500 transition-all duration-500",style:{width:`${h}%`}}),e.jsx("div",{className:"bg-yellow-500 transition-all duration-500",style:{width:`${g}%`}}),e.jsx("div",{className:"bg-gray-400 transition-all duration-500",style:{width:`${y}%`}})]})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Migrated (",c,")"]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"In Progress (",d,")"]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),"Not Started (",p,")"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Reports"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by report name or data source...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:N=>s(N.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a,onChange:N=>r(N.target.value),children:o.map(N=>e.jsx("option",{value:N,children:N},N))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n,onChange:N=>i(N.target.value),children:m.map(N=>e.jsx("option",{value:N,children:N},N))})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Migration Status Details (",u.length," of ",l," reports)"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Source"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((N,f)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.report})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:N.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:N.dataSource})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[hb(N.currentState),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${gb(N.currentState)}`,children:N.currentState})]})})]},f))})]})})]}),u.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg",children:"No reports match your current filters"}),e.jsx("button",{onClick:()=>{s(""),r("All"),i("All")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})]})]})}function Gp({onReportTypeChange:t}){const[s,a]=j.useState({"Report type":"Summary",Locations:"All",View:"Table","Group metric by":"All","Filter by":"All day"}),[r,n]=j.useState(null),i=j.useRef({}),o=[{label:"Report type",value:s["Report type"],options:["Summary","Hourly","Daily","Weekly","Monthly"]},{label:"Locations",value:s.Locations,options:["All","Location 1","Location 2","Location 3"]},{label:"View",value:s.View,options:["Table","Chart","Gauge"]},{label:"Group metric by",value:s["Group metric by"],options:["All","Category","Item","Staff"]},{label:"Filter by",value:s["Filter by"],options:["All day","Morning","Afternoon","Evening"]}];j.useEffect(()=>{function l(c){if(r){const d=i.current[r];d&&!d.contains(c.target)&&n(null)}}return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r]);const m=(l,c)=>{a(d=>({...d,[l]:c})),n(null),l==="Report type"&&t&&t(c)},u=l=>{n(r===l?null:l)};return e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Metrics"}),e.jsx("span",{className:"text-gray-500",children:"Deferred sales & 15 others"}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400",children:e.jsx(ui,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o.map((l,c)=>e.jsxs("div",{className:"flex items-center gap-1 relative",ref:d=>i.current[l.label]=d,children:[e.jsx("span",{className:"text-xs text-gray-500",children:l.label}),e.jsxs(M,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs bg-gray-100 hover:bg-gray-200",onClick:()=>u(l.label),children:[l.value,e.jsx(we,{className:"h-3 w-3 ml-1"})]}),r===l.label&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[120px]",children:l.options.map(d=>e.jsx("button",{className:"w-full px-3 py-2 text-left text-xs hover:bg-gray-50 first:rounded-t-md last:rounded-b-md",onClick:()=>m(l.label,d),children:d},d))})]},c)),e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[e.jsx("span",{className:"text-xs",children:"Timeframe: All day"}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 text-blue-600 hover:bg-blue-200",children:e.jsx(je,{className:"h-3 w-3"})})]}),e.jsx(M,{variant:"ghost",size:"sm",className:"text-xs text-gray-500",children:"Filter by"})]})]})})}const fb=[{id:"TXN001",date:"2025-08-06",time:"1:20 PM",timeZone:"PST",grossSales:125.5,items:120,serviceCharges:5.5,returns:0,discounts:0,comps:0,netSales:125.5,giftCardSales:0,taxes:8.75,tips:15,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",staffName:"John Smith"},{id:"TXN002",date:"2025-08-06",time:"2:45 PM",timeZone:"PST",grossSales:89.25,items:85,serviceCharges:4.25,returns:0,discounts:5,comps:0,netSales:84.25,giftCardSales:0,taxes:6.25,tips:12,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",staffName:"Sarah Johnson"},{id:"TXN003",date:"2025-08-06",time:"3:15 PM",timeZone:"PST",grossSales:245.75,items:230,serviceCharges:15.75,returns:0,discounts:0,comps:10,netSales:235.75,giftCardSales:0,taxes:18.5,tips:25,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Counter POS",source:"Square Terminal",staffName:"Mike Davis"},{id:"TXN004",date:"2025-08-06",time:"4:30 PM",timeZone:"PST",grossSales:67.5,items:65,serviceCharges:2.5,returns:15,discounts:0,comps:0,netSales:52.5,giftCardSales:0,taxes:4.75,tips:8,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 2",source:"Square POS",staffName:"Emma Wilson"},{id:"TXN005",date:"2025-08-06",time:"5:10 PM",timeZone:"PST",grossSales:156,items:145,serviceCharges:11,returns:0,discounts:8,comps:0,netSales:148,giftCardSales:25,taxes:11.25,tips:20,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Mobile POS",source:"Square Terminal",staffName:"Alex Chen"},{id:"TXN006",date:"2025-08-06",time:"6:25 PM",timeZone:"PST",grossSales:198.25,items:185,serviceCharges:13.25,returns:0,discounts:0,comps:5,netSales:193.25,giftCardSales:0,taxes:15.5,tips:30,partialRefunds:0,channel:"Online",device:"Mobile App",deviceNickname:"Mobile Order",source:"Square App",staffName:"Lisa Brown"},{id:"TXN007",date:"2025-08-06",time:"7:40 PM",timeZone:"PST",grossSales:78.9,items:75,serviceCharges:3.9,returns:0,discounts:2.5,comps:0,netSales:76.4,giftCardSales:0,taxes:5.85,tips:10,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",staffName:"David Kim"},{id:"TXN008",date:"2025-08-06",time:"8:15 PM",timeZone:"PST",grossSales:312.75,items:295,serviceCharges:17.75,returns:0,discounts:15,comps:0,netSales:297.75,giftCardSales:0,taxes:24.5,tips:45,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Counter POS",source:"Square Terminal",staffName:"Rachel Green"},{id:"TXN009",date:"2025-08-06",time:"9:05 PM",timeZone:"PST",grossSales:45.25,items:42,serviceCharges:3.25,returns:0,discounts:0,comps:0,netSales:45.25,giftCardSales:0,taxes:3.5,tips:5,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",staffName:"Tom Anderson"},{id:"TXN010",date:"2025-08-06",time:"9:45 PM",timeZone:"PST",grossSales:167.8,items:155,serviceCharges:12.8,returns:0,discounts:0,comps:8,netSales:159.8,giftCardSales:0,taxes:12.75,tips:22,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 2",source:"Square POS",staffName:"Jennifer Lee"}];function yb({isOpen:t,onClose:s,onRowClick:a}){if(!t)return null;const r=i=>`$${i.toFixed(2)}`,n=i=>{a(i),s()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Sales Detail Breakdown"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-auto max-h-[calc(90vh-80px)]",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Zone"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Charges"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Returns"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discounts"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comps"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gift Card Sales"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Taxes"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tips"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Partial Refunds"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device Nickname"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Name"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fb.map(i=>e.jsxs("tr",{onClick:()=>n(i.id),className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.date}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.time}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.timeZone}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.grossSales)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.items)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.serviceCharges)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.returns)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.discounts)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.comps)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.netSales)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.giftCardSales)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.taxes)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.tips)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:r(i.partialRefunds)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.channel}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.device}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.deviceNickname}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.source}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.staffName})]},i.id))})]})})]})})}function vb({transactionId:t}){const s=Z(),a=()=>{s("/deferred-sales")};return e.jsxs("div",{className:"h-full bg-gray-50 flex",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ja,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Orders & payments"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"08/06/2025"}),e.jsx(we,{className:"w-3 h-3 text-gray-400"})]}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All day"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Payment Methods"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Types"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"Complete"})}),e.jsx("button",{className:"text-sm border border-gray-300 rounded px-3 py-1 hover:bg-gray-50",children:"Export"})]})]})}),e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow h-full flex flex-col",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aug 6, 2025"})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:"1"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:"COMPLETE TRANSACTION"}),e.jsx(Ye,{className:"w-3 h-3 ml-1 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:"$125.50"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:"TOTAL COLLECTED"}),e.jsx(Ye,{className:"w-3 h-3 ml-1 text-gray-400"})]})]})]})}),e.jsxs("div",{className:"px-4 py-3 flex-1",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Wednesday, August 6, 2025"}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-5 bg-blue-100 border border-blue-300 rounded text-xs flex items-center justify-center text-blue-700 font-medium",children:"VISA"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1:20 pm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"COMPLETE"}),e.jsxs("span",{className:"text-sm text-gray-900",children:["Transaction ",t," - Collected by John Smith"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"$125.50"}),e.jsx("div",{className:"text-sm text-gray-600",children:"$125.50"})]})]})]})]})})]}),e.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Transaction Details"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Payment Information"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{children:["Transaction ID: ",e.jsx("span",{className:"font-medium",children:t})]}),e.jsxs("div",{children:["Date: ",e.jsx("span",{className:"font-medium",children:"Aug 6, 2025 1:20 PM"})]}),e.jsxs("div",{children:["Staff: ",e.jsx("span",{className:"font-medium",children:"John Smith"})]}),e.jsxs("div",{children:["Device: ",e.jsx("span",{className:"font-medium",children:"Register 1 (iPad)"})]}),e.jsxs("div",{children:["Source: ",e.jsx("span",{className:"font-medium",children:"Square POS"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Sales Breakdown"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items"}),e.jsx("span",{children:"$120.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Service Charges"}),e.jsx("span",{children:"$5.50"})]}),e.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[e.jsx("span",{children:"Gross Sales"}),e.jsx("span",{children:"$125.50"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Discounts"}),e.jsx("span",{children:"$0.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Returns"}),e.jsx("span",{children:"$0.00"})]}),e.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[e.jsx("span",{children:"Net Sales"}),e.jsx("span",{children:"$125.50"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Additional Charges"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax"}),e.jsx("span",{children:"$8.75"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tip"}),e.jsx("span",{children:"$15.00"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Visa ****1111"}),e.jsx("span",{children:"$125.50"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Aug 6, 2025 1:20 pm"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Receipt #ABC123"})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 mb-1",children:"$122.85 Transferred"}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Fees: Square processing 2.9% + $0.30 ($2.65)"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Learn more about fees"})]})})]})]})]})}function Hr({label:t,amount:s,level:a=0,isTotal:r=!1,isClickable:n=!1,onClick:i}){const o=c=>{if(c===0)return"";const d=Math.abs(c).toFixed(2);return c<0?`($${d})`:`$${d}`},m=()=>t.startsWith("          ")?"pl-20":t.startsWith("        ")?"pl-16":t.startsWith("      ")?"pl-12":t.startsWith("    ")?"pl-8":t.startsWith("  ")?"pl-4":a>0?"pl-8":"",u=t.replace(/^\s+/,""),l=e.jsxs("div",{className:`flex items-center justify-between py-2 ${r?"border-t-2 border-gray-200 pt-4":""} ${n?"cursor-pointer hover:bg-gray-50":""}`,children:[e.jsx("div",{className:`flex items-center ${m()}`,children:e.jsx("span",{className:`text-sm ${r?"font-semibold text-gray-900":a===0&&!t.startsWith(" ")?"font-medium text-gray-900":"text-gray-700"} ${n?"text-blue-600 hover:text-blue-800":""}`,children:u})}),e.jsx("span",{className:`text-sm font-medium ${s<0?"text-red-600":"text-gray-900"}`,children:o(s)})]});return n?e.jsx("div",{onClick:i,children:l}):l}function Vp({salesSections:t,paymentSections:s}){const a=Z(),{selectedScenario:r}=Sr(),[n,i]=j.useState(!1),[o,m]=j.useState(null),u=()=>{a("/deferred-sales/transactions")},l=()=>{a("/deferred-sales/invoice-detail")},c=()=>{a("/deferred-sales/full-cycle")},d=()=>{(r==null?void 0:r.id)==="full-cycle-option-b"?c():i(!0)},p=h=>{m(h),i(!1)};return o?e.jsx(vb,{transactionId:o}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"grid grid-cols-2 divide-x divide-gray-100",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales"}),t.map((h,g)=>e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:h.title}),e.jsxs("div",{className:"space-y-0",children:[h.lines.map((y,N)=>{const f=y.label.trim()==="Partial Payments"&&y.amount!==0,x=y.label.trim()==="Gross Sales"&&y.amount!==0,v=y.label.trim()==="Partial Payments Redeemed"&&y.amount!==0,C=f||x||v,T=()=>{f?u():x?d():v&&l()};return e.jsx(Hr,{label:y.label,amount:y.amount,level:0,isClickable:C,onClick:C?T:void 0},N)}),h.total!==void 0&&e.jsx(Hr,{label:"Total",amount:h.total,isTotal:!0})]})]},g))]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payments"}),s.map((h,g)=>e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:h.title}),e.jsxs("div",{className:"space-y-0",children:[h.lines.map((y,N)=>e.jsx(Hr,{label:y.label,amount:y.amount,level:0},N)),h.total!==void 0&&e.jsx(Hr,{label:"Net Total",amount:h.total,isTotal:!0})]})]},g))]})]})}),e.jsx(yb,{isOpen:n,onClose:()=>i(!1),onRowClick:p})]})}function Wp({scenario:t,dateRange:s}){const r=(()=>{const i=[],o=new Date(s.start),m=new Date(s.end);for(let d=new Date(o);d<=m;d.setDate(d.getDate()+1))i.push(new Date(d));const l=(()=>{const d={grossSales:0,items:0,serviceCharges:0,returns:0,discountsComps:0,netSales:0,tax:0,tip:0,refundsByAmount:0,giftCardSales:0,invoices:0,invoiceDepositRedeemed:0,squareOnline:0,totalCollected:0,cash:0,card:0,external:0,other:0,giftCard:0,bankTransfer:0,houseAccount:0,fees:0};return console.log("Scenario ID:",t.id),console.log("Scenario data:",t),t.salesSections.forEach(p=>{console.log("Processing sales section:",p.title),p.lines.forEach(h=>{const g=h.label.trim().toLowerCase().replace(/\s+/g," ");console.log(`Processing line: "${g}" = ${h.amount}`),g==="gross sales"?d.grossSales=h.amount:g.includes("items")?d.items=h.amount:g.includes("service charges")?d.serviceCharges=h.amount:g==="returns"?d.returns=h.amount:g.includes("discounts")||g.includes("comps")?d.discountsComps=h.amount:g==="net sales"?d.netSales=h.amount:g==="tax"?d.tax=h.amount:g==="tip"?d.tip=h.amount:g.includes("refunds by amount")?d.refundsByAmount=h.amount:g.includes("gift card sales")?d.giftCardSales=h.amount:g==="invoices"?d.invoices=h.amount:g.includes("deposit redeemed")||g.includes("appointments deposit redeemed")||g.includes("invoices deposit redeemed")?d.invoiceDepositRedeemed=h.amount:g.includes("square online")&&(d.squareOnline=h.amount)})}),t.paymentSections.forEach(p=>{console.log("Processing payment section:",p.title),p.lines.forEach(h=>{const g=h.label.trim().toLowerCase().replace(/\s+/g," ");console.log(`Processing payment line: "${g}" = ${h.amount}`),g==="total collected"?d.totalCollected=h.amount:g.includes("cash")&&!g.includes("card")?d.cash=h.amount:g.includes("card")&&!g.includes("gift")?d.card=h.amount:g.includes("external")?d.external=h.amount:g.includes("other")?d.other=h.amount:g.includes("gift card")?d.giftCard=h.amount:g.includes("bank transfer")?d.bankTransfer=h.amount:g.includes("house account")?d.houseAccount=h.amount:g.includes("fees")&&(d.fees=h.amount)})}),console.log("Extracted values:",d),d})();return i.map((d,p)=>{const h=p+1;let y={date:`${d.getMonth()+1}/${d.getDate()}`,grossSales:0,items:0,serviceCharges:0,returns:0,discountsComps:0,netSales:0,giftCardSales:0,invoices:0,squareOnline:0,taxes:0,tips:0,refundsByAmount:0,totalSales:0,totalPaymentsCollected:0,bankTransfer:0,card:0,cash:0,check:0,giftCardRedeemed:0,houseAccount:0,other:0,fees:0,squarePaymentProcessingFees:0,freeProcessing:0,netTotal:0};if(t.id==="deposit-day"||t.id==="invoice-deposit-day"||t.id==="appointment-deposit-day"){if(h===1){const N=t.id==="appointment-deposit-day"?50:100;y.invoices=l.invoices||N,y.totalPaymentsCollected=l.totalCollected||N,y.card=l.card||N,y.cash=l.cash,y.bankTransfer=l.bankTransfer,y.giftCardRedeemed=l.giftCard,y.houseAccount=l.houseAccount,y.other=l.other,y.netTotal=l.totalCollected||N}}else if(t.id==="remaining-payment-option-b"||t.id==="invoice-remaining-payment"||t.id==="appointment-remaining-payment"){if(h===1){const N=t.id==="appointment-remaining-payment"?200:1e3,f=t.id==="appointment-remaining-payment"?150:900,x=t.id==="appointment-remaining-payment"?-50:-100;y.grossSales=l.grossSales||N,y.items=t.id==="appointment-remaining-payment"?0:l.items||N,y.serviceCharges=t.id==="appointment-remaining-payment"?N:l.serviceCharges,y.returns=l.returns,y.discountsComps=l.discountsComps,y.netSales=l.netSales||N,y.taxes=l.tax,y.tips=l.tip,y.refundsByAmount=l.refundsByAmount,y.invoices=l.invoiceDepositRedeemed||x,y.totalSales=N+x,y.totalPaymentsCollected=l.totalCollected||f,y.card=l.card||f,y.cash=l.cash,y.bankTransfer=l.bankTransfer,y.giftCardRedeemed=l.giftCard,y.houseAccount=l.houseAccount,y.other=l.other,y.squarePaymentProcessingFees=0,y.netTotal=l.totalCollected||f}}else if(t.id==="full-cycle-option-b"||t.id==="invoice-full-cycle"||t.id==="appointment-full-cycle"){const N=t.id==="appointment-full-cycle"?200:1e3,f=t.id==="appointment-full-cycle"?50:100,x=t.id==="appointment-full-cycle"?150:900;h===1?(y.invoices=f,y.totalPaymentsCollected=f,y.card=f,y.netTotal=f):h===6&&(y.grossSales=N,y.items=t.id==="appointment-full-cycle"?0:N,y.serviceCharges=t.id==="appointment-full-cycle"?N:0,y.netSales=N,y.invoices=-f,y.totalPaymentsCollected=x,y.card=x,y.squarePaymentProcessingFees=0,y.netTotal=x)}else h===1&&(y.grossSales=l.grossSales,y.items=l.items,y.serviceCharges=l.serviceCharges,y.returns=l.returns,y.discountsComps=l.discountsComps,y.netSales=l.netSales,y.giftCardSales=l.giftCardSales,y.invoices=l.invoices+(l.invoiceDepositRedeemed||0),y.squareOnline=l.squareOnline,y.taxes=l.tax,y.tips=l.tip,y.refundsByAmount=l.refundsByAmount,y.totalSales=l.grossSales||l.invoices||l.giftCardSales,y.totalPaymentsCollected=l.totalCollected,y.card=l.card,y.cash=l.cash,y.bankTransfer=l.bankTransfer,y.giftCardRedeemed=l.giftCard,y.houseAccount=l.houseAccount,y.other=l.other,y.totalPaymentsCollected>0&&(y.squarePaymentProcessingFees=-Math.round(y.totalPaymentsCollected*.029*100)/100,y.netTotal=y.totalPaymentsCollected+y.squarePaymentProcessingFees));return y})})(),n=i=>i===0?"$0.00":i<0?`($${Math.abs(i).toFixed(2)})`:`$${i.toFixed(2)}`;return e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"text-left p-2 border-b font-medium text-gray-700 sticky left-0 bg-gray-50 min-w-[180px]",children:"Daily"}),r.map(i=>e.jsx("th",{className:"text-center p-2 border-b font-medium text-gray-700 min-w-[80px]",children:i.date},i.date))]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium text-gray-900 sticky left-0 bg-white border-r",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Gross sales"]})}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.grossSales)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Items"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.items)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Service charges"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.serviceCharges)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-8 text-gray-500 sticky left-0 bg-white border-r",children:"sell tip cost"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(0)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Tax inclusive service charge"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(0)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Covid service charge"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(0)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Shipping"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(0)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Auto gratuity"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(0)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-gray-600 sticky left-0 bg-white border-r",children:"Returns"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.returns)},i.date))]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium text-gray-900 sticky left-0 bg-white border-r",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Discounts & comps"]})}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.discountsComps)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 font-medium text-gray-900 sticky left-0 bg-white border-r",children:"Net sales"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.netSales)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-gray-600 sticky left-0 bg-white border-r",children:"Gift card sales"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.giftCardSales)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-gray-600 sticky left-0 bg-white border-r",children:"Taxes"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.taxes)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-gray-600 sticky left-0 bg-white border-r",children:"Tips"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.tips)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-gray-600 sticky left-0 bg-white border-r",children:"Refunds by amount"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.refundsByAmount)},i.date))]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium text-gray-900 sticky left-0 bg-white border-r",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Deferred Sales"]})}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.invoices+i.giftCardSales)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Gift Card Sales"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.giftCardSales)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Partial Payments"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.invoices)},i.date))]}),e.jsxs("tr",{className:"border-b bg-yellow-50",children:[e.jsx("td",{className:"p-2 font-bold text-gray-900 sticky left-0 bg-yellow-50 border-r",children:"Total *"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r font-bold",children:n(i.grossSales+i.invoices)},i.date))]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium text-gray-900 sticky left-0 bg-white border-r",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Total payments collected"]})}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.totalPaymentsCollected)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Bank Transfer"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.bankTransfer)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Card"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.card)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Cash"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.cash)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Check"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.check)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Gift Card Redeemed"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.giftCardRedeemed)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"House Account"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.houseAccount)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Other"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.other)},i.date))]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium text-gray-900 sticky left-0 bg-white border-r",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Fees"]})}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.fees)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Square payment processing fees"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.squarePaymentProcessingFees)},i.date))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 pl-6 text-gray-600 sticky left-0 bg-white border-r",children:"Free processing"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r",children:n(i.freeProcessing)},i.date))]}),e.jsxs("tr",{className:"border-t-2 border-gray-800 bg-gray-50",children:[e.jsx("td",{className:"p-2 font-bold text-gray-900 sticky left-0 bg-gray-50 border-r",children:"Net total"}),r.map(i=>e.jsx("td",{className:"text-center p-2 border-r font-bold",children:n(i.netTotal)},i.date))]})]})]})})}const bb=[{id:"net-sales",label:"Net Sales",value:"$12,487.50",change:"+23.5%",changeType:"positive",href:"/dashboard/sales/reports/sales-summary"},{id:"gross-sales",label:"Gross Sales",value:"$13,125.75",change:"+18.2%",changeType:"positive",href:"/dashboard/sales/reports/sales-summary"},{id:"transactions",label:"Transactions",value:"247",change:"+12.8%",changeType:"positive",href:"/dashboard/sales/transactions"},{id:"average-net-sale",label:"Average Net Sale",value:"$50.56",change:"+8.4%",changeType:"positive",href:"/dashboard/sales/reports/sales-summary"},{id:"returns-refunds",label:"Returns and Refunds",value:"$638.25",change:"-2.1%",changeType:"positive",href:"/dashboard/sales/transactions"}],jb={totalCustomers:156,returningCustomers:89,avgVisitsPerCustomer:2.3,avgSpentPerVisit:"$47.25",positiveFeedback:94,negativeFeedback:6},Nb=[{id:"card",name:"Card",amount:"$8,750.25",percentage:67,color:"rgb(0, 106, 255)"},{id:"cash",name:"Cash",amount:"$2,987.50",percentage:23,color:"rgb(204, 225, 255)"},{id:"digital",name:"Digital Wallet",amount:"$1,312.75",percentage:10,color:"rgb(102, 187, 106)"},{id:"other",name:"Other",amount:"$37.00",percentage:0,color:"rgb(229, 240, 255)"}],wb={selectedDate:"Jul 18",keyMetrics:bb,customerStats:jb,paymentTypes:Nb,hasItemsSales:!0};function Sb(){const{state:t,setData:s}=kg(),{selectedScenario:a,dateRange:r,getScenarioDataForDate:n}=Sr(),[i,o]=j.useState("overview"),[m,u]=j.useState("Summary");j.useEffect(()=>{s(wb)},[s]);const l=a?n(a,r):null,c=p=>{u(p)},d=[{id:"overview",label:"Overview",icon:oe},{id:"deferred-sales",label:"Deferred Sales",icon:de},{id:"migration-status",label:"Migration Status",icon:ds}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-8 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Financial Suite Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive overview of your business performance, deferred sales, and system migration progress"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:d.map(p=>{const h=p.icon;return e.jsxs("button",{onClick:()=>o(p.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${i===p.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),p.label]},p.id)})})]}),e.jsxs("div",{className:"p-8",children:[i==="overview"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Business Performance Overview"}),e.jsx("p",{className:"text-gray-600",children:"Key metrics and insights for your Square business"})]}),e.jsx(xb,{data:t.data})]}),i==="deferred-sales"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Deferred Sales Management"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage deferred sales scenarios and revenue recognition"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsx(Gp,{onReportTypeChange:c})}),l?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:m==="Daily"?e.jsx(Wp,{scenario:l,dateRange:r}):e.jsx(Vp,{salesSections:l.salesSections,paymentSections:l.paymentSections})}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"p-4 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(de,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select a Deferred Sales Scenario"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Choose a scenario from the filters above to view detailed sales data and analytics."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left max-w-md mx-auto",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Available Scenarios:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Gift Card Sales Tracking"}),e.jsx("li",{children:" Partial Payment Processing"}),e.jsx("li",{children:" Catering Revenue Recognition"}),e.jsx("li",{children:" Payment Method Analysis"})]})]})]})})]}),i==="migration-status"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SDP Migration Status"}),e.jsx("p",{className:"text-gray-600",children:"Track the progress of report migrations to the new SDP platform"})]}),e.jsx(Bp,{})]})]})]})}function Cb(){return e.jsx("div",{className:"h-full",children:e.jsx(zp,{})})}function kb(){const t=Z(),s=[{id:"sales",label:"Sales",active:!0,subitems:[{id:"sales-summary",label:"Sales summary",active:!0},{id:"item-sales",label:"Item sales",active:!1},{id:"sales-trends",label:"Sales trends",active:!1},{id:"category-sales",label:"Category sales",active:!1},{id:"team-sales",label:"Team sales",active:!1},{id:"modifier-sales",label:"Modifier sales",active:!1},{id:"gift-cards",label:"Gift Cards",active:!1},{id:"future-bookings",label:"Future bookings",active:!1},{id:"section-sales",label:"Section sales",active:!1},{id:"vendor-sales",label:"Vendor sales",active:!1}]},{id:"accounting",label:"Accounting",active:!1,expandable:!0},{id:"payments",label:"Payments",active:!1,expandable:!0},{id:"operations",label:"Operations",active:!1,expandable:!0},{id:"online",label:"Online",active:!1,expandable:!0},{id:"inventory",label:"Inventory",active:!1,expandable:!0},{id:"custom-reports",label:"Custom reports",active:!1},{id:"settings",label:"Settings",active:!1,expandable:!0}];return e.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 h-full overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"h-8 w-8 p-0",children:e.jsx(ja,{className:"h-4 w-4"})}),e.jsx("h2",{className:"font-semibold text-gray-900",children:"Reports"})]})}),e.jsx("div",{className:"p-2",children:s.map(a=>e.jsxs("div",{className:"mb-1",children:[e.jsx("button",{className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${a.active?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:a.label}),a.expandable&&e.jsx(we,{className:"h-4 w-4 text-gray-400"})]})}),a.id==="sales"&&a.subitems&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:a.subitems.map(r=>e.jsx("button",{className:`w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors ${r.active?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:r.label},r.id))})]},a.id))})]})}function Pb(){const{state:t,updateFilters:s}=wr(),a=()=>{const n=t.filters.dateRange.start,i=t.filters.dateRange.end,o=n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),m=i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"});return`${o}  ${m}`},r=n=>{const i=t.filters.dateRange.start,o=t.filters.dateRange.end,m=Math.ceil((o.getTime()-i.getTime())/(1e3*60*60*24)),u=new Date(i),l=new Date(o);n==="prev"?(u.setDate(u.getDate()-m),l.setDate(l.getDate()-m)):(u.setDate(u.getDate()+m),l.setDate(l.getDate()+m)),s({dateRange:{start:u,end:l}})};return e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Sales summary"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>r("prev"),className:"h-8 w-8 p-0",children:e.jsx(zt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 rounded-md",children:[e.jsx(rt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a()})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>r("next"),className:"h-8 w-8 p-0",children:e.jsx(Cr,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Beta"}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(ui,{className:"h-4 w-4"})})]})]})})}function Tb(){const{state:t,updateFilters:s}=wr(),[a,r]=j.useState({"Report type":"Summary",Locations:t.filters.location,View:"Gauge","Group metric by":t.filters.groupBy,"Filter by":t.filters.timeframe}),[n,i]=j.useState(null),o=j.useRef({}),m=[{label:"Report type",value:a["Report type"],options:["Summary","Hourly","Daily","Weekly","Monthly"]},{label:"Locations",value:a.Locations,options:["All","Location 1","Location 2","Location 3"]},{label:"View",value:a.View,options:["Gauge","Table","Chart"]},{label:"Group metric by",value:a["Group metric by"],options:["All","Category","Item","Staff"]},{label:"Filter by",value:a["Filter by"],options:["All day","Morning","Afternoon","Evening"]}];j.useEffect(()=>{function c(d){if(n){const p=o.current[n];p&&!p.contains(d.target)&&i(null)}}return n&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[n]);const u=(c,d)=>{r(p=>({...p,[c]:d})),i(null),c==="Locations"?s({location:d}):c==="Group metric by"?s({groupBy:d}):c==="Filter by"&&s({timeframe:d})},l=c=>{i(n===c?null:c)};return e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Metrics"}),e.jsx("span",{className:"text-gray-500",children:"Gross sales & 25 others"}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400",children:e.jsx(ui,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[m.map((c,d)=>e.jsxs("div",{className:"flex items-center gap-1 relative",ref:p=>o.current[c.label]=p,children:[e.jsx("span",{className:"text-xs text-gray-500",children:c.label}),e.jsxs(M,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs bg-gray-100 hover:bg-gray-200",onClick:()=>l(c.label),children:[c.value,e.jsx(we,{className:"h-3 w-3 ml-1"})]}),n===c.label&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[120px]",children:c.options.map(p=>e.jsx("button",{className:"w-full px-3 py-2 text-left text-xs hover:bg-gray-50 first:rounded-t-md last:rounded-b-md",onClick:()=>u(c.label,p),children:p},p))})]},d)),e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[e.jsx("span",{className:"text-xs",children:"Timeframe: All day"}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 text-blue-600 hover:bg-blue-200",children:e.jsx(je,{className:"h-3 w-3"})})]}),e.jsx(M,{variant:"ghost",size:"sm",className:"text-xs text-gray-500",children:"Filter by"})]})]})})}function Ae({children:t,className:s,onClick:a}){return e.jsx("div",{className:U("bg-white rounded-lg border border-gray-200 p-6 shadow-sm",a&&"cursor-pointer",s),onClick:a,children:t})}function Et({children:t,variant:s="default",size:a="md",className:r}){return e.jsx("span",{className:U("inline-flex items-center rounded-full font-medium",{"px-2 py-1 text-xs":a==="sm","px-3 py-1 text-sm":a==="md"},{"bg-gray-100 text-gray-800":s==="default","bg-blue-100 text-blue-800":s==="primary","bg-green-100 text-green-800":s==="secondary"},r),children:t})}const Fs=[{id:"sales-summary",name:"Sales Summary",description:"Overview of total sales performance",icon:de,category:"Sales",migrationStatus:"pending"},{id:"sales-by-location",name:"Sales by Location",description:"Sales performance by store location",icon:Xo,category:"Sales",migrationStatus:"pending"},{id:"sales-by-time",name:"Sales by Time",description:"Sales trends over time periods",icon:ye,category:"Sales",migrationStatus:"pending"},{id:"sales-by-category",name:"Sales by Category",description:"Sales breakdown by item categories",icon:Ht,category:"Sales",migrationStatus:"pending"},{id:"sales-by-item",name:"Sales by Item",description:"Individual item sales performance",icon:tc,category:"Sales",migrationStatus:"pending"},{id:"discounts-comps",name:"Discounts & Comps",description:"Discount and complimentary item analysis",icon:Fy,category:"Financial",migrationStatus:"pending"},{id:"taxes",name:"Taxes",description:"Tax collection and reporting",icon:ds,category:"Financial",migrationStatus:"pending"},{id:"payments",name:"Payments",description:"Payment method breakdown",icon:mi,category:"Financial",migrationStatus:"pending"},{id:"cash-drawer",name:"Cash Drawer",description:"Cash drawer reconciliation",icon:kt,category:"Financial",migrationStatus:"pending"},{id:"deposits",name:"Deposits",description:"Deposit tracking and management",icon:kp,category:"Financial",migrationStatus:"pending"},{id:"employee-timecards",name:"Employee Timecards",description:"Staff time tracking and payroll",icon:It,category:"Staff",migrationStatus:"pending"},{id:"gratuity",name:"Gratuity",description:"Tips and gratuity reporting",icon:kt,category:"Staff",migrationStatus:"pending"},{id:"items-sold",name:"Items Sold",description:"Detailed item sales analysis",icon:Ht,category:"Inventory",migrationStatus:"pending"},{id:"modifier-sold",name:"Modifier Sold",description:"Modifier and add-on sales",icon:Ue,category:"Inventory",migrationStatus:"pending"},{id:"customer-directory",name:"Customer Directory",description:"Customer information and analytics",icon:Pr,category:"Customer",migrationStatus:"pending"}];function _b(){const t=Z(),[s,a]=j.useState(!1),[r,n]=j.useState([]),[i,o]=j.useState("idle"),[m,u]=j.useState(!1);if(m)return null;const l=y=>{n(N=>N.includes(y)?N.filter(f=>f!==y):[...N,y])},c=()=>{r.length===Fs.length?n([]):n(Fs.map(y=>y.id))},d=async()=>{o("generating"),await new Promise(x=>setTimeout(x,3e3));const y=r.map(x=>{const v=Fs.find(C=>C.id===x);return v?{id:`generated-${x}`,name:`${v.name} (Auto-Generated)`,description:`Automatically migrated from legacy ${v.name} report`,type:"dashboard",status:"active",createdBy:"System Migration",createdAt:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0],lastRun:"Never",metrics:p(x),filters:h(x),isShared:!1,isAutoGenerated:!0}:null}).filter(Boolean),f=[...JSON.parse(localStorage.getItem("customReports")||"[]"),...y];localStorage.setItem("customReports",JSON.stringify(f)),o("completed"),setTimeout(()=>{t("/financial-suite/custom-reports")},2e3)},p=y=>({"sales-summary":["Gross Sales","Net Sales","Tax","Transaction Count"],"sales-by-location":["Gross Sales","Net Sales","Location"],"sales-by-time":["Gross Sales","Net Sales","Date","Time"],"sales-by-category":["Gross Sales","Net Sales","Category Rollup"],"sales-by-item":["Gross Sales","Net Sales","Item Name","Items Sold"],"discounts-comps":["Discount Amount","Amount Comped","Items Comped"],taxes:["Tax","Gross Sales","Net Sales"],payments:["Gross Sales","Payment Method","Transaction Count"],"cash-drawer":["Gross Sales","Net Sales","Cash Amount"],deposits:["Gross Sales","Deposit Amount","Date"],"employee-timecards":["Employee","Hours Worked","Commission"],gratuity:["Tips","Employee","Transaction Count"],"items-sold":["Item Name","Items Sold","Units Sold","Gross Sales"],"modifier-sold":["Modifier Name","Modifier Sales","Items Sold"],"customer-directory":["Customer Name","Transaction Count","Total Spent"]})[y]||["Gross Sales","Net Sales"],h=y=>({"sales-summary":2,"sales-by-location":3,"sales-by-time":4,"sales-by-category":2,"sales-by-item":3,"discounts-comps":2,taxes:2,payments:3,"cash-drawer":1,deposits:2,"employee-timecards":3,gratuity:2,"items-sold":4,"modifier-sold":3,"customer-directory":2})[y]||2,g=()=>{t("/financial-suite")};return i==="completed"?e.jsx(Ae,{className:"mx-6 mt-6 p-6 border-green-200 bg-green-50",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(ft,{className:"h-6 w-6 text-green-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Migration Complete!"}),e.jsxs("p",{className:"text-green-800 mb-4",children:["Successfully generated ",r.length," custom reports in the new Financial Suite. You can now access these reports in the new system."]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(M,{onClick:g,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"View New Reports"]}),e.jsx(M,{variant:"outline",onClick:()=>u(!0),children:"Dismiss"})]})]})]})}):e.jsx(Ae,{className:"mx-6 mt-6 p-6 border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx(tt,{className:"h-6 w-6 text-amber-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"System Migration Notice"}),e.jsxs(Et,{className:"bg-amber-100 text-amber-800",children:[e.jsx(rt,{className:"h-3 w-3 mr-1"}),"May 2026"]})]}),e.jsxs("p",{className:"text-amber-800 mb-4",children:["Starting ",e.jsx("strong",{children:"May 2026"}),", we're moving to a new, more powerful reporting system. The reports below will no longer be available in their current form."]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsxs(M,{onClick:()=>a(!s),variant:"outline",className:"border-amber-300 text-amber-800 hover:bg-amber-100",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Auto-Generate New Reports (",Fs.length,")"]}),e.jsxs(M,{onClick:g,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"Explore New System"]})]}),s&&e.jsxs("div",{className:"mt-6 p-4 bg-white rounded-lg border border-amber-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Select Reports to Auto-Generate"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:c,className:"text-xs",children:r.length===Fs.length?"Deselect All":"Select All"}),e.jsxs(Et,{variant:"outline",className:"text-xs",children:[r.length," selected"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:Fs.map(y=>{const N=y.icon,f=r.includes(y.id);return e.jsx("div",{onClick:()=>l(y.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${f?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${f?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(N,{className:`h-4 w-4 ${f?"text-blue-600":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 truncate",children:y.name}),f&&e.jsx(ft,{className:"h-4 w-4 text-blue-600"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:y.description}),e.jsx(Et,{variant:"outline",className:"mt-2 text-xs",children:y.category})]})]})},y.id)})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Selected reports will be automatically recreated in the new Financial Suite system"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(M,{onClick:d,disabled:r.length===0||i==="generating",className:"bg-blue-600 hover:bg-blue-700",children:i==="generating"?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Generate ",r.length," Report",r.length!==1?"s":""]})})]})]})]})]})]}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"ml-4",children:e.jsx(je,{className:"h-4 w-4"})})]})})}function Rb({content:t,title:s,position:a="top",trigger:r="hover",children:n,className:i}){const[o,m]=ea.useState(!1),[u,l]=ea.useState(!1),c=ea.useRef(),d=()=>{c.current&&clearTimeout(c.current),m(!0)},p=()=>{c.current=setTimeout(()=>{u||m(!1)},100)},h=()=>{r==="hover"&&d()},g=()=>{r==="hover"&&p()},y=()=>{r==="click"&&m(!o)},N=()=>{const x="absolute z-50 px-3 py-2 text-sm bg-gray-900 text-white rounded-lg shadow-lg max-w-xs";switch(a){case"top":return`${x} bottom-full left-1/2 transform -translate-x-1/2 mb-2`;case"bottom":return`${x} top-full left-1/2 transform -translate-x-1/2 mt-2`;case"left":return`${x} right-full top-1/2 transform -translate-y-1/2 mr-2`;case"right":return`${x} left-full top-1/2 transform -translate-y-1/2 ml-2`;default:return x}},f=()=>{const x="absolute w-2 h-2 bg-gray-900 transform rotate-45";switch(a){case"top":return`${x} top-full left-1/2 transform -translate-x-1/2 -translate-y-1/2`;case"bottom":return`${x} bottom-full left-1/2 transform -translate-x-1/2 translate-y-1/2`;case"left":return`${x} left-full top-1/2 transform -translate-y-1/2 -translate-x-1/2`;case"right":return`${x} right-full top-1/2 transform -translate-y-1/2 translate-x-1/2`;default:return x}};return e.jsxs("div",{className:U("relative inline-block",i),onMouseEnter:h,onMouseLeave:g,onClick:y,children:[n,o&&e.jsxs("div",{className:N(),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[s&&e.jsx("div",{className:"font-semibold mb-1",children:s}),e.jsx("div",{className:"text-sm leading-relaxed",children:t}),e.jsx("div",{className:f()})]})]})}function Gi({metric:t,explanation:s,formula:a,example:r,className:n}){return e.jsx(Rb,{title:t,content:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:s}),a&&e.jsx("div",{className:"bg-gray-800 rounded px-2 py-1",children:e.jsx("code",{className:"text-xs text-gray-300",children:a})}),r&&e.jsxs("div",{className:"text-xs text-gray-300",children:[e.jsx("strong",{children:"Example:"})," ",r]})]}),position:"top",className:n,children:e.jsx("button",{className:"inline-flex items-center gap-1 text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(Jo,{className:"h-4 w-4"})})})}function Mb(){const{state:t}=wr(),{salesData:s}=t,a=Math.abs(s.netSales)/Math.abs(s.totalSales)*100,r=Math.abs(s.returns)/Math.abs(s.totalSales)*100;return e.jsxs("div",{className:"bg-white p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total sales"}),e.jsx(Gi,{metric:"Total Sales",explanation:"Total sales represents the sum of all successful transactions, including items, taxes, and tips, minus any refunds or voids.",formula:"Total Sales = Gross Sales + Taxes + Tips - Refunds - Voids",example:"If you sold $1000 in items, collected $80 in taxes, $50 in tips, and had $30 in refunds, your total sales would be $1100."})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["$",Math.abs(s.totalSales).toFixed(2)]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex h-4 rounded-full overflow-hidden bg-gray-200",children:[e.jsx("div",{className:"bg-blue-500 transition-all duration-500",style:{width:`${a}%`}}),e.jsx("div",{className:"bg-red-500 transition-all duration-500",style:{width:`${r}%`}})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Net sales"}),e.jsx(Gi,{metric:"Net Sales",explanation:"Net sales is your gross sales minus refunds, voids, and discounts. This represents your actual revenue after deductions.",formula:"Net Sales = Gross Sales - Refunds - Voids - Discounts",example:"If you had $1000 in gross sales and $50 in refunds, your net sales would be $950."})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Returns"}),e.jsx(Gi,{metric:"Returns",explanation:"Returns represent money refunded to customers for returned items or cancelled services.",formula:"Returns = Sum of all refund transactions",example:"If you processed 3 refunds of $20, $15, and $10, your total returns would be $45."})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Summary"}),e.jsx("div",{className:"text-xs text-gray-500",children:"All day (12:00 AM-12:00 AM ET)"})]})]})}const Vi=[{id:"TXN-001",date:"2025-01-31",time:"09:15:23",timeZone:"PST",grossSales:125.5,items:118.3,serviceCharges:7.2,returns:0,discounts:5,comps:0,netSales:120.5,giftCardSales:0,taxes:9.64,tips:15,partialRefunds:0,channel:"In-Store",device:"Terminal A1",deviceNickname:"Front Counter",source:"Square POS",staffName:"Sarah Johnson",totalCollected:145.14},{id:"TXN-002",date:"2025-01-31",time:"10:32:45",timeZone:"PST",grossSales:89.75,items:82.5,serviceCharges:7.25,returns:0,discounts:0,comps:2.5,netSales:87.25,giftCardSales:25,taxes:6.98,tips:12,partialRefunds:0,channel:"Online",device:"iPad Pro",deviceNickname:"Mobile Station",source:"Square Online",staffName:"Mike Chen",totalCollected:131.23},{id:"TXN-003",date:"2025-01-31",time:"11:47:12",timeZone:"PST",grossSales:234.8,items:220,serviceCharges:14.8,returns:15,discounts:10,comps:0,netSales:209.8,giftCardSales:0,taxes:16.78,tips:25,partialRefunds:10,channel:"In-Store",device:"Terminal B2",deviceNickname:"Back Counter",source:"Square POS",staffName:"Emma Rodriguez",totalCollected:241.58},{id:"TXN-004",date:"2025-01-31",time:"13:22:38",timeZone:"PST",grossSales:67.25,items:62,serviceCharges:5.25,returns:0,discounts:3,comps:0,netSales:64.25,giftCardSales:0,taxes:5.14,tips:8,partialRefunds:0,channel:"In-Store",device:"Terminal A1",deviceNickname:"Front Counter",source:"Square POS",staffName:"David Kim",totalCollected:77.39},{id:"TXN-005",date:"2025-01-31",time:"14:55:17",timeZone:"PST",grossSales:156.9,items:145,serviceCharges:11.9,returns:0,discounts:8,comps:5,netSales:143.9,giftCardSales:50,taxes:11.51,tips:20,partialRefunds:0,channel:"Online",device:"Tablet",deviceNickname:"Delivery Station",source:"Square Online",staffName:"Lisa Park",totalCollected:225.41},{id:"TXN-006",date:"2025-01-31",time:"16:18:44",timeZone:"PST",grossSales:98.4,items:92,serviceCharges:6.4,returns:0,discounts:0,comps:0,netSales:98.4,giftCardSales:0,taxes:7.87,tips:15,partialRefunds:0,channel:"In-Store",device:"Terminal B2",deviceNickname:"Back Counter",source:"Square POS",staffName:"Alex Thompson",totalCollected:121.27},{id:"TXN-007",date:"2025-01-31",time:"17:43:29",timeZone:"PST",grossSales:312.75,items:295,serviceCharges:17.75,returns:25,discounts:15,comps:0,netSales:272.75,giftCardSales:0,taxes:21.82,tips:35,partialRefunds:10,channel:"In-Store",device:"Terminal A1",deviceNickname:"Front Counter",source:"Square POS",staffName:"Rachel Green",totalCollected:319.57},{id:"TXN-008",date:"2025-01-31",time:"18:56:33",timeZone:"PST",grossSales:78.6,items:72.5,serviceCharges:6.1,returns:0,discounts:2.5,comps:0,netSales:76.1,giftCardSales:0,taxes:6.09,tips:10,partialRefunds:0,channel:"Online",device:"Mobile",deviceNickname:"Mobile App",source:"Square App",staffName:"Tom Wilson",totalCollected:92.19},{id:"TXN-009",date:"2025-01-31",time:"19:34:51",timeZone:"PST",grossSales:189.25,items:175,serviceCharges:14.25,returns:0,discounts:12,comps:3,netSales:174.25,giftCardSales:25,taxes:13.94,tips:22,partialRefunds:0,channel:"In-Store",device:"Terminal B2",deviceNickname:"Back Counter",source:"Square POS",staffName:"Jennifer Lee",totalCollected:235.19},{id:"TXN-010",date:"2025-01-31",time:"20:12:07",timeZone:"PST",grossSales:145.3,items:135,serviceCharges:10.3,returns:0,discounts:5,comps:0,netSales:140.3,giftCardSales:0,taxes:11.22,tips:18,partialRefunds:0,channel:"In-Store",device:"Terminal A1",deviceNickname:"Front Counter",source:"Square POS",staffName:"Mark Davis",totalCollected:169.52}];function Db({isOpen:t,onClose:s}){const a=Z(),{state:r}=wr();if(!t)return null;const n=l=>l<0?`($${Math.abs(l).toFixed(2)})`:`$${l.toFixed(2)}`,i=l=>{l.target===l.currentTarget&&s()},o=()=>{s();const l={dateRange:r.filters.dateRange,location:r.filters.location,timeframe:r.filters.timeframe,filterType:"payments",transactionTypes:["payments","exchanges"],status:"Completed"};a("/transactions",{state:l})},m=()=>{const c=[["Date","Time","Time Zone","Gross Sales","Items","Service Charges","Returns","Discounts","Comps","Net Sales","Gift Card Sales","Taxes","Tips","Partial Refunds","Channel","Device","Device Nickname","Source","Staff Name"].join(","),...Vi.map(g=>[g.date,g.time,g.timeZone,g.grossSales,g.items,g.serviceCharges,g.returns,g.discounts,g.comps,g.netSales,g.giftCardSales,g.taxes,g.tips,g.partialRefunds,g.channel,g.device,g.deviceNickname,g.source,g.staffName].join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a"),h=URL.createObjectURL(d);p.setAttribute("href",h),p.setAttribute("download",`gross-sales-transactions-${new Date().toISOString().split("T")[0]}.csv`),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)},u=l=>{a("/transactions",{state:{selectedTransaction:l,showTransactionBlade:!0}}),s()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:i,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[85vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Gross Sales Transaction Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click any row to view transaction details"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Export"]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(je,{className:"h-5 w-5 text-gray-500"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[90px]",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Time"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Time Zone"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[90px]",children:"Gross Sales"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Items"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[100px]",children:"Service Charges"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Returns"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Discounts"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[70px]",children:"Comps"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Net Sales"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[100px]",children:"Gift Card Sales"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[70px]",children:"Taxes"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[70px]",children:"Tips"}),e.jsx("th",{className:"text-right py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[100px]",children:"Partial Refunds"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[80px]",children:"Channel"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[90px]",children:"Device"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[110px]",children:"Device Nickname"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[100px]",children:"Source"}),e.jsx("th",{className:"text-left py-3 px-3 font-medium text-gray-900 text-xs border-b border-gray-200 min-w-[110px]",children:"Staff Name"})]})}),e.jsx("tbody",{children:Vi.map((l,c)=>e.jsxs("tr",{className:`hover:bg-blue-50 cursor-pointer transition-colors border-b border-gray-100 ${c%2===0?"bg-white":"bg-gray-25"}`,onClick:()=>u(l),children:[e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.date}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.time}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.timeZone}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right font-medium",children:n(l.grossSales)}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right",children:n(l.items)}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right",children:n(l.serviceCharges)}),e.jsx("td",{className:"py-2 px-3 text-xs text-red-600 text-right",children:l.returns>0?n(-l.returns):"$0.00"}),e.jsx("td",{className:"py-2 px-3 text-xs text-red-600 text-right",children:l.discounts>0?n(-l.discounts):"$0.00"}),e.jsx("td",{className:"py-2 px-3 text-xs text-red-600 text-right",children:l.comps>0?n(-l.comps):"$0.00"}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right font-medium",children:n(l.netSales)}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right",children:n(l.giftCardSales)}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right",children:n(l.taxes)}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right",children:n(l.tips)}),e.jsx("td",{className:"py-2 px-3 text-xs text-red-600 text-right",children:l.partialRefunds>0?n(-l.partialRefunds):"$0.00"}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.channel}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.device}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.deviceNickname}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.source}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:l.staffName})]},l.id))})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["Showing ",Vi.length," transactions"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Rp,{className:"h-4 w-4"}),"View All Transactions"]}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Close"})]})]})})]})})}const Ab=[{id:"PAY-001",date:"2025-06-25",time:"10:30 AM",timeZone:"PST",grossSales:150,items:140,serviceCharges:10,returns:0,discounts:0,comps:0,netSales:150,giftCardSales:0,taxes:12,tips:15,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:177,status:"Completed"},{id:"PAY-002",date:"2025-06-25",time:"11:45 AM",timeZone:"PST",grossSales:85.5,items:85.5,serviceCharges:0,returns:0,discounts:5,comps:0,netSales:80.5,giftCardSales:0,taxes:6.44,tips:10,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:96.94,status:"Completed"},{id:"PAY-003",date:"2025-06-25",time:"1:15 PM",timeZone:"PST",grossSales:220.75,items:200,serviceCharges:20.75,returns:0,discounts:0,comps:0,netSales:220.75,giftCardSales:0,taxes:17.66,tips:25,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:263.41,status:"Completed"},{id:"PAY-004",date:"2025-06-25",time:"9:20 AM",timeZone:"PST",grossSales:67.25,items:67.25,serviceCharges:0,returns:0,discounts:2.5,comps:0,netSales:64.75,giftCardSales:0,taxes:5.18,tips:8,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:77.93,status:"Completed"},{id:"PAY-005",date:"2025-06-25",time:"12:30 PM",timeZone:"PST",grossSales:134.8,items:120,serviceCharges:14.8,returns:0,discounts:0,comps:0,netSales:134.8,giftCardSales:0,taxes:10.78,tips:18,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:163.58,status:"Completed"},{id:"PAY-006",date:"2025-06-25",time:"2:45 PM",timeZone:"PST",grossSales:98.6,items:98.6,serviceCharges:0,returns:0,discounts:8,comps:0,netSales:90.6,giftCardSales:0,taxes:7.25,tips:12,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:109.85,status:"Completed"},{id:"PAY-007",date:"2025-06-25",time:"3:15 PM",timeZone:"PST",grossSales:189.25,items:175,serviceCharges:14.25,returns:0,discounts:0,comps:3,netSales:186.25,giftCardSales:0,taxes:14.9,tips:22,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:223.15,status:"Completed"},{id:"PAY-008",date:"2025-06-25",time:"4:50 PM",timeZone:"PST",grossSales:76.4,items:76.4,serviceCharges:0,returns:0,discounts:4,comps:0,netSales:72.4,giftCardSales:0,taxes:5.79,tips:9,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:87.19,status:"Completed"},{id:"PAY-009",date:"2025-06-25",time:"5:25 PM",timeZone:"PST",grossSales:156.9,items:145,serviceCharges:11.9,returns:0,discounts:0,comps:0,netSales:156.9,giftCardSales:0,taxes:12.55,tips:20,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:189.45,status:"Completed"},{id:"PAY-010",date:"2025-06-25",time:"6:10 PM",timeZone:"PST",grossSales:245.75,items:230,serviceCharges:15.75,returns:0,discounts:12,comps:0,netSales:233.75,giftCardSales:0,taxes:18.7,tips:28,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:280.45,status:"Completed"},{id:"PAY-011",date:"2025-06-25",time:"7:35 PM",timeZone:"PST",grossSales:112.3,items:112.3,serviceCharges:0,returns:0,discounts:6.5,comps:0,netSales:105.8,giftCardSales:0,taxes:8.46,tips:15,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:129.26,status:"Completed"},{id:"PAY-012",date:"2025-06-25",time:"8:20 PM",timeZone:"PST",grossSales:87.65,items:80,serviceCharges:7.65,returns:0,discounts:0,comps:2,netSales:85.65,giftCardSales:0,taxes:6.85,tips:11,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:103.5,status:"Completed"},{id:"PAY-013",date:"2025-06-25",time:"9:05 AM",timeZone:"PST",grossSales:198.4,items:185,serviceCharges:13.4,returns:0,discounts:0,comps:0,netSales:198.4,giftCardSales:0,taxes:15.87,tips:24,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:238.27,status:"Completed"},{id:"PAY-014",date:"2025-06-25",time:"10:15 AM",timeZone:"PST",grossSales:64.85,items:64.85,serviceCharges:0,returns:0,discounts:3.25,comps:0,netSales:61.6,giftCardSales:0,taxes:4.93,tips:7,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:73.53,status:"Completed"},{id:"PAY-015",date:"2025-06-25",time:"11:20 AM",timeZone:"PST",grossSales:143.7,items:135,serviceCharges:8.7,returns:0,discounts:0,comps:0,netSales:143.7,giftCardSales:0,taxes:11.5,tips:18,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:173.2,status:"Completed"},{id:"PAY-016",date:"2025-06-25",time:"1:40 PM",timeZone:"PST",grossSales:276.5,items:260,serviceCharges:16.5,returns:0,discounts:15,comps:0,netSales:261.5,giftCardSales:0,taxes:20.92,tips:32,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:314.42,status:"Completed"},{id:"PAY-017",date:"2025-06-25",time:"3:55 PM",timeZone:"PST",grossSales:91.2,items:91.2,serviceCharges:0,returns:0,discounts:5.5,comps:0,netSales:85.7,giftCardSales:0,taxes:6.86,tips:12,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:104.56,status:"Completed"},{id:"PAY-018",date:"2025-06-25",time:"6:45 PM",timeZone:"PST",grossSales:167.8,items:155,serviceCharges:12.8,returns:0,discounts:0,comps:4,netSales:163.8,giftCardSales:0,taxes:13.1,tips:21,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:197.9,status:"Completed"},{id:"PAY-019",date:"2025-06-25",time:"8:15 PM",timeZone:"PST",grossSales:124.95,items:124.95,serviceCharges:0,returns:0,discounts:7.25,comps:0,netSales:117.7,giftCardSales:0,taxes:9.42,tips:16,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:143.12,status:"Completed"},{id:"PAY-020",date:"2025-06-25",time:"9:30 PM",timeZone:"PST",grossSales:203.45,items:190,serviceCharges:13.45,returns:0,discounts:0,comps:0,netSales:203.45,giftCardSales:0,taxes:16.28,tips:26,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:245.73,status:"Completed"},{id:"EXC-001",date:"2025-06-25",time:"2:30 PM",timeZone:"PST",grossSales:45,items:45,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:45,giftCardSales:0,taxes:3.6,tips:0,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:48.6,status:"Completed"},{id:"EXC-002",date:"2025-06-25",time:"3:45 PM",timeZone:"PST",grossSales:32.5,items:32.5,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:32.5,giftCardSales:0,taxes:2.6,tips:5,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:40.1,status:"Completed"},{id:"EXC-003",date:"2025-06-25",time:"4:15 PM",timeZone:"PST",grossSales:67.25,items:67.25,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:67.25,giftCardSales:0,taxes:5.38,tips:0,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:72.63,status:"Completed"},{id:"EXC-004",date:"2025-06-25",time:"5:30 PM",timeZone:"PST",grossSales:89.75,items:89.75,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:89.75,giftCardSales:0,taxes:7.18,tips:10,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:106.93,status:"Completed"},{id:"EXC-005",date:"2025-06-25",time:"6:45 PM",timeZone:"PST",grossSales:125,items:125,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:125,giftCardSales:0,taxes:10,tips:15,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:150,status:"Completed"},{id:"EXC-006",date:"2025-06-25",time:"7:20 PM",timeZone:"PST",grossSales:54.3,items:54.3,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:54.3,giftCardSales:0,taxes:4.34,tips:8,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:66.64,status:"Completed"},{id:"EXC-007",date:"2025-06-25",time:"8:10 PM",timeZone:"PST",grossSales:78.9,items:78.9,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:78.9,giftCardSales:0,taxes:6.31,tips:12,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:97.21,status:"Completed"},{id:"EXC-008",date:"2025-06-25",time:"8:55 PM",timeZone:"PST",grossSales:43.75,items:43.75,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:43.75,giftCardSales:0,taxes:3.5,tips:5,partialRefunds:0,channel:"In-Person",device:"Terminal",deviceNickname:"Register 2",source:"Square POS",totalCollected:52.25,status:"Completed"},{id:"RET-001",date:"2025-06-25",time:"2:15 PM",timeZone:"PST",grossSales:-45,items:-45,serviceCharges:0,returns:45,discounts:0,comps:0,netSales:-45,giftCardSales:0,taxes:-3.6,tips:0,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 1",source:"Square POS",totalCollected:-48.6,status:"Completed"},{id:"RET-002",date:"2025-06-25",time:"3:30 PM",timeZone:"PST",grossSales:-25.5,items:-25.5,serviceCharges:0,returns:25.5,discounts:0,comps:0,netSales:-25.5,giftCardSales:0,taxes:-2.04,tips:0,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Online Store",source:"Square Online",totalCollected:-27.54,status:"Completed"},{id:"RET-003",date:"2025-06-25",time:"4:45 PM",timeZone:"PST",grossSales:-75.25,items:-70,serviceCharges:-5.25,returns:75.25,discounts:0,comps:0,netSales:-75.25,giftCardSales:0,taxes:-6.02,tips:0,partialRefunds:0,channel:"In-Person",device:"iPad",deviceNickname:"Register 2",source:"Square POS",totalCollected:-81.27,status:"Completed"},{id:"INV-001",date:"2025-06-25",time:"2:15 PM",timeZone:"PST",grossSales:100,items:100,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:100,giftCardSales:0,taxes:8,tips:0,partialRefunds:0,channel:"Invoice",device:"iPad",deviceNickname:"Register 1",source:"Square Invoices",totalCollected:50,status:"Partially Paid"},{id:"APT-001",date:"2025-06-25",time:"3:30 PM",timeZone:"PST",grossSales:200,items:180,serviceCharges:20,returns:0,discounts:10,comps:0,netSales:190,giftCardSales:0,taxes:15.2,tips:25,partialRefunds:0,channel:"Appointment",device:"Tablet",deviceNickname:"Booking System",source:"Square Appointments",totalCollected:0,status:"Partially Paid"},{id:"GC-001",date:"2025-06-25",time:"4:00 PM",timeZone:"PST",grossSales:50,items:0,serviceCharges:0,returns:0,discounts:0,comps:0,netSales:50,giftCardSales:50,taxes:0,tips:0,partialRefunds:0,channel:"Online",device:"Web",deviceNickname:"Gift Card Portal",source:"Square Gift Cards",totalCollected:25,status:"Partially Paid"}];function Aa({isOpen:t,onClose:s,title:a,transactions:r,filterType:n}){const i=Z();if(!t)return null;const o=d=>{const p=Math.abs(d).toFixed(2);return d<0?`($${p})`:`$${p}`},m=Ab.filter(d=>{switch(n){case"gross-sales":return d.status==="Completed"&&d.grossSales>0;case"sales":return d.status==="Completed"&&d.id.startsWith("PAY-");case"exchanges":return d.status==="Completed"&&d.id.startsWith("EXC-");case"net-sales":return d.status==="Completed";case"returns":return d.status==="Completed"&&d.returns>0;case"deferred-sales":return d.status==="Partially Paid";default:return!0}}),u=d=>{i("/transactions",{state:{selectedTransaction:d,showTransactionBlade:!0,...l()}}),s()},l=()=>{const d={dateRange:{start:new Date("2025-06-22"),end:new Date("2025-06-28")},location:"All",timeframe:"All day"};switch(n){case"gross-sales":return{...d,filterType:"payments",status:"Completed",transactionTypes:["payments","exchanges"]};case"sales":return{...d,filterType:"payments",status:"Completed",transactionTypes:["payments"]};case"exchanges":return{...d,filterType:"exchanges",status:"Completed",transactionTypes:["exchanges"]};case"net-sales":return{...d,filterType:"all",status:"Completed",transactionTypes:["payments","exchanges","refunds"]};case"returns":return{...d,filterType:"refunds",status:"Completed",transactionTypes:["refunds"]};case"deferred-sales":return{...d,filterType:"all",status:"All Status",transactionTypes:["invoices","appointments","gift-cards"]};default:return d}},c=()=>{s(),i("/transactions",{state:l()})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(je,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 overflow-auto max-h-[calc(90vh-120px)]",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Charges"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Returns"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discounts"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Taxes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tips"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Collected"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>u(d),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{children:d.date}),e.jsxs("div",{className:"text-gray-500",children:[d.time," ",d.timeZone]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.grossSales)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.items)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.serviceCharges)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:o(d.returns)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:o(d.discounts)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.netSales)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.taxes)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.tips)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.channel}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{children:d.device}),e.jsx("div",{className:"text-gray-500",children:d.deviceNickname})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(d.totalCollected)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:U("inline-flex px-2 py-1 text-xs font-semibold rounded-full",d.status==="Completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:d.status})})]},d.id))})]})}),m.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found for this filter."}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Rp,{className:"h-4 w-4"}),"View All Transactions"]})})]})]})})}function he({label:t,amount:s,isExpandable:a=!1,isExpanded:r=!1,onToggle:n,onClick:i,children:o,level:m=0,hasRedDot:u=!1,isClickable:l=!1,transactionCount:c,onTransactionCountClick:d,onSalesClick:p,onExchangesClick:h}){const g=w=>{const S=Math.abs(w).toFixed(2);return w<0?`($${S})`:`$${S}`},y=w=>{w.stopPropagation(),n&&n()},N=w=>{w.stopPropagation(),l&&i&&i()},f=w=>{w.stopPropagation(),d&&d()},x=w=>{w.stopPropagation(),p&&p()},v=w=>{w.stopPropagation(),h&&h()},C=(c==null?void 0:c.includes("sales + "))&&(c==null?void 0:c.includes("exchanges")),P=C&&c?(w=>{const S=w.match(/(\d+)\s+sales\s+\+\s+(\d+)\s+exchanges/);return S?{salesCount:S[1],exchangesCount:S[2]}:null})(c):null;return e.jsxs("div",{children:[e.jsxs("div",{className:U("flex items-center justify-between py-2 transition-colors",m>0&&"pl-6"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsx("button",{className:"p-0.5 hover:bg-gray-100 rounded",onClick:y,children:r?e.jsx(we,{className:"h-3 w-3 text-gray-400"}):e.jsx(Cr,{className:"h-3 w-3 text-gray-400"})}),!a&&m>0&&e.jsx("div",{className:"w-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[u&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:U("text-sm",m===0?"font-medium text-gray-900":"text-gray-700"),children:t}),c&&e.jsx("span",{className:"text-xs text-gray-500",children:C&&P?e.jsxs("span",{children:[e.jsxs("span",{className:"cursor-pointer hover:text-blue-600 hover:underline",onClick:x,children:[P.salesCount," sales"]}),e.jsx("span",{children:" + "}),e.jsxs("span",{className:"cursor-pointer hover:text-blue-600 hover:underline",onClick:v,children:[P.exchangesCount," exchanges"]})]}):e.jsx("span",{className:U(d&&"cursor-pointer hover:text-blue-600 hover:underline"),onClick:f,children:c})})]})]})]}),e.jsx("span",{className:U("text-sm font-medium cursor-pointer hover:bg-blue-50 px-2 py-1 rounded",s<0?"text-red-600":"text-gray-900",l&&"hover:text-blue-600"),onClick:N,children:g(s)})]}),r&&o&&e.jsx("div",{className:"border-l border-gray-200 ml-3",children:o})]})}function Ib(){const{state:t}=wr(),{salesData:s}=t,a=Z(),[r,n]=j.useState({grossSales:!0,serviceCharges:!1,discountsAndComps:!1,netSales:!1,giftCardSales:!1,deferredSales:!1,taxes:!1,tips:!1,totalSales:!1,totalPayments:!0,fees:!0}),[i,o]=j.useState(!1),[m,u]=j.useState(!1),[l,c]=j.useState(!1),[d,p]=j.useState(!1),[h,g]=j.useState(!1),[y,N]=j.useState(!1),[f,x]=j.useState("gift-card"),v=w=>{n(S=>({...S,[w]:!S[w]}))},C=w=>{a("/transactions",{state:{filterType:w,dateRange:t.filters.dateRange}})},T=()=>{u(!0)},P=()=>{c(!0)};return e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"divide-y divide-gray-100",children:[e.jsxs(he,{label:"Gross sales",amount:s.items+s.serviceCharges.covidServiceCharge+s.serviceCharges.setupCost+s.serviceCharges.autoGratuity,transactionCount:"28 transactions",onTransactionCountClick:()=>o(!0),isExpandable:!0,isExpanded:r.grossSales,onToggle:()=>v("grossSales"),isClickable:!0,onClick:()=>o(!0),children:[e.jsx(he,{label:"Items",amount:s.items,transactionCount:"20 sales + 8 exchanges",onTransactionCountClick:()=>o(!0),onSalesClick:T,onExchangesClick:P,level:1,isClickable:!0,onClick:()=>C("sale")}),e.jsx(he,{label:"Service charges",amount:s.serviceCharges.covidServiceCharge+s.serviceCharges.setupCost+s.serviceCharges.autoGratuity,transactionCount:"3 transactions",onTransactionCountClick:()=>o(!0),level:1,isClickable:!0,onClick:()=>C("service")})]}),e.jsx(he,{label:"Returns",amount:s.returns,transactionCount:"3 transactions",onTransactionCountClick:()=>g(!0),hasRedDot:!0,isClickable:!0,onClick:()=>g(!0)}),e.jsx(he,{label:"Discounts & comps",amount:s.discountsAndComps,transactionCount:"2 transactions",isExpandable:!0,isExpanded:r.discountsAndComps,onToggle:()=>v("discountsAndComps"),hasRedDot:!0,isClickable:!0,onClick:()=>C("comp")}),e.jsx(he,{label:"Net sales",amount:s.netSales,transactionCount:"30 transactions",onTransactionCountClick:()=>p(!0),isExpandable:!0,isExpanded:r.netSales,onToggle:()=>v("netSales"),hasRedDot:!0,isClickable:!0,onClick:()=>p(!0)}),e.jsxs(he,{label:"Deferred Sales",amount:s.deferredSales.giftCardSales+s.deferredSales.invoices+s.deferredSales.invoiceDepositRedeemed,isExpandable:!0,isExpanded:r.deferredSales,onToggle:()=>v("deferredSales"),hasRedDot:!0,children:[e.jsx(he,{label:"Gift Card Sales",amount:s.deferredSales.giftCardSales,transactionCount:"0 transactions",onTransactionCountClick:()=>{x("gift-card"),N(!0)},level:1,isClickable:!0,onClick:()=>{x("gift-card"),N(!0)}}),e.jsx(he,{label:"Partial Payments",amount:s.deferredSales.invoices,transactionCount:"1 transaction",onTransactionCountClick:()=>{x("invoice"),N(!0)},level:1,isClickable:!0,onClick:()=>{x("invoice"),N(!0)}})]}),e.jsx(he,{label:"Gift card sales",amount:s.giftCardSales,transactionCount:"5 transactions",isExpandable:!0,isExpanded:r.giftCardSales,onToggle:()=>v("giftCardSales"),hasRedDot:!0,isClickable:!0,onClick:()=>C("gift-card")}),e.jsx(he,{label:"Taxes",amount:s.taxes,transactionCount:"28 transactions",isExpandable:!0,isExpanded:r.taxes,onToggle:()=>v("taxes"),hasRedDot:!0,isClickable:!0,onClick:()=>C("tax")}),e.jsx(he,{label:"Tips",amount:s.tips,transactionCount:"15 transactions",isExpandable:!0,isExpanded:r.tips,onToggle:()=>v("tips"),hasRedDot:!0,isClickable:!0,onClick:()=>C("tip")}),e.jsx(he,{label:"Total sales",amount:s.totalSales,transactionCount:"32 transactions",isExpandable:!0,isExpanded:r.totalSales,onToggle:()=>v("totalSales"),isClickable:!0,onClick:()=>C()}),e.jsx(he,{label:"Total payments collected",amount:s.totalPaymentsCollected,transactionCount:"32 transactions",isExpandable:!0,isExpanded:r.totalPayments,onToggle:()=>v("totalPayments"),isClickable:!0,onClick:()=>C(),children:s.paymentMethods.map((w,S)=>e.jsx(he,{label:w.method,amount:w.amount,level:1},S))}),e.jsx(he,{label:"Fees",amount:s.fees.squarePaymentProcessingFees,isExpandable:!0,isExpanded:r.fees,onToggle:()=>v("fees"),children:e.jsx(he,{label:"Square payment processing fees",amount:s.fees.squarePaymentProcessingFees,level:1})}),e.jsx("div",{className:"pt-4 border-t-2 border-gray-200",children:e.jsx(he,{label:"Net total",amount:s.netTotal})})]}),e.jsx(Db,{isOpen:i,onClose:()=>o(!1)}),e.jsx(Aa,{isOpen:m,onClose:()=>u(!1),title:"Sales Transactions",transactions:[],filterType:"sales"}),e.jsx(Aa,{isOpen:l,onClose:()=>c(!1),title:"Exchange Transactions",transactions:[],filterType:"exchanges"}),e.jsx(Aa,{isOpen:d,onClose:()=>p(!1),title:"Net Sales Transactions",transactions:[],filterType:"net-sales"}),e.jsx(Aa,{isOpen:h,onClose:()=>g(!1),title:"Returns Transactions",transactions:[],filterType:"returns"}),e.jsx(Aa,{isOpen:y,onClose:()=>N(!1),title:`${f==="gift-card"?"Gift Card":f==="invoice"?"Partial Payments":"Square Online"} Transactions`,transactions:[],filterType:"deferred-sales"})]})}function Yr(){return e.jsxs("div",{className:"h-full flex bg-gray-50",children:[e.jsx(kb,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(Pb,{}),e.jsx(_b,{}),e.jsx(Tb,{}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"w-80 border-r border-gray-200",children:e.jsx(Mb,{})}),e.jsx("div",{className:"flex-1 p-6",children:e.jsx(Ib,{})})]})]})]})}function Eb({transaction:t,isOpen:s,onClose:a}){if(!s)return null;const r=i=>i<0?`($${Math.abs(i).toFixed(2)})`:`$${i.toFixed(2)}`,n=(i,o)=>{const m=new Date(`${i}T${o}`);return m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" "+m.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return e.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-50 overflow-y-auto border-l border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r(t.grossSales)," Payment"]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(je,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n(t.date,t.time)}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Collected by: "}),e.jsx("span",{className:"text-gray-900",children:t.staffName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Order Source: "}),e.jsx("span",{className:"text-blue-600 underline cursor-pointer",children:t.source})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Sale attributed to: "}),e.jsx("span",{className:"text-gray-900",children:t.staffName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Paid by: "}),e.jsx("span",{className:"text-gray-900",children:"Customer"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Channel: "}),e.jsx("span",{className:"text-gray-900",children:t.channel})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Message"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-900",children:[r(t.grossSales),"  1"]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(t.grossSales)})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Regular"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"TOTAL"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(t.grossSales)})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-900",children:"Visa 1111"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(t.grossSales*.8)})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:n(t.date,t.time)}),e.jsx("p",{className:"text-xs text-gray-600",children:"Receipt #BMIL"})]}),t.grossSales>100&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-900",children:"Visa 1111"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(t.grossSales*.2)})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:n(t.date,t.time)}),e.jsx("p",{className:"text-xs text-gray-600",children:"Receipt #PbgP"})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900",children:"Invoice payment"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.id," to ",t.staffName]}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 underline mt-1",children:"View invoice"})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Transaction Breakdown"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Items"}),e.jsx("span",{className:"text-gray-900",children:r(t.items)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service Charges"}),e.jsx("span",{className:"text-gray-900",children:r(t.serviceCharges)})]}),t.returns>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Returns"}),e.jsx("span",{className:"text-red-600",children:r(-t.returns)})]}),t.discounts>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Discounts"}),e.jsx("span",{className:"text-red-600",children:r(-t.discounts)})]}),t.comps>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Comps"}),e.jsx("span",{className:"text-red-600",children:r(-t.comps)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Net Sales"}),e.jsx("span",{className:"text-gray-900 font-medium",children:r(t.netSales)})]}),t.giftCardSales>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Gift Card Sales"}),e.jsx("span",{className:"text-gray-900",children:r(t.giftCardSales)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Taxes"}),e.jsx("span",{className:"text-gray-900",children:r(t.taxes)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tips"}),e.jsx("span",{className:"text-gray-900",children:r(t.tips)})]}),t.partialRefunds>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Partial Refunds"}),e.jsx("span",{className:"text-red-600",children:r(-t.partialRefunds)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[r(t.grossSales*.85)," Transferred"]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"Fees: Square Invoice 3.50% + $0.15 ($31.05) / Fees: Square Invoice 3.50% + $0.15 ($3.65)"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 underline",children:"Learn more about fees"})]})]})]})]})}function Od(){const t=Z(),s=ba(),[a,r]=j.useState(null),[n,i]=j.useState(!1),o=s.state||{},{filterType:m,status:u,transactionTypes:l,dateRange:c,location:d,timeframe:p}=o,[h,g]=j.useState({date:c?`${c.start.toLocaleDateString()} - ${c.end.toLocaleDateString()}`:"08/06/2025",timeframe:p||"All day",paymentMethods:"All Payment Methods",types:y(m),statuses:u||"All Statuses",locations:d||"All locations",sources:"All Sources",teamMembers:"All Team Members",fees:"All Fees"});function y(x,v){switch(x){case"payments":return"Payments";case"exchanges":return"Exchanges";case"refunds":return"Refunds";case"deferred":return"Deferred Sales";default:return"All Types"}}j.useEffect(()=>{var x,v;(x=s.state)!=null&&x.selectedTransaction&&((v=s.state)!=null&&v.showTransactionBlade)&&(r(s.state.selectedTransaction),i(!0))},[s.state]);const N=()=>{t("/reports")},f=()=>{i(!1),r(null)};return e.jsxs("div",{className:"h-full bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:N,className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ja,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"Orders & payments"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:h.date}),e.jsx(we,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.timeframe,onChange:x=>g(v=>({...v,timeframe:x.target.value})),children:[e.jsx("option",{children:"All day"}),e.jsx("option",{children:"Morning"}),e.jsx("option",{children:"Afternoon"}),e.jsx("option",{children:"Evening"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.paymentMethods,onChange:x=>g(v=>({...v,paymentMethods:x.target.value})),children:[e.jsx("option",{children:"All Payment Methods"}),e.jsx("option",{children:"Card"}),e.jsx("option",{children:"Cash"}),e.jsx("option",{children:"Gift Card"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.types,onChange:x=>g(v=>({...v,types:x.target.value})),children:[e.jsx("option",{children:"All Types"}),e.jsx("option",{children:"Payments & Exchanges"}),e.jsx("option",{children:"Refunds"}),e.jsx("option",{children:"Deferred Sales"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.statuses,onChange:x=>g(v=>({...v,statuses:x.target.value})),children:[e.jsx("option",{children:"All Statuses"}),e.jsx("option",{children:"Completed"}),e.jsx("option",{children:"Partially Paid"}),e.jsx("option",{children:"Awaiting Capture"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.locations,onChange:x=>g(v=>({...v,locations:x.target.value})),children:[e.jsx("option",{children:"All locations"}),e.jsx("option",{children:"Main Store"}),e.jsx("option",{children:"Online"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.sources,onChange:x=>g(v=>({...v,sources:x.target.value})),children:[e.jsx("option",{children:"All Sources"}),e.jsx("option",{children:"Square POS"}),e.jsx("option",{children:"Square Online"}),e.jsx("option",{children:"Square Invoices"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.teamMembers,onChange:x=>g(v=>({...v,teamMembers:x.target.value})),children:[e.jsx("option",{children:"All Team Members"}),e.jsx("option",{children:"Sarah Johnson"}),e.jsx("option",{children:"Mike Smith"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",value:h.fees,onChange:x=>g(v=>({...v,fees:x.target.value})),children:[e.jsx("option",{children:"All Fees"}),e.jsx("option",{children:"Processing Fees"}),e.jsx("option",{children:"No Fees"})]}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"Card #"})})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"text",placeholder:"Filter by card (last 4)",className:"text-sm border border-gray-300 rounded px-3 py-1 w-48"})}),e.jsx("button",{className:"text-sm border border-gray-300 rounded px-3 py-1 hover:bg-gray-50",children:"Export"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[(m||u)&&e.jsx("div",{className:"px-6 py-3 bg-blue-50 border-b border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-blue-800 font-medium",children:"Active Filters:"}),m&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:m==="payments"?"Payments & Exchanges":m==="refunds"?"Refunds":m==="deferred"?"Deferred Sales":m}),u&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",u]}),c&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Date: ",c.start.toLocaleDateString()," - ",c.end.toLocaleDateString()]})]})}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Aug 6, 2025"})}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"0"}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:"COMPLETE TRANSACTIONS"}),e.jsx(Ye,{className:"w-4 h-4 ml-1 text-gray-400"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"$100.00"}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:"TOTAL COLLECTED"}),e.jsx(Ye,{className:"w-4 h-4 ml-1 text-gray-400"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"$0.00"}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:"NET SALES"}),e.jsx(Ye,{className:"w-4 h-4 ml-1 text-gray-400"})]})]})]})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Wednesday, August 6, 2025"}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-5 bg-blue-100 border border-blue-300 rounded text-xs flex items-center justify-center text-blue-700 font-medium",children:"VISA"}),e.jsx("span",{className:"text-sm text-gray-600",children:"1:17 pm"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"PARTIALLY PAID"}),e.jsx("span",{className:"text-sm text-gray-900",children:"No description - Collected by Approve Test SL"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"$100.00"}),e.jsx("div",{className:"text-sm text-gray-600",children:"$100.00"})]})]})]})]})}),a&&e.jsx(Eb,{transaction:a,isOpen:n,onClose:f})]})}function $b({className:t,...s}){return e.jsxs("div",{className:U("relative",t),children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-60",...s})]})}const Ob=({module:t,onStart:s})=>{const{getModuleProgress:a}=ci(),r=a(t.id),n=r===100,i=o=>{switch(o){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(Ae,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qo,{className:"h-5 w-5 text-blue-600"}),e.jsx(Et,{className:i(t.difficulty),children:t.difficulty})]}),n&&e.jsx(Bn,{className:"h-5 w-5 text-green-600"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[e.jsx(ye,{className:"h-4 w-4"}),t.duration]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.sections.length," sections"]})]}),r>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[Math.round(r),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})})]}),e.jsx(M,{onClick:()=>s(t.id),className:"w-full",variant:r>0?"outline":"default",children:r===0?"Start Module":r===100?"Review":"Continue"})]})},Lb=()=>{const t=Z(),{getFilteredModules:s,searchTerm:a,setSearchTerm:r,difficultyFilter:n,setDifficultyFilter:i,setCurrentModule:o}=ci(),m=s(),u=l=>{o(l),t(`/education/${l}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mp,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Education Center"}),e.jsx("p",{className:"text-gray-600",children:"Learn about sales metrics and payment processing"})]})]})}),e.jsx(Ae,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx($b,{placeholder:"Search modules...",value:a,onChange:r})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kr,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:n,onChange:l=>i(l.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Levels"}),e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(l=>e.jsx(Ob,{module:l,onStart:u},l.id))}),m.length===0&&e.jsxs(Ae,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Ze,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No modules found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters to find relevant modules."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs(Ae,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:m.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Available Modules"})]}),e.jsxs(Ae,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:m.reduce((l,c)=>l+c.sections.length,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Sections"})]}),e.jsxs(Ae,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:m.reduce((l,c)=>l+c.faqs.length,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"FAQ Items"})]})]})]})};function Fb({label:t,error:s,trailingAction:a,unit:r,className:n,...i}){return e.jsxs("div",{className:"w-full",children:[t&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{className:U("w-full px-4 py-3 text-base border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-0",s&&"border-red-500 focus:border-red-500",(a||r)&&"pr-20",i.readOnly&&"bg-gray-50",n),...i}),r&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:r}),a&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a})]}),s&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s})]})}const zb=({calculator:t})=>{const{calculatorInputs:s,updateCalculatorInput:a,calculateResult:r}=ci(),[n,i]=j.useState({}),o=(l,c)=>{const d=parseFloat(c)||0;a(l,d)},m=()=>{const l=r(t.id);i(l)},u=(l,c)=>{switch(c){case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);case"percentage":return`${l.toFixed(2)}%`;default:return l.toFixed(2)}};return e.jsxs(Ae,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Za,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Interactive Calculator"})]}),e.jsx("div",{className:"space-y-4 mb-6",children:t.inputs.map(l=>{var c;return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l.label}),l.type==="number"&&e.jsxs("div",{className:"relative",children:[e.jsx(kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Fb,{type:"number",placeholder:l.placeholder,defaultValue:l.defaultValue,className:"pl-10",onChange:d=>o(l.id,d.target.value)})]}),l.type==="select"&&e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d=>o(l.id,d.target.value),children:(c=l.options)==null?void 0:c.map(d=>e.jsx("option",{value:d,children:d},d))})]},l.id)})}),e.jsx(M,{onClick:m,className:"w-full mb-4",children:"Calculate"}),Object.keys(n).length>0&&e.jsxs("div",{className:"space-y-3 pt-4 border-t border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Results:"}),t.outputs.map(l=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:[l.label,":"]}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:u(n[l.id]||0,l.format)})]},l.id))]})]})},Bb=({example:t,showCalculation:s=!0})=>e.jsxs(Ae,{className:"p-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Za,{className:"h-5 w-5 text-green-600"}),e.jsx("h4",{className:"font-semibold text-green-900",children:t.title})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:t.scenario}),s&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Calculation Steps:"]}),t.calculation.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.label}),e.jsx("div",{className:"text-sm text-gray-600",children:a.explanation})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"bg-blue-100 text-blue-800 font-mono",children:a.formula}),r<t.calculation.length-1&&e.jsx(fr,{className:"h-4 w-4 text-gray-400"})]})]},r))]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border-2 border-green-200",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Final Result:"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:t.result})]})]}),Gb=({scenarios:t,selectedScenario:s,onSelectScenario:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Processing Scenarios"}),e.jsx("div",{className:"grid gap-4",children:t.map(r=>e.jsxs(Ae,{className:`p-4 cursor-pointer transition-all ${(s==null?void 0:s.id)===r.id?"border-blue-500 bg-blue-50":"hover:border-gray-300"}`,onClick:()=>a==null?void 0:a(r.id),children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:r.name}),r.isEdgeCase?e.jsxs(Et,{className:"bg-orange-100 text-orange-800",children:[e.jsx(Ka,{className:"h-3 w-3 mr-1"}),"Edge Case"]}):e.jsxs(Et,{className:"bg-green-100 text-green-800",children:[e.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Standard"]})]})}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sale Reported:"})]}),e.jsx("span",{className:"text-sm text-gray-900",children:r.saleReportTime})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Reported:"})]}),e.jsx("span",{className:"text-sm text-gray-900",children:r.paymentReportTime})]})]}),(s==null?void 0:s.id)===r.id&&e.jsx("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Explanation:"})," ",r.explanation]})})]},r.id))})]}),Vb=({faqs:t,title:s="Frequently Asked Questions"})=>{const[a,r]=j.useState(null),[n,i]=j.useState("all"),o=["all",...Array.from(new Set(t.map(c=>c.category)))],m=n==="all"?t:t.filter(c=>c.category===n),u=c=>{r(a===c?null:c)},l=c=>({general:"bg-blue-100 text-blue-800",timing:"bg-green-100 text-green-800",definitions:"bg-purple-100 text-purple-800","edge-cases":"bg-orange-100 text-orange-800",calculations:"bg-indigo-100 text-indigo-800"})[c]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-blue-600"}),s]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(c=>e.jsx("button",{onClick:()=>i(c),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n===c?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:c==="all"?"All":c.replace("-"," ").replace(/\b\w/g,d=>d.toUpperCase())},c))}),e.jsx("div",{className:"space-y-3",children:m.map(c=>e.jsxs(Ae,{className:"overflow-hidden",children:[e.jsx("button",{onClick:()=>u(c.id),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(Et,{className:l(c.category),children:c.category.replace("-"," ")})}),e.jsx("h4",{className:"font-medium text-gray-900 pr-4",children:c.question})]}),a===c.id?e.jsx(di,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}):e.jsx(we,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]})}),a===c.id&&e.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:c.answer}),c.examples&&c.examples.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Examples:"}),e.jsx("ul",{className:"space-y-1",children:c.examples.map((d,p)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),d]},p))})]})]})})]},c.id))}),m.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No FAQs found for the selected category."})]})},Wb=()=>{const{moduleId:t}=gp(),s=Z(),{currentModule:a,currentSectionId:r,setCurrentModule:n,setCurrentSection:i,getNextSection:o,getPreviousSection:m,markSectionComplete:u,completedSections:l,scenarios:c,selectedScenario:d,setSelectedScenario:p}=ci();if(ea.useEffect(()=>{t&&(!a||a.id!==t)&&n(t)},[t,a,n]),!a||!r)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading module..."})]})});const h=a.sections.find(v=>v.id===r),g=o(),y=m(),N=l.has(r),f=()=>{N||u(r),g?i(g):s("/education")},x=()=>{y&&i(y)};return h?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(M,{variant:"outline",onClick:()=>s("/education"),className:"flex items-center gap-2",children:[e.jsx(ja,{className:"h-4 w-4"}),"Back to Education"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:a.duration})]})]}),e.jsxs(Ae,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qo,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:a.title}),e.jsx("p",{className:"text-gray-600",children:a.description})]})]}),e.jsx(Et,{className:"bg-blue-100 text-blue-800",children:a.difficulty})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(a.sections.findIndex(v=>v.id===r)+1)/a.sections.length*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.sections.findIndex(v=>v.id===r)+1," of ",a.sections.length]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:a.sections.map((v,C)=>e.jsx("button",{onClick:()=>i(v.id),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${v.id===r?"bg-white text-blue-600 shadow-sm":l.has(v.id)?"text-green-600 hover:bg-white":"text-gray-600 hover:bg-white"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[l.has(v.id)&&e.jsx(Bn,{className:"h-4 w-4"}),e.jsx("span",{children:C+1})]})},v.id))})}),e.jsxs(Ae,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:h.title}),e.jsx("div",{className:"prose max-w-none mb-8",children:e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:h.content})}),h.examples&&h.examples.length>0&&e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Examples"}),h.examples.map(v=>e.jsx(Bb,{example:v},v.id))]}),h.calculator&&e.jsx("div",{className:"mb-8",children:e.jsx(zb,{calculator:h.calculator})}),h.type==="timeline"&&e.jsx("div",{className:"mb-8",children:e.jsx(Gb,{scenarios:c,selectedScenario:d,onSelectScenario:p})})]}),a.faqs&&a.faqs.length>0&&e.jsx(Ae,{className:"p-8",children:e.jsx(Vb,{faqs:a.faqs})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(M,{variant:"outline",onClick:x,disabled:!y,className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!N&&e.jsxs(M,{variant:"outline",onClick:()=>u(r),className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"h-4 w-4"}),"Mark Complete"]}),e.jsxs(M,{onClick:f,className:"flex items-center gap-2",children:[g?"Next":"Complete Module",e.jsx(Cr,{className:"h-4 w-4"})]})]})]})]}):e.jsx("div",{children:"Section not found"})},qb=[{id:"lf-001",date:"2024-01-15",dayOfWeek:"Monday",predictedSales:8500,recommendedStaff:{servers:4,kitchen:3,bartenders:1,hosts:1},laborCostForecast:1200,laborPercentage:14.1,confidence:.87,factors:["Historical Monday performance","Weather forecast: Clear","No major events"]},{id:"lf-002",date:"2024-01-16",dayOfWeek:"Tuesday",predictedSales:9200,recommendedStaff:{servers:5,kitchen:3,bartenders:2,hosts:1},laborCostForecast:1350,laborPercentage:14.7,confidence:.82,factors:["Tuesday happy hour promotion","Local business meeting scheduled","Mild weather expected"]},{id:"lf-003",date:"2024-01-17",dayOfWeek:"Wednesday",predictedSales:11800,recommendedStaff:{servers:6,kitchen:4,bartenders:2,hosts:2},laborCostForecast:1680,laborPercentage:14.2,confidence:.91,factors:["Mid-week dinner rush","Wine tasting event","University nearby has evening classes"]}],Ub=[{id:"so-001",shift:"morning",currentStaffing:{servers:3,kitchen:2,bartenders:1,hosts:1},optimalStaffing:{servers:2,kitchen:2,bartenders:0,hosts:1},potentialSavings:180,serviceImpact:"neutral",recommendation:"Reduce morning servers by 1, eliminate bartender until 11 AM"},{id:"so-002",shift:"evening",currentStaffing:{servers:5,kitchen:3,bartenders:2,hosts:1},optimalStaffing:{servers:6,kitchen:4,bartenders:2,hosts:2},potentialSavings:-220,serviceImpact:"positive",recommendation:"Add 1 server and 1 kitchen staff for peak dinner service"}],Hb=[{id:"ca-001",customerId:"cust-12345",customerSegment:"high-value",clv:2850,churnProbability:.12,lastVisit:"2024-01-10",visitFrequency:2.3,averageSpend:67.5,preferredItems:["Ribeye Steak","Caesar Salad","Craft Beer Selection"],recommendedActions:["Send personalized wine pairing offer","Invite to exclusive tasting event"]},{id:"ca-002",customerId:"cust-67890",customerSegment:"at-risk",clv:890,churnProbability:.78,lastVisit:"2023-11-15",visitFrequency:.4,averageSpend:45.2,preferredItems:["Burger","Fries","Soda"],recommendedActions:["Send comeback discount","Follow up with personalized message","Offer loyalty program enrollment"]},{id:"ca-003",customerId:"cust-11111",customerSegment:"regular",clv:1650,churnProbability:.25,lastVisit:"2024-01-08",visitFrequency:1.8,averageSpend:52.3,preferredItems:["Salmon","House Salad","White Wine"],recommendedActions:["Suggest similar fish dishes","Offer wine club membership"]}],Yb=[{cohortMonth:"2023-01",customersAcquired:145,retentionRates:{month1:.68,month3:.42,month6:.28,month12:.18},revenuePerCohort:{month1:8750,month3:12400,month6:15600,month12:18900},averageClv:1890},{cohortMonth:"2023-06",customersAcquired:189,retentionRates:{month1:.72,month3:.48,month6:.31,month12:.22},revenuePerCohort:{month1:11200,month3:16800,month6:21400,month12:25600},averageClv:2140}],Qb=[{id:"sf-001",date:"2024-01-15",predictedSales:12500,confidence:.89,seasonalAdjustment:.95,weatherImpact:1.02,eventImpact:1,trendComponent:1.08,actualSales:12180,variance:-2.6,factors:[{name:"Seasonal Trend",impact:-5,description:"January typically 5% below average"},{name:"Weather",impact:2,description:"Clear weather increases foot traffic"},{name:"Growth Trend",impact:8,description:"Consistent 8% monthly growth"}]},{id:"sf-002",date:"2024-01-16",predictedSales:13200,confidence:.84,seasonalAdjustment:.96,weatherImpact:.98,eventImpact:1.15,trendComponent:1.08,factors:[{name:"Local Event",impact:15,description:"Business conference at nearby hotel"},{name:"Weather",impact:-2,description:"Light rain expected in evening"},{name:"Tuesday Promotion",impact:8,description:"Happy hour specials drive traffic"}]}],Zb=[{id:"sp-001",scenarioName:"Menu Price Increase",description:"Increase menu prices by 8% across all items",assumptions:{priceChange:8,staffingChange:0,marketingSpend:0,seasonalFactor:1,competitorAction:"No response expected"},projections:{salesImpact:-12,laborCostImpact:0,profitImpact:18,customerCountImpact:-8},confidence:.76,timeframe:"3 months"},{id:"sp-002",scenarioName:"Staffing Optimization",description:"Optimize staffing based on AI recommendations",assumptions:{priceChange:0,staffingChange:-12,marketingSpend:0,seasonalFactor:1,competitorAction:"None"},projections:{salesImpact:-2,laborCostImpact:-12,profitImpact:8,customerCountImpact:-1},confidence:.91,timeframe:"1 month"},{id:"sp-003",scenarioName:"Marketing Campaign",description:"Launch targeted social media campaign for lunch specials",assumptions:{priceChange:0,staffingChange:5,marketingSpend:2500,seasonalFactor:1,competitorAction:"Similar campaign launch"},projections:{salesImpact:15,laborCostImpact:5,profitImpact:12,customerCountImpact:18},confidence:.68,timeframe:"2 months"}],Kb=[{id:"pm-001",modelType:"sales",name:"Daily Sales Forecaster",description:"Predicts daily sales using historical data, weather, and events",accuracy:.87,lastTrained:"2024-01-10",features:["Historical sales","Day of week","Weather","Local events","Seasonality"],assumptions:[{key:"Weather Impact",value:"5% sales variation",impact:"medium"},{key:"Event Impact",value:"20% sales variation",impact:"high"},{key:"Seasonal Pattern",value:"Consistent year-over-year",impact:"high"}],performance:{mape:8.3,rmse:1250,r2Score:.89}},{id:"pm-002",modelType:"customer",name:"Customer Churn Predictor",description:"Identifies customers at risk of churning",accuracy:.82,lastTrained:"2024-01-08",features:["Visit frequency","Spend pattern","Last visit","Order variety","Seasonal behavior"],assumptions:[{key:"Visit Frequency",value:"Primary churn indicator",impact:"high"},{key:"Spend Decline",value:"30% decline indicates risk",impact:"high"},{key:"Seasonal Adjustment",value:"Account for natural fluctuations",impact:"medium"}],performance:{mape:12.1,rmse:.18,r2Score:.84}}],Jb=[{id:"ai-001",type:"ai-generated",title:"Lunch Revenue Opportunity Detected",description:"AI analysis reveals untapped lunch revenue potential",insight:"Divya, your lunch sales are 23% below similar restaurants in your area, despite having optimal location and capacity during lunch hours.",reasoning:["Analyzed 50+ similar restaurants within 2-mile radius","Your lunch capacity utilization is only 34% vs 67% average","Competitor analysis shows successful lunch promotions","Weather data indicates 78% of lunch hours have favorable conditions"],confidence:.89,severity:"opportunity",category:"sales",timestamp:"2024-01-14 09:15:00",dataPoints:[{metric:"Lunch Sales",value:"$2,340/day",trend:"stable"},{metric:"Market Average",value:"$3,045/day",trend:"up"},{metric:"Capacity Utilization",value:"34%",trend:"stable"}],recommendations:[{action:"Launch express lunch menu with 15-minute guarantee",priority:"high",estimatedImpact:"+$705/day revenue",timeframe:"2 weeks"},{action:"Partner with nearby offices for catering deals",priority:"medium",estimatedImpact:"+$450/day revenue",timeframe:"1 month"}],modelUsed:"Revenue Opportunity Detector v2.1",isAutonomous:!0},{id:"ai-002",type:"ai-generated",title:"Staff Scheduling Inefficiency Alert",description:"AI detected suboptimal staffing patterns affecting profitability",insight:"Divya, your Thursday evening shift is overstaffed by 1.3 FTE on average, costing $340/week in unnecessary labor.",reasoning:["Analyzed 12 weeks of Thursday evening data","Customer arrival patterns show 18% lower volume than scheduled for","Service quality metrics remain high with reduced staff","Competitor staffing data suggests industry best practices"],confidence:.94,severity:"warning",category:"labor",timestamp:"2024-01-14 11:30:00",dataPoints:[{metric:"Current Staffing",value:"8.3 FTE",trend:"stable"},{metric:"Optimal Staffing",value:"7.0 FTE",trend:"down"},{metric:"Weekly Overspend",value:"$340",trend:"up"}],recommendations:[{action:"Reduce Thursday evening staff by 1 server",priority:"high",estimatedImpact:"$340/week savings",timeframe:"Next week"},{action:"Implement dynamic scheduling based on reservations",priority:"medium",estimatedImpact:"$150/week additional savings",timeframe:"3 weeks"}],modelUsed:"Labor Optimization Engine v1.8",isAutonomous:!0},{id:"ca-001",type:"configured-alert",title:"High-Value Customer Churn Risk",description:"Configured alert: Customer spending >$2000 hasn't visited in 45+ days",insight:"Sarah Johnson (CLV: $2,850) hasn't visited in 47 days, exceeding your configured 45-day threshold.",reasoning:["Customer meets high-value criteria (CLV >$2000)","Last visit: 47 days ago (exceeds 45-day threshold)","Historical visit frequency: Every 18 days","No recent engagement with marketing campaigns"],confidence:1,severity:"critical",category:"customer",timestamp:"2024-01-14 14:22:00",dataPoints:[{metric:"Customer CLV",value:"$2,850",trend:"stable"},{metric:"Days Since Visit",value:"47 days",trend:"up"},{metric:"Churn Probability",value:"78%",trend:"up"}],recommendations:[{action:"Send personalized comeback offer (20% off favorite meal)",priority:"high",estimatedImpact:"Retain $2,850 CLV",timeframe:"Today"},{action:"Schedule personal call from manager",priority:"medium",estimatedImpact:"Improve relationship",timeframe:"This week"}],alertRule:"High-Value Customer Absence >45 days",isAutonomous:!1},{id:"ca-002",type:"configured-alert",title:"High Comps Alert",description:"Configured alert: Comps exceeded $500 threshold today",insight:"Today's comps reached $847, exceeding your configured $500 alert threshold.",reasoning:["Comp amount: $847 (threshold: $500)","12 comp transactions recorded today","Manager override used 8 times","Average comp value: $70.58"],confidence:1,severity:"critical",category:"financial",timestamp:"2024-01-14 16:45:00",dataPoints:[{metric:"Comps Today",value:"$847",trend:"up"},{metric:"Threshold",value:"$500",trend:"stable"},{metric:"Transactions",value:"12",trend:"up"}],recommendations:[{action:"Review comp transactions and reasons",priority:"high",estimatedImpact:"Identify patterns",timeframe:"Today"},{action:"Update comp policy if needed",priority:"medium",estimatedImpact:"Prevent future overages",timeframe:"This week"}],alertRule:"Daily Comps >$500",isAutonomous:!1}],Ia={forecastAccuracy:.87,modelPerformance:{sales:.89,labor:.94,customer:.82},insightsGenerated:47,actionsTaken:23,costSavings:12450,revenueImpact:8900},Xb=[{id:"gross-sales",title:"Gross Sales",value:"$12,234.56",change:"+12.5%",changeType:"positive",route:"/financial-suite/reports/sales-summary",description:"Total sales before deductions"},{id:"market-position",title:"Market Position",value:"#3 of 12",change:" +2 positions",changeType:"positive",route:"/financial-suite/benchmarking",description:"Your rank among similar restaurants in your area",breakdown:[{label:"Similar Restaurants",value:"12",subtext:"in 2-mile radius"},{label:"Your Ranking",value:"#3",subtext:"up from #5"},{label:"Top Performer",value:"Divya's Bistro",subtext:"4.8 rating"},{label:" Unlock Details",value:"Upgrade ",subtext:"See full analysis"}]},{id:"price-check",title:"Price Check",value:"$18.50",change:"+10% vs local",changeType:"neutral",route:"/financial-suite/benchmarking/pricing",description:"Your average entre vs local market",breakdown:[{label:"Your Average Entre",value:"$18.50"},{label:"Local Average",value:"$16.80",subtext:"within 1 mile"},{label:"Price Premium",value:"+10.1%",subtext:"above market"},{label:" Full Analysis",value:"Upgrade ",subtext:"Menu optimization"}]},{id:"performance-score",title:"Performance Score",value:"78/100",change:"Above Average",changeType:"positive",route:"/financial-suite/benchmarking/performance",description:"Overall performance vs industry benchmarks",breakdown:[{label:"Service Speed",value:"85/100",subtext:"Excellent"},{label:"Customer Satisfaction",value:"82/100",subtext:"Good"},{label:"Operational Efficiency",value:"71/100",subtext:"Average"},{label:" Detailed Breakdown",value:"Upgrade ",subtext:"Improvement areas"}]}];function Ld(){const t=Z(),[s,a]=j.useState(()=>{const S=localStorage.getItem("dashboardWidgets");return S?JSON.parse(S):Xb}),[r,n]=j.useState(!1),[i,o]=j.useState(""),[m,u]=j.useState(()=>{const S=localStorage.getItem("aiInsights");return S?JSON.parse(S):Jb}),[l,c]=j.useState(!0),[d,p]=j.useState(!1),[h,g]=j.useState("");j.useEffect(()=>{localStorage.setItem("dashboardWidgets",JSON.stringify(s))},[s]),j.useEffect(()=>{localStorage.setItem("aiInsights",JSON.stringify(m))},[m]);const y=S=>{t(S.route)},N=()=>{if(!i.trim())return;const S=T(i);a(b=>[...b,S]),n(!1),o("")},f=()=>{if(!h.trim())return;const S=C(h);u(b=>[...b,S]),p(!1),g("")},x=S=>{u(b=>b.filter(k=>k.id!==S))},v=S=>{a(b=>b.filter(k=>k.id!==S))},C=S=>{var _;const b=S.toLowerCase(),k=`insight_${Date.now()}`;if(b.includes("comp")||b.includes("discount")){const R=((_=b.match(/\$?(\d+)/))==null?void 0:_[1])||"500";return{id:k,type:"configured-alert",title:"High Comps Alert",description:`Configured alert: Comps exceeded $${R} threshold`,insight:`Today's comps reached $${parseInt(R)+100}, exceeding your configured $${R} alert threshold.`,reasoning:[`Comp amount: $${parseInt(R)+100} (threshold: $${R})`,"Multiple manager overrides detected","Higher than usual comp frequency"],confidence:1,severity:"critical",category:"financial",timestamp:new Date().toISOString(),dataPoints:[{metric:"Comps Today",value:`$${parseInt(R)+100}`,trend:"up"},{metric:"Threshold",value:`$${R}`,trend:"stable"},{metric:"Transactions",value:"8",trend:"up"}],recommendations:[{action:"Review comp transactions and reasons",priority:"high",estimatedImpact:"Identify patterns",timeframe:"Today"}],alertRule:`Daily Comps >$${R}`,isAutonomous:!1}}return{id:k,type:"configured-alert",title:"Custom Alert",description:S,insight:`Alert triggered: ${S}`,reasoning:["Custom alert rule triggered"],confidence:1,severity:"info",category:"operational",timestamp:new Date().toISOString(),dataPoints:[{metric:"Status",value:"Active",trend:"stable"}],recommendations:[{action:"Investigate alert",priority:"medium",estimatedImpact:"Resolve issue",timeframe:"Today"}],alertRule:"Custom Rule",isAutonomous:!1}},T=S=>{const b=S.toLowerCase(),k=`widget_${Date.now()}`;return b.includes("revenue summary")?{id:k,title:"Revenue Summary",value:"$45,678.90",change:"+8.2%",changeType:"positive",route:"/financial-suite/reports/sales-summary",description:"Total revenue including tips and taxes",breakdown:[{label:"Gross Sales",value:"$38,234.56"},{label:"Tips",value:"$4,123.45"},{label:"Tax Amount",value:"$2,890.34"},{label:"Gratuity",value:"$430.55"}]}:b.includes("tip summary")||b.includes("tips")?{id:k,title:"Tip Summary",value:"$3,456.78",change:"+12.1%",changeType:"positive",route:"/financial-suite/reports/tips-summary",description:"Total tips collected and distributed",breakdown:[{label:"Cash Tips",value:"$1,234.56"},{label:"Card Tips",value:"$2,456.78"},{label:"Tips Refunded",value:"$234.56"},{label:"Tips Withheld",value:"$456.78",subtext:"For withholding enabled"}]}:b.includes("cash summary")||b.includes("cash")?{id:k,title:"Cash Summary",value:"$2,345.67",change:"+5.8%",changeType:"positive",route:"/financial-suite/reports/cash-summary",description:"Cash drawer balance and deposits",breakdown:[{label:"Expected Closeout",value:"$2,500.00"},{label:"Actual Closeout",value:"$2,345.67"},{label:"Overage/Shortage",value:"-$154.33",subtext:"Shortage"},{label:"Expected Deposit",value:"$2,200.00"}]}:b.includes("payments summary")||b.includes("payment")?{id:k,title:"Payments Summary",value:"$42,123.45",change:"+7.3%",changeType:"positive",route:"/financial-suite/reports/payments-summary",description:"Breakdown by payment method",breakdown:[{label:"Credit Cards",value:"$28,456.78",subtext:"67.5%"},{label:"Cash",value:"$8,234.56",subtext:"19.5%"},{label:"Gift Cards",value:"$3,456.78",subtext:"8.2%"},{label:"Other",value:"$1,975.33",subtext:"4.8%"}]}:b.includes("tax summary")||b.includes("tax")?{id:k,title:"Tax Summary",value:"$3,789.12",change:"+6.1%",changeType:"positive",route:"/financial-suite/reports/tax-summary",description:"Tax collected by rate",breakdown:[{label:"Sales Tax (8.5%)",value:"$2,456.78"},{label:"City Tax (2.0%)",value:"$578.90"},{label:"County Tax (1.5%)",value:"$434.22"},{label:"Non-Taxable Sales",value:"$319.22"}]}:b.includes("labor summary")||b.includes("labor")?{id:k,title:"Labor Summary",value:"28.5%",change:"-1.2%",changeType:"positive",route:"/financial-suite/reports/labor-summary",description:"Labor cost as percentage of sales",breakdown:[{label:"Regular Hours",value:"$8,234.56",subtext:"180 hrs"},{label:"Overtime Hours",value:"$1,456.78",subtext:"24 hrs"},{label:"Benefits",value:"$2,345.67"},{label:"Total Labor Cost",value:"$12,036.01"}]}:b.includes("service charge")||b.includes("service")?{id:k,title:"Service Charge Summary",value:"$1,234.56",change:"+4.2%",changeType:"positive",route:"/financial-suite/reports/service-charge-summary",description:"Service charges applied",breakdown:[{label:"Auto Gratuity (18%)",value:"$856.78",subtext:"24 orders"},{label:"Large Party Fee",value:"$234.56",subtext:"8 parties"},{label:"Delivery Fee",value:"$143.22",subtext:"32 deliveries"}]}:b.includes("void summary")||b.includes("void")?{id:k,title:"Void Summary",value:"$234.56",change:"-8.9%",changeType:"positive",route:"/financial-suite/reports/void-summary",description:"Voided orders and items",breakdown:[{label:"Void Amount",value:"$234.56"},{label:"Order Count",value:"12",subtext:"orders"},{label:"Item Count",value:"28",subtext:"items"},{label:"Amount %",value:"0.6%",subtext:"of total sales"}]}:b.includes("sales category")||b.includes("category")?{id:k,title:"Sales Category Summary",value:"$38,456.78",change:"+9.2%",changeType:"positive",route:"/financial-suite/reports/sales-breakdown",description:"Sales by product category",breakdown:[{label:"Food",value:"$28,456.78",subtext:"74.0%"},{label:"Beverages",value:"$6,234.56",subtext:"16.2%"},{label:"Alcohol",value:"$2,765.44",subtext:"7.2%"},{label:"Desserts",value:"$1,000.00",subtext:"2.6%"}]}:b.includes("service mode")||b.includes("dining option")?{id:k,title:"Service Mode Summary",value:"$38,901.23",change:"+9.1%",changeType:"positive",route:"/financial-suite/reports/service-mode-summary",description:"Sales by service type",breakdown:[{label:"Dine In",value:"$22,456.78",subtext:"57.7%"},{label:"Takeout",value:"$8,234.56",subtext:"21.2%"},{label:"Delivery",value:"$5,678.90",subtext:"14.6%"},{label:"Curbside",value:"$2,530.99",subtext:"6.5%"}]}:b.includes("cash activity")?{id:k,title:"Cash Activity Summary",value:"$8,456.78",change:"+3.4%",changeType:"positive",route:"/financial-suite/reports/cash-activity",description:"Cash flow and adjustments",breakdown:[{label:"Cash Payments",value:"$8,234.56"},{label:"Cash Adjustments",value:"-$234.56"},{label:"Cash Refunds",value:"-$123.45"},{label:"Tips Paid Out",value:"-$1,456.78"}]}:b.includes("unpaid orders")?{id:k,title:"Unpaid Orders Summary",value:"$1,234.56",change:"-15.2%",changeType:"positive",route:"/financial-suite/reports/unpaid-orders",description:"Outstanding unpaid amounts",breakdown:[{label:"Unpaid Amount",value:"$1,456.78"},{label:"Overpaid Amount",value:"-$222.22",subtext:"Shows as negative"},{label:"Net Unpaid",value:"$1,234.56"},{label:"Order Count",value:"8",subtext:"orders"}]}:b.includes("deferred summary")||b.includes("deferred")?{id:k,title:"Deferred Summary",value:"$2,456.78",change:"+18.5%",changeType:"positive",route:"/financial-suite/reports/deferred-summary",description:"Gift cards and deferred payments",breakdown:[{label:"Gross Amount",value:"$2,678.90"},{label:"Discounts",value:"-$123.45"},{label:"Refunds",value:"-$98.67"},{label:"Net Amount",value:"$2,456.78"}]}:b.includes("market position")||b.includes("benchmark")||b.includes("competitor")?{id:k,title:"Market Position",value:"#3 of 12",change:" +2 positions",changeType:"positive",route:"/financial-suite/benchmarking",description:"Your rank among similar restaurants in your area",breakdown:[{label:"Similar Restaurants",value:"12",subtext:"in 2-mile radius"},{label:"Your Ranking",value:"#3",subtext:"up from #5"},{label:"Top Performer",value:"Divya's Bistro",subtext:"4.8 rating"},{label:" Unlock Details",value:"Upgrade ",subtext:"See full analysis"}]}:b.includes("price check")||b.includes("pricing")||b.includes("menu price")?{id:k,title:"Price Check",value:"$18.50",change:"+10% vs local",changeType:"neutral",route:"/financial-suite/benchmarking/pricing",description:"Your average entre vs local market",breakdown:[{label:"Your Average Entre",value:"$18.50"},{label:"Local Average",value:"$16.80",subtext:"within 1 mile"},{label:"Price Premium",value:"+10.1%",subtext:"above market"},{label:" Full Analysis",value:"Upgrade ",subtext:"Menu optimization"}]}:b.includes("performance score")||b.includes("performance benchmark")?{id:k,title:"Performance Score",value:"78/100",change:"Above Average",changeType:"positive",route:"/financial-suite/benchmarking/performance",description:"Overall performance vs industry benchmarks",breakdown:[{label:"Service Speed",value:"85/100",subtext:"Excellent"},{label:"Customer Satisfaction",value:"82/100",subtext:"Good"},{label:"Operational Efficiency",value:"71/100",subtext:"Average"},{label:" Detailed Breakdown",value:"Upgrade ",subtext:"Improvement areas"}]}:{id:k,title:"Custom Metric",value:"$1,234.56",change:"+5.0%",changeType:"positive",route:"/financial-suite/reports/custom",description:S}},P=()=>{t("/financial-suite/custom-reports/create")},w=()=>{t("/financial-suite/reports")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Suite"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive analytics and custom reporting for your business"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Last 30 days"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Filters"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Export"})]})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:P,className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Create Custom Report"}),e.jsx("button",{onClick:w,className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" View All Reports"}),e.jsx("button",{onClick:()=>t("/financial-suite/scheduled-exports"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Scheduled Exports"}),e.jsx("button",{onClick:()=>t("/financial-suite/external-data"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" External Data"}),e.jsx("button",{onClick:()=>t("/financial-suite/integration-settings"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Integration Settings"}),e.jsxs("button",{onClick:()=>t("/financial-suite/ingredient-tracking"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-orange-300 bg-gradient-to-r from-orange-50 to-yellow-50 text-orange-600 hover:from-orange-100 hover:to-yellow-100 rounded-md font-medium transition-colors shadow-sm",children:[" ",e.jsx(mn,{className:"w-4 h-4 mx-1"})," Ingredient Tracking"]}),e.jsxs("button",{onClick:()=>t("/financial-suite/forecasting"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-indigo-300 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-600 hover:from-indigo-100 hover:to-purple-100 rounded-md font-medium transition-colors shadow-sm",children:[" ",e.jsx(oe,{className:"w-4 h-4 mx-1"})," Forecasting"]}),e.jsxs("button",{onClick:()=>t("/financial-suite/procurement"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-green-300 bg-gradient-to-r from-green-50 to-emerald-50 text-green-600 hover:from-green-100 hover:to-emerald-100 rounded-md font-medium transition-colors shadow-sm",children:[e.jsx(tc,{className:"w-4 h-4 mr-1"})," Procurement"]}),e.jsxs("button",{onClick:()=>t("/financial-suite/bill-pay"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-blue-300 bg-gradient-to-r from-blue-50 to-cyan-50 text-blue-600 hover:from-blue-100 hover:to-cyan-100 rounded-md font-medium transition-colors shadow-sm",children:[e.jsx(mi,{className:"w-4 h-4 mr-1"})," Bill Pay & AP"]}),e.jsxs("button",{onClick:()=>t("/financial-suite/profitability-analytics"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-emerald-300 bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-600 hover:from-emerald-100 hover:to-green-100 rounded-md font-medium transition-colors shadow-sm",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"})," Profitability Analytics"]}),e.jsxs("button",{onClick:()=>t("/financial-suite/cash-flow-intelligence"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-teal-300 bg-gradient-to-r from-teal-50 to-cyan-50 text-teal-600 hover:from-teal-100 hover:to-cyan-100 rounded-md font-medium transition-colors shadow-sm",children:[e.jsx(pt,{className:"w-4 h-4 mr-1"})," Cash Flow Intelligence"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" AI Action Center"}),e.jsxs("span",{className:"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[m.filter(S=>S.type==="ai-generated").length," AI Insights"]}),e.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[m.filter(S=>S.type==="configured-alert").length," Alerts"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>t("/financial-suite/advanced-analytics"),className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-purple-300 bg-gradient-to-r from-purple-50 to-indigo-50 text-purple-600 hover:from-purple-100 hover:to-indigo-100 rounded-md font-medium transition-colors",children:[e.jsx(dn,{className:"w-4 h-4 mr-1"})," Advanced Analytics"]}),e.jsx("button",{onClick:()=>p(!0),className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Add Alert"}),e.jsx("button",{onClick:()=>c(!l),className:"text-sm text-gray-500 hover:text-gray-700",children:l?"Collapse":"Expand"})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.filter(S=>S.type==="ai-generated").map(S=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(_e,{className:"w-4 h-4 text-purple-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:S.title}),e.jsx("span",{className:"ml-2 text-xs font-medium text-purple-600 bg-purple-100 px-2 py-0.5 rounded-full",children:"AI"})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:S.insight})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(S.confidence*100).toFixed(0),"%"]}),e.jsx("button",{onClick:b=>{b.stopPropagation(),x(S.id)},className:"text-gray-400 hover:text-red-600 transition-colors p-1",title:"Remove insight",children:""})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:S.dataPoints.map((b,k)=>e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:b.metric}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:b.value})]},k))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:S.timestamp}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-xs bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors font-medium",children:"Launch Express Menu"}),e.jsx("button",{className:"px-3 py-1.5 text-xs border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"View Analysis"})]})]})]},S.id)),m.filter(S=>S.type==="configured-alert").map(S=>{const b=_=>{switch(_){case"critical":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";default:return"border-blue-200 bg-blue-50"}},k=_=>{switch(_){case"critical":return"";case"warning":return"";default:return""}};return e.jsxs("div",{className:`rounded-lg border p-5 hover:shadow-md transition-shadow ${b(S.severity)}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("span",{className:"text-xl",children:k(S.severity)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:S.title}),e.jsx("span",{className:"ml-2 text-xs font-medium text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"Alert"})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:S.insight})]})]}),e.jsx("button",{onClick:_=>{_.stopPropagation(),x(S.id)},className:"text-gray-400 hover:text-red-600 transition-colors p-1 flex-shrink-0",title:"Remove alert",children:""})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:S.dataPoints.map((_,R)=>e.jsxs("div",{className:"text-center p-2 bg-white bg-opacity-70 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:_.metric}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.value})]},R))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:S.timestamp}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium",children:S.id==="ca-001"?"Send Offer":S.id==="ca-002"?"Review Portions":"Take Action"})})]})]},S.id)})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Key Metrics"}),e.jsx("button",{onClick:()=>n(!0),className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Add Widget"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(S=>e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-6 cursor-pointer hover:shadow-md transition-shadow ${S.breakdown?"row-span-2":""}`,onClick:()=>y(S),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:""}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm font-medium ${S.changeType==="positive"?"text-green-600":S.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:S.change}),e.jsx("button",{onClick:b=>{b.stopPropagation(),v(S.id)},className:"text-gray-400 hover:text-red-600 transition-colors p-1",title:"Remove widget",children:""})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:S.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.value})]}),S.breakdown&&e.jsx("div",{className:"border-t pt-4",children:e.jsx("div",{className:"space-y-2",children:S.breakdown.map((b,k)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-gray-700",children:b.label}),b.subtext&&e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",b.subtext,")"]})]}),e.jsx("span",{className:`font-medium ${b.value.startsWith("-")?"text-red-600":"text-gray-900"}`,children:b.value})]},k))})})]},S.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Reports"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"View All"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Sales Summary"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Last run: 2 hours ago"})]}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"View"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Items Performance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Last run: 1 day ago"})]}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"View"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Customer Analysis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Last run: 3 days ago"})]}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"View"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Custom Reports"}),e.jsx("button",{onClick:P,className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"Create New"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Divya C's Weekly Performance Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Created: 1 week ago"})]}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Divya C's Product Category Analysis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Created: 2 weeks ago"})]}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Start building custom reports tailored to your business needs"}),e.jsx("button",{onClick:P,className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Create Your First Custom Report"})]})]})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Dashboard Widget"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe the widget you want to add"}),e.jsx("textarea",{value:i,onChange:S=>o(S.target.value),placeholder:"e.g., tip summary, labor cost, cash summary...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Or choose from common widgets:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:["Revenue Summary","Tip Summary","Labor Summary","Cash Summary","Market Position","Price Check","Performance Score","Payments Summary","Tax Summary"].map(S=>e.jsx("button",{onClick:()=>o(S.toLowerCase()),className:"text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:S},S))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:N,disabled:!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Widget"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" Add Action Alert"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe the alert you want to monitor"}),e.jsx("textarea",{value:h,onChange:S=>g(S.target.value),placeholder:"e.g., alert me when comps exceed $500, notify when labor cost goes above 30%...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Or choose from common alerts:"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto",children:["High Comps Alert ($1000+)","Labor Cost Spike (30%+)","Sales Drop Alert (20%+)","Void Activity Spike","Cash Drawer Variance ($50+)","Service Time Alert (15+ min)","Inventory Low Stock","Payment Failures Spike"].map(S=>e.jsx("button",{onClick:()=>g(S.toLowerCase()),className:"text-left px-3 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700 rounded-lg border border-gray-200 hover:border-red-300 transition-colors",children:S},S))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:f,disabled:!h.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Alert"})]})]})]})})]})}const Fd=[{id:"1",name:"Weekly Performance Dashboard",description:"Comprehensive weekly sales and performance metrics",type:"dashboard",status:"active",createdBy:"John Doe",createdAt:"2025-01-15",lastModified:"2025-01-20",lastRun:"2 hours ago",metrics:["Gross Sales","Net Sales","Transaction Count","Average Order Value"],filters:3,isShared:!0},{id:"2",name:"Product Category Analysis",description:"Deep dive into product category performance",type:"table",status:"active",createdBy:"Jane Smith",createdAt:"2025-01-10",lastModified:"2025-01-18",lastRun:"1 day ago",metrics:["Sales by Category","Units Sold","Profit Margin"],filters:5,isShared:!1},{id:"3",name:"Customer Behavior Trends",description:"Analysis of customer purchasing patterns",type:"chart",status:"draft",createdBy:"Mike Johnson",createdAt:"2025-01-22",lastModified:"2025-01-25",metrics:["Customer Frequency","Repeat Purchase Rate","Customer Lifetime Value"],filters:2,isShared:!1},{id:"4",name:"Monthly Revenue Breakdown",description:"Detailed monthly revenue analysis with comparisons",type:"dashboard",status:"active",createdBy:"Sarah Wilson",createdAt:"2025-01-05",lastModified:"2025-01-23",lastRun:"3 hours ago",metrics:["Monthly Revenue","YoY Growth","Revenue by Channel"],filters:4,isShared:!0},{id:"5",name:"Labor Cost Optimization",description:"Track labor costs, productivity metrics, and scheduling efficiency",type:"dashboard",status:"active",createdBy:"David Park",createdAt:"2025-01-12",lastModified:"2025-01-24",lastRun:"5 hours ago",metrics:["Labor Cost %","Hours Worked","Productivity Score","Overtime Hours"],filters:6,isShared:!1},{id:"6",name:"Competitive Pricing Analysis",description:"Compare menu prices against local competitors",type:"table",status:"active",createdBy:"Alex Thompson",createdAt:"2025-01-08",lastModified:"2025-01-22",lastRun:"1 day ago",metrics:["Price Premium","Market Position","Competitor Gap","Revenue Impact"],filters:8,isShared:!0},{id:"7",name:"Inventory Turnover Report",description:"Monitor inventory levels, waste, and reorder points",type:"chart",status:"active",createdBy:"Lisa Chang",createdAt:"2025-01-14",lastModified:"2025-01-21",lastRun:"6 hours ago",metrics:["Inventory Turnover","Waste %","Stock Levels","Reorder Alerts"],filters:4,isShared:!1},{id:"8",name:"Peak Hours Analysis",description:"Identify busy periods and optimize staffing",type:"chart",status:"draft",createdBy:"Carlos Martinez",createdAt:"2025-01-19",lastModified:"2025-01-25",metrics:["Hourly Sales","Customer Count","Wait Times","Staff Efficiency"],filters:3,isShared:!1},{id:"9",name:"Delivery Performance Metrics",description:"Track delivery times, driver performance, and customer satisfaction",type:"dashboard",status:"active",createdBy:"Emma Rodriguez",createdAt:"2025-01-11",lastModified:"2025-01-20",lastRun:"4 hours ago",metrics:["Delivery Time","Driver Rating","Order Accuracy","Customer Feedback"],filters:5,isShared:!0},{id:"10",name:"Seasonal Menu Performance",description:"Analyze seasonal item popularity and profitability",type:"table",status:"active",createdBy:"Robert Kim",createdAt:"2025-01-06",lastModified:"2025-01-19",lastRun:"2 days ago",metrics:["Seasonal Sales","Item Popularity","Profit Margin","Customer Preference"],filters:7,isShared:!1},{id:"11",name:"Payment Method Analysis",description:"Track payment preferences and processing costs",type:"chart",status:"active",createdBy:"Michelle Wu",createdAt:"2025-01-13",lastModified:"2025-01-24",lastRun:"8 hours ago",metrics:["Payment Distribution","Processing Fees","Transaction Speed","Failed Payments"],filters:3,isShared:!1},{id:"12",name:"Customer Loyalty Insights",description:"Deep dive into loyalty program effectiveness and customer retention",type:"dashboard",status:"draft",createdBy:"James Wilson",createdAt:"2025-01-17",lastModified:"2025-01-25",metrics:["Loyalty Enrollment","Reward Redemption","Repeat Visits","Program ROI"],filters:4,isShared:!1}];function zd(){const t=Z(),[s,a]=j.useState(""),[r,n]=j.useState("all"),[i,o]=j.useState(!1),[m,u]=j.useState(null),[l,c]=j.useState({title:"",description:"",category:"sales",tags:"",isPublic:!0}),[d,p]=j.useState(()=>{const P=localStorage.getItem("customSavedReports"),S=(P?JSON.parse(P):[]).map(b=>{var k;return{id:b.id,name:b.name,description:b.description,type:"dashboard",status:"active",createdBy:"You",createdAt:new Date(b.createdAt).toLocaleDateString(),lastModified:new Date(b.updatedAt).toLocaleDateString(),lastRun:void 0,metrics:b.metrics||[],filters:((k=b.filters)==null?void 0:k.length)||0,isShared:!1}});return[...Fd,...S]});ea.useEffect(()=>{const P=localStorage.getItem("customSavedReports"),S=(P?JSON.parse(P):[]).map(b=>{var k;return{id:b.id,name:b.name,description:b.description,type:"dashboard",status:"active",createdBy:"You",createdAt:new Date(b.createdAt).toLocaleDateString(),lastModified:new Date(b.updatedAt).toLocaleDateString(),lastRun:void 0,metrics:b.metrics||[],filters:((k=b.filters)==null?void 0:k.length)||0,isShared:!1}});p([...Fd,...S])},[]);const h=()=>{t("/financial-suite/custom-reports/create")},g=P=>{t(`/financial-suite/custom-reports/edit/${P}`)},y=P=>{console.log("handleViewReport called with:",P);const w=`/financial-suite/custom-reports/view/${P}`;console.log("Navigating to:",w),window.location.href=w},N=P=>{const w=d.filter(k=>k.id!==P);p(w);const b=JSON.parse(localStorage.getItem("customSavedReports")||"[]").filter(k=>k.id!==P);localStorage.setItem("customSavedReports",JSON.stringify(b))},f=P=>{u(P),c({title:P.name,description:P.description,category:"sales",tags:P.metrics.join(", "),isPublic:!0}),o(!0)},x=()=>{if(!m)return;const P={id:`template_${Date.now()}`,reportId:m.id,title:l.title,description:l.description,category:l.category,tags:l.tags.split(",").map(k=>k.trim()).filter(Boolean),isPublic:l.isPublic,author:m.createdBy,createdAt:new Date().toISOString(),usageCount:0,rating:0,reportConfig:m,preview:{metrics:m.metrics,type:m.type,filters:m.filters}},S=[...JSON.parse(localStorage.getItem("reportTemplates")||"[]"),P];localStorage.setItem("reportTemplates",JSON.stringify(S));const b=d.map(k=>k.id===m.id?{...k,isShared:!0}:k);p(b),o(!1),u(null),c({title:"",description:"",category:"sales",tags:"",isPublic:!0}),alert("Template published successfully! Other users can now discover and use your report template.")},v=d.filter(P=>{const w=P.name.toLowerCase().includes(s.toLowerCase())||P.description.toLowerCase().includes(s.toLowerCase()),S=r==="all"||P.status===r;return w&&S}),C=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=P=>{switch(P){case"dashboard":return de;case"table":return kr;case"chart":return de;default:return de}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Custom Reports"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage your custom analytics reports"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t("/financial-suite/templates"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Browse Templates"}),e.jsxs("button",{onClick:h,className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Create Report"]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reports...",value:s,onChange:P=>a(P.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:r,onChange:P=>n(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[v.length," of ",d.length," reports"]})]})})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Modified"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Run"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(P=>{const w=T(P.type);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(w,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>y(P.id),className:"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors text-left",children:P.name}),P.isShared&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 border border-gray-300 rounded-full",children:"Shared"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[P.metrics.length," metrics"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[P.filters," filters"]})]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 border border-gray-300 rounded-full capitalize",children:P.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full capitalize ${C(P.status)}`,children:P.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:P.createdBy})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:P.lastModified})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:P.lastRun||"Never"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>y(P.id),className:"inline-flex items-center justify-center px-3 py-1 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md transition-colors",children:e.jsx(Bt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>g(P.id),className:"inline-flex items-center justify-center px-3 py-1 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md transition-colors",children:e.jsx(rv,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>f(P),className:"inline-flex items-center justify-center px-3 py-1 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md transition-colors",children:e.jsx(Ap,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(P.id),className:"inline-flex items-center justify-center px-3 py-1 text-sm border border-gray-300 bg-white text-red-600 hover:bg-red-50 rounded-md transition-colors",children:e.jsx(oa,{className:"h-4 w-4"})})]})})]},P.id)})})]})}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reports found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:s||r!=="all"?"Try adjusting your search or filter criteria":"Get started by creating your first custom report"}),!s&&r==="all"&&e.jsxs("button",{onClick:h,className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Create Your First Report"]})]})]})}),i&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:" Share as Template"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Report Preview"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(de,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:m.name}),e.jsx("div",{className:"text-sm text-gray-600",children:m.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[m.metrics.length," metrics"]}),e.jsxs("span",{children:[m.filters," filters"]}),e.jsxs("span",{className:"capitalize",children:[m.type," type"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Title *"}),e.jsx("input",{type:"text",value:l.title,onChange:P=>c(w=>({...w,title:P.target.value})),placeholder:"e.g., Weekly Sales Performance Dashboard",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:l.description,onChange:P=>c(w=>({...w,description:P.target.value})),placeholder:"Describe what this template does and when to use it...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:l.category,onChange:P=>c(w=>({...w,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"sales",children:"Sales & Revenue"}),e.jsx("option",{value:"operations",children:"Operations"}),e.jsx("option",{value:"labor",children:"Labor & Staffing"}),e.jsx("option",{value:"inventory",children:"Inventory"}),e.jsx("option",{value:"customer",children:"Customer Analytics"}),e.jsx("option",{value:"financial",children:"Financial Analysis"}),e.jsx("option",{value:"benchmarking",children:"Benchmarking"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:l.tags,onChange:P=>c(w=>({...w,tags:P.target.value})),placeholder:"sales, weekly, performance",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"isPublic",checked:l.isPublic,onChange:P=>c(w=>({...w,isPublic:P.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isPublic",className:"text-sm text-gray-700",children:"Make this template public (visible to all users)"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:" Community Guidelines"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Provide clear, descriptive titles and descriptions"}),e.jsx("li",{children:" Use relevant tags to help others discover your template"}),e.jsx("li",{children:" Ensure your template works with common data scenarios"}),e.jsx("li",{children:" Consider adding usage instructions in the description"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"By sharing, you're contributing to the community! "}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:!l.title.trim()||!l.description.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Publish Template"})]})]})]})]})})]})}const Vn=[{id:"orders",name:"Orders",description:"Analyze order patterns, sales performance, and transaction data",icon:"",color:"blue",canJoinWith:["items","customers","payments","employees"],metrics:[{id:"sales_metrics",name:"Sales Metrics",description:"Revenue and sales performance indicators",metrics:[{id:"gross_sales",name:"Gross Sales",description:"Total sales before deductions",type:"currency"},{id:"net_sales",name:"Net Sales",description:"Sales after discounts and returns",type:"currency"},{id:"refunds",name:"Refunds",description:"Total refund amount",type:"currency"},{id:"service_charges",name:"Service Charges",description:"Custom and card surcharges",type:"currency"},{id:"tax",name:"Tax",description:"Tax collected",type:"currency"},{id:"tip",name:"Tips",description:"Tips received",type:"currency"}]},{id:"volume_metrics",name:"Volume Metrics",description:"Transaction counts and customer metrics",metrics:[{id:"transaction_count",name:"Transaction Count",description:"Number of transactions",type:"count"},{id:"average_cover_count",name:"Average Cover Count",description:"Average covers per order",type:"number"},{id:"covers",name:"Covers",description:"Total covers served",type:"count"},{id:"customer_frequency",name:"Customer Frequency",description:"Customer visit frequency",type:"percentage"}]},{id:"discount_metrics",name:"Discount Metrics",description:"Discount and promotional impact",metrics:[{id:"discount_amount",name:"Discount Amount",description:"Total discounts applied",type:"currency"},{id:"returns",name:"Returns",description:"Returned items value",type:"currency"}]}],dimensions:[{id:"order_info",name:"Order Information",description:"Basic order identifiers and details",dimensions:[{id:"order_name",name:"Order Name",description:"Order identifier",type:"string"},{id:"order_id",name:"Order ID",description:"Unique order ID",type:"string"},{id:"order_created",name:"Order Created",description:"When order was created",type:"date"},{id:"order_completed",name:"Order Completed",description:"When order was fulfilled",type:"date"}]},{id:"location_context",name:"Location & Channel",description:"Where and how the order was placed",dimensions:[{id:"location",name:"Location",description:"Business location",type:"category"},{id:"section",name:"Section",description:"Restaurant section",type:"category"},{id:"channel",name:"Channel",description:"Order channel",type:"category"},{id:"device",name:"Device",description:"POS device used",type:"string"}]},{id:"people",name:"People",description:"Customer and employee information",dimensions:[{id:"customer",name:"Customer",description:"Customer name",type:"string"},{id:"customer_type",name:"Customer Type",description:"New, Returning, Loyalty",type:"category"},{id:"employee",name:"Employee",description:"Staff member",type:"string"},{id:"customer_visit_frequency",name:"Visit Frequency",description:"How often customer visits",type:"category"}]}]},{id:"items",name:"Items",description:"Analyze product performance, sales by item, and inventory insights",icon:"",color:"green",canJoinWith:["orders","customers","employees","discounts","modifiers"],metrics:[{id:"item_sales",name:"Item Sales",description:"Revenue from item sales",metrics:[{id:"item_sales",name:"Item Sales",description:"Gross item revenue",type:"currency"},{id:"net_item_sales",name:"Net Item Sales",description:"Item revenue after discounts",type:"currency"},{id:"tax",name:"Tax",description:"Tax on items",type:"currency"},{id:"variation_unit_cost",name:"Unit Cost",description:"Cost per item variation",type:"currency"}]},{id:"item_volume",name:"Item Volume",description:"Quantity and unit metrics",metrics:[{id:"items_sold",name:"Items Sold",description:"Number of items sold",type:"count"},{id:"units_sold",name:"Units Sold",description:"Total units sold",type:"count"},{id:"items_refunded",name:"Items Refunded",description:"Number of items refunded",type:"count"},{id:"units_refunded",name:"Units Refunded",description:"Total units refunded",type:"count"}]},{id:"item_adjustments",name:"Adjustments",description:"Discounts, comps, and voids",metrics:[{id:"discount_amount",name:"Discount Amount",description:"Discounts on items",type:"currency"},{id:"comps",name:"Comps",description:"Complimentary items",type:"currency"},{id:"void",name:"Voids",description:"Voided items",type:"currency"},{id:"returns",name:"Returns",description:"Returned items",type:"currency"}]}],dimensions:[{id:"product_info",name:"Product Information",description:"Item details and categorization",dimensions:[{id:"item_name",name:"Item Name",description:"Product name",type:"string"},{id:"category",name:"Category",description:"Product category",type:"category"},{id:"category_rollup",name:"Category Rollup",description:"Parent category",type:"category"},{id:"item_type",name:"Item Type",description:"Type of item",type:"category"},{id:"item_variation",name:"Item Variation",description:"Size, flavor, etc.",type:"string"},{id:"sku",name:"SKU",description:"Stock keeping unit",type:"string"}]},{id:"supply_chain",name:"Supply Chain",description:"Vendor and sourcing information",dimensions:[{id:"vendor_name",name:"Vendor Name",description:"Item supplier",type:"string"},{id:"vendor_code",name:"Vendor Code",description:"Supplier code",type:"string"},{id:"menu",name:"Menu",description:"Menu section",type:"category"}]}]},{id:"customers",name:"Customers",description:"Analyze customer behavior, spending patterns, and loyalty metrics",icon:"",color:"purple",canJoinWith:["orders","items","payments"],metrics:[{id:"visit_metrics",name:"Visit Metrics",description:"Customer visit patterns",metrics:[{id:"new_visit_count",name:"New Visits",description:"First-time customer visits",type:"count"},{id:"repeat_visit_count",name:"Repeat Visits",description:"Returning customer visits",type:"count"},{id:"loyalty_visit_count",name:"Loyalty Visits",description:"Loyalty member visits",type:"count"},{id:"visit_frequency_percent",name:"Visit Frequency %",description:"Visit frequency rate",type:"percentage"}]},{id:"spend_metrics",name:"Spending Metrics",description:"Customer spending behavior",metrics:[{id:"amount_spend",name:"Total Spend",description:"Total customer spending",type:"currency"},{id:"average_spend",name:"Average Spend",description:"Average spend per visit",type:"currency"},{id:"spend_distribution_count",name:"Spend Distribution",description:"Spend distribution count",type:"count"}]}],dimensions:[{id:"customer_profile",name:"Customer Profile",description:"Customer identification and segmentation",dimensions:[{id:"customer",name:"Customer",description:"Customer name",type:"string"},{id:"customer_type",name:"Customer Type",description:"New vs Returning vs Loyalty",type:"category"},{id:"spend_distribution",name:"Spend Distribution",description:"Spending tier",type:"category"},{id:"visit_frequency",name:"Visit Frequency",description:"How often they visit",type:"category"},{id:"loyalty_visit",name:"Loyalty Status",description:"Loyalty vs non-loyalty",type:"category"}]}]},{id:"payments",name:"Payments",description:"Analyze payment methods, transaction fees, and processing costs",icon:"",color:"indigo",canJoinWith:["orders","customers"],metrics:[{id:"payment_volume",name:"Payment Volume",description:"Payment transaction metrics",metrics:[{id:"total_collected",name:"Total Collected",description:"Total payment amount",type:"currency"},{id:"payment_amount",name:"Payment Amount",description:"Individual payment amounts",type:"currency"},{id:"no_of_payments",name:"Number of Payments",description:"Payment transaction count",type:"count"},{id:"no_of_refunds",name:"Number of Refunds",description:"Refund transaction count",type:"count"},{id:"refund_amount",name:"Refund Amount",description:"Total refunds processed",type:"currency"}]},{id:"fees_costs",name:"Fees & Costs",description:"Processing fees and costs",metrics:[{id:"fees",name:"Processing Fees",description:"Payment processing fees",type:"currency"},{id:"initial_fee",name:"Initial Fee",description:"Base processing fee",type:"currency"},{id:"cost_of_acceptance",name:"Cost of Acceptance",description:"Total acceptance cost",type:"currency"},{id:"total_fees_incl_taxes",name:"Total Fees (incl. taxes)",description:"All fees including taxes",type:"currency"}]},{id:"tips",name:"Tips",description:"Tip processing and collection",metrics:[{id:"tips",name:"Tips",description:"Tips processed",type:"currency"}]}],dimensions:[{id:"payment_method",name:"Payment Methods",description:"How customers paid",dimensions:[{id:"payment_method",name:"Payment Method",description:"Credit, Debit, Cash, etc.",type:"category"},{id:"card_brand",name:"Card Brand",description:"Visa, Mastercard, etc.",type:"category"},{id:"card_entry_method",name:"Entry Method",description:"Chip, Swipe, Tap, etc.",type:"category"}]},{id:"transaction_details",name:"Transaction Details",description:"Transaction processing information",dimensions:[{id:"transaction_id",name:"Transaction ID",description:"Unique transaction identifier",type:"string"},{id:"payment_status",name:"Payment Status",description:"Success, Failed, Pending",type:"category"},{id:"transaction_timestamp",name:"Transaction Time",description:"When payment was processed",type:"date"}]}]},{id:"employees",name:"Employees",description:"Analyze staff performance, sales by employee, and productivity metrics",icon:"",color:"orange",canJoinWith:["orders","items","customers"],metrics:[{id:"employee_sales",name:"Employee Sales",description:"Sales performance by staff",metrics:[{id:"gross_sales",name:"Gross Sales",description:"Total sales by employee",type:"currency"},{id:"net_sales",name:"Net Sales",description:"Net sales by employee",type:"currency"},{id:"average_transaction",name:"Average Transaction",description:"Average transaction size",type:"currency"},{id:"tips_collected",name:"Tips Collected",description:"Tips received by employee",type:"currency"}]},{id:"productivity",name:"Productivity",description:"Employee productivity metrics",metrics:[{id:"transaction_count",name:"Transaction Count",description:"Number of transactions handled",type:"count"},{id:"items_sold",name:"Items Sold",description:"Items sold by employee",type:"count"},{id:"hours_worked",name:"Hours Worked",description:"Hours on shift",type:"number"},{id:"sales_per_hour",name:"Sales per Hour",description:"Hourly sales rate",type:"currency"}]}],dimensions:[{id:"employee_info",name:"Employee Information",description:"Staff identification and details",dimensions:[{id:"employee_name",name:"Employee Name",description:"Staff member name",type:"string"},{id:"employee_id",name:"Employee ID",description:"Staff ID number",type:"string"},{id:"section",name:"Section",description:"Work section/area",type:"category"},{id:"shift_date",name:"Shift Date",description:"Date of work shift",type:"date"}]}]},{id:"discounts",name:"Discounts",description:"Analyze discount usage, promotional impact, and savings offered",icon:"",color:"red",canJoinWith:["orders","items","customers"],metrics:[{id:"discount_impact",name:"Discount Impact",description:"Financial impact of discounts",metrics:[{id:"amount_discounted",name:"Amount Discounted",description:"Total discount value",type:"currency"},{id:"gift_card_amount_discounted",name:"Gift Card Discounts",description:"Gift card discount value",type:"currency"}]},{id:"discount_usage",name:"Discount Usage",description:"How often discounts are used",metrics:[{id:"discounts_applied",name:"Discounts Applied",description:"Number of discount applications",type:"count"},{id:"orders_discounted",name:"Orders Discounted",description:"Orders with discounts",type:"count"},{id:"items_discounted",name:"Items Discounted",description:"Items with discounts",type:"count"},{id:"gift_card_discounts_applied",name:"Gift Card Applications",description:"Gift card discount uses",type:"count"}]}],dimensions:[{id:"discount_details",name:"Discount Details",description:"Discount types and information",dimensions:[{id:"discount_name",name:"Discount Name",description:"Name of the discount",type:"string"},{id:"category",name:"Category",description:"Discount category",type:"category"},{id:"item_name",name:"Item Name",description:"Item the discount was applied to",type:"string"}]}]},{id:"modifiers",name:"Modifiers",description:"Analyze add-ons, customizations, and modifier performance",icon:"",color:"yellow",canJoinWith:["items","orders"],metrics:[{id:"modifier_sales",name:"Modifier Sales",description:"Revenue from modifiers",metrics:[{id:"modifier_gross_sales",name:"Modifier Gross Sales",description:"Total modifier revenue",type:"currency"},{id:"modifier_net_sales",name:"Modifier Net Sales",description:"Net modifier revenue",type:"currency"},{id:"modifier_price",name:"Modifier Price",description:"Individual modifier prices",type:"currency"},{id:"modifier_refunds",name:"Modifier Refunds",description:"Refunded modifier value",type:"currency"}]},{id:"modifier_volume",name:"Modifier Volume",description:"Modifier quantity metrics",metrics:[{id:"modifier_qty_sold",name:"Modifier Qty Sold",description:"Number of modifiers sold",type:"count"},{id:"modifier_qty_refunded",name:"Modifier Qty Refunded",description:"Number of modifiers refunded",type:"count"}]}],dimensions:[{id:"modifier_details",name:"Modifier Details",description:"Modifier types and organization",dimensions:[{id:"modifier_name",name:"Modifier Name",description:"Name of the modifier",type:"string"},{id:"modifier_set",name:"Modifier Set",description:"Group of related modifiers",type:"category"},{id:"item_name",name:"Item Name",description:"Item the modifier was added to",type:"string"}]}]}],ej=[{text:"Show me top selling items",grain:"items",metrics:["item_sales","items_sold"],groupBy:"item_name",description:"Analyze which items generate the most revenue"},{text:"Compare payment methods",grain:"payments",metrics:["total_collected","no_of_payments"],groupBy:"payment_method",description:"See how customers prefer to pay"},{text:"Employee performance analysis",grain:"employees",metrics:["gross_sales","transaction_count","sales_per_hour"],groupBy:"employee_name",description:"Track staff sales performance"},{text:"Customer spending by type",grain:"customers",metrics:["amount_spend","average_spend","visit_frequency_percent"],groupBy:"customer_type",description:"Understand different customer segments"},{text:"Sales by restaurant section",grain:"orders",metrics:["gross_sales","transaction_count"],groupBy:"section",description:"Compare performance across dining areas"},{text:"Discount impact analysis",grain:"discounts",metrics:["amount_discounted","discounts_applied","orders_discounted"],groupBy:"discount_name",description:"Measure promotional effectiveness"},{text:"Popular modifiers and add-ons",grain:"modifiers",metrics:["modifier_qty_sold","modifier_gross_sales"],groupBy:"modifier_name",description:"See which customizations customers love"},{text:"Category performance breakdown",grain:"items",metrics:["item_sales","items_sold"],groupBy:"category",description:"Compare product category performance"}],tj=[{pattern:/top\s+selling\s+items?/i,grain:"items",metrics:["item_sales","items_sold"],groupBy:"item_name"},{pattern:/payment\s+method/i,grain:"payments",metrics:["total_collected","no_of_payments"],groupBy:"payment_method"},{pattern:/employee\s+performance/i,grain:"employees",metrics:["gross_sales","transaction_count"],groupBy:"employee_name"},{pattern:/customer\s+(spending|behavior)/i,grain:"customers",metrics:["amount_spend","average_spend"],groupBy:"customer_type"},{pattern:/section\s+sales?/i,grain:"orders",metrics:["gross_sales","transaction_count"],groupBy:"section"},{pattern:/discount/i,grain:"discounts",metrics:["amount_discounted","discounts_applied"],groupBy:"discount_name"},{pattern:/modifier/i,grain:"modifiers",metrics:["modifier_qty_sold","modifier_gross_sales"],groupBy:"modifier_name"},{pattern:/categor/i,grain:"items",metrics:["item_sales","items_sold"],groupBy:"category"}];function sj({reportState:t,updateReportState:s,selectedGrain:a,onGrainChange:r,onStartOver:n}){const[i,o]=j.useState({grain:!0,metrics:!0,groupBy:!0,filters:!1,visualization:!1,layout:!1}),[m,u]=j.useState(null),[l,c]=j.useState(!1),[d,p]=j.useState(""),h=b=>{o(k=>({...k,[b]:!k[b]}))},g=b=>{const _=t.selectedMetrics.includes(b)?t.selectedMetrics.filter(R=>R!==b):[...t.selectedMetrics,b];s({selectedMetrics:_})},y=b=>{const _=t.selectedDimensions.includes(b)?t.selectedDimensions.filter(R=>R!==b):[...t.selectedDimensions,b];s({selectedDimensions:_})},N=()=>{const b={id:`filter_${Date.now()}`,dimension:"",operator:"equals",value:"",label:"New Filter"};s({filters:[...t.filters,b]})},f=b=>{s({filters:t.filters.filter(k=>k.id!==b)})},x=()=>{var F,V;if(!d.trim())return;const b=`metric_card_${Date.now()}`,k=(((F=t.blocks)==null?void 0:F.length)||0)+1,_=v(d),R={id:b,type:"kpi",title:_.length>1?"Custom Metric Cards":((V=_[0])==null?void 0:V.title)||"Metric Card",config:{prompt:d,generatedKPIs:_,layout:"horizontal",showTrends:!0},order:k};s({blocks:[...t.blocks||[],R]}),c(!1),p("")},v=b=>{const k=b.toLowerCase(),_=[];return k.includes("average order value")&&_.push({id:"avg_order_value",title:"Average Order Value",metric:"gross_sales",description:"Average value per order",format:"currency"}),k.includes("cover count")&&!k.includes("average")&&_.push({id:"cover_count",title:"Cover Count",metric:"transaction_count",description:"Total number of covers served",format:"number"}),k.includes("average cover count")&&_.push({id:"avg_cover_count",title:"Average Cover Count",metric:"transaction_count",description:"Average covers per transaction",format:"number"}),(k.includes("total sales revenue")||k.includes("total")&&k.includes("sales"))&&_.push({id:"total_sales",title:"Total Sales Revenue",metric:"gross_sales",description:"Total sales for the period",format:"currency"}),k.includes("customer satisfaction")&&_.push({id:"customer_satisfaction",title:"Customer Satisfaction Score",metric:"gross_sales",description:"Average customer rating",format:"number"}),k.includes("peak hour")&&_.push({id:"peak_hour_performance",title:"Peak Hour Performance",metric:"gross_sales",description:"Sales during peak hours",format:"currency"}),(k.includes("table turnover")||k.includes("turnover rate"))&&_.push({id:"table_turnover",title:"Table Turnover Rate",metric:"transaction_count",description:"Average table turns per hour",format:"number"}),k.includes("food cost")&&_.push({id:"food_cost_percentage",title:"Food Cost Percentage",metric:"gross_sales",description:"Food cost as % of sales",format:"percentage"}),k.includes("labor cost")&&_.push({id:"labor_cost_ratio",title:"Labor Cost Ratio",metric:"gross_sales",description:"Labor cost as % of sales",format:"percentage"}),(k.includes("daily transaction")||k.includes("transaction volume"))&&_.push({id:"daily_transactions",title:"Daily Transaction Volume",metric:"transaction_count",description:"Total transactions per day",format:"number"}),(k.includes("growth")||k.includes("increase"))&&_.push({id:"growth_rate",title:"Growth Rate",metric:t.selectedMetrics[0]||"gross_sales",description:"Period over period growth",format:"percentage"}),_.length===0&&_.push({id:"custom_metric",title:"Custom Metric",metric:t.selectedMetrics[0]||"gross_sales",description:b,format:"number"}),_},C=b=>{s({blocks:(t.blocks||[]).filter(k=>k.id!==b)})},T=(b,k)=>{const _=[...t.selectedDimensions],[R]=_.splice(b,1);_.splice(k,0,R),s({selectedDimensions:_})},P=b=>{const k=t.selectedDimensions.filter(_=>_!==b);s({selectedDimensions:k})},w=b=>{if(!a)return null;for(const k of a.dimensions){const _=k.dimensions.find(R=>R.id===b);if(_)return _}return null},S=({title:b,section:k,count:_})=>e.jsxs("button",{onClick:()=>h(k),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:b}),_!==void 0&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[_," selected"]})]}),i[k]?e.jsx(we,{className:"h-4 w-4 text-gray-500"}):e.jsx(Cr,{className:"h-4 w-4 text-gray-500"})]});return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 h-fit sticky top-6",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Build Your Report"}),e.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Start Over",children:e.jsx(ec,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Configure your report settings"})]}),e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx(S,{title:"Data Source",section:"grain"}),i.grain&&e.jsx("div",{className:"p-4 pt-0",children:a?e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-sm text-gray-600",children:a.description})]}),e.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-700",children:"Change"})]}):e.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No data source selected"})})]}),a&&e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx(S,{title:"Metrics",section:"metrics",count:t.selectedMetrics.length}),i.metrics&&e.jsx("div",{className:"p-4 pt-0",children:e.jsx("div",{className:"max-h-64 overflow-y-auto mb-4",children:a.metrics.map(b=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:b.name}),e.jsx("div",{className:"space-y-2",children:b.metrics.map(k=>e.jsxs("label",{className:"flex items-start gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.selectedMetrics.includes(k.id),onChange:()=>g(k.id),className:"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-xs text-gray-500",children:k.description})]})]},k.id))})]},b.id))})})]}),a&&e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx(S,{title:"Dimensions",section:"groupBy",count:t.selectedDimensions.length}),i.groupBy&&e.jsxs("div",{className:"p-4 pt-0 max-h-64 overflow-y-auto",children:[t.selectedDimensions.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Dimensions (Drag to reorder)"}),e.jsx("div",{className:"space-y-1",children:t.selectedDimensions.map((b,k)=>{const _=w(b);return _?e.jsxs("div",{draggable:!0,onDragStart:()=>u(b),onDragEnd:()=>u(null),onDragOver:R=>R.preventDefault(),onDrop:R=>{if(R.preventDefault(),m&&m!==b){const F=t.selectedDimensions.indexOf(m),V=t.selectedDimensions.indexOf(b);T(F,V)}},className:`flex items-center gap-2 p-2 bg-blue-50 border border-blue-200 rounded cursor-move transition-all ${m===b?"opacity-50 scale-95":""}`,children:[e.jsx(uy,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Order: ",k+1]})]}),e.jsx("button",{onClick:()=>P(b),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(je,{className:"h-3 w-3"})})]},b):null})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Dimensions"}),a.dimensions.map(b=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-600 mb-1",children:b.name}),e.jsx("div",{className:"space-y-1",children:b.dimensions.filter(k=>!t.selectedDimensions.includes(k.id)).map(k=>e.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.selectedDimensions.includes(k.id),onChange:()=>y(k.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-xs text-gray-500",children:k.description})]})]},k.id))})]},b.id))]})]})]}),e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx(S,{title:"Filters",section:"filters",count:t.filters.length}),i.filters&&e.jsxs("div",{className:"p-4 pt-0",children:[e.jsx("div",{className:"space-y-2 mb-3",children:t.filters.map(b=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm text-gray-700 flex-1",children:b.label}),e.jsx("button",{onClick:()=>f(b.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:e.jsx(je,{className:"h-4 w-4"})})]},b.id))}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[e.jsx(nt,{className:"h-4 w-4"}),"Add Filter"]})]})]}),a&&t.selectedMetrics.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Add Widgets"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enhance your report with additional insights"})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center gap-3 p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors group",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded group-hover:bg-blue-200 transition-colors",children:e.jsx(ms,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Metric Cards"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Create custom metric cards with AI"})]})]}),t.blocks.filter(b=>["widgets","kpi"].includes(b.type)).length>0&&e.jsxs("div",{className:"border-t pt-3 mt-4",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-2 uppercase tracking-wide",children:"Added Widgets"}),e.jsx("div",{className:"space-y-2",children:t.blocks.filter(b=>["widgets","kpi"].includes(b.type)).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[b.type==="widgets"?e.jsx(Ko,{className:"h-4 w-4 text-green-500"}):e.jsx(Ue,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:b.title})]}),e.jsx("button",{onClick:()=>C(b.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(je,{className:"h-3 w-3"})})]},b.id))})]})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Metric Cards"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(je,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe the metrics you want to see"}),e.jsx("textarea",{value:d,onChange:b=>p(b.target.value),placeholder:"e.g., average order value, total sales, cover count...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Or choose from common metrics:"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:["Average Order Value","Cover Count","Average Cover Count","Total Sales Revenue","Customer Satisfaction Score","Peak Hour Performance","Table Turnover Rate","Food Cost Percentage","Labor Cost Ratio","Daily Transaction Volume"].map(b=>e.jsx("button",{onClick:()=>p(b.toLowerCase()),className:"text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:b},b))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:!d.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Cards"})]})]})]})})]})}function aj({isOpen:t,onClose:s,reportTitle:a,reportData:r,reportType:n,reportGrain:i}){const[o,m]=j.useState([]),[u,l]=j.useState(!1);j.useEffect(()=>{t&&r&&c()},[t,r]);const c=async()=>{l(!0),await new Promise(y=>setTimeout(y,1500));const p=[],h=(r==null?void 0:r.data)||[],g=h.length>0;if(g||!g){const y=g?`${h.length} data points`:"sample data points";if(p.push({type:"summary",title:"Report Overview",description:`This ${a} report analyzes ${y} to provide insights into your business performance. AI has identified key patterns and opportunities for improvement.`,icon:e.jsx(de,{className:"h-5 w-5 text-blue-600"})}),g&&h.length>=2){const v=Object.values(h[0]).find(P=>typeof P=="number")||0,T=((Object.values(h[h.length-1]).find(P=>typeof P=="number")||0)-v)/v*100;p.push({type:"trend",title:T>=0?"Positive Trend Detected":"Declining Trend Identified",description:`Performance has ${T>=0?"increased":"decreased"} by ${Math.abs(T).toFixed(1)}% from the first to last data point.`,change:T,icon:T>=0?e.jsx(oe,{className:"h-5 w-5 text-green-600"}):e.jsx(Ct,{className:"h-5 w-5 text-red-600"})})}else if(!g){const v=Math.random()*30-15;p.push({type:"trend",title:v>=0?"Positive Trend Detected":"Declining Trend Identified",description:`Based on historical patterns, this metric shows a ${v>=0?"positive":"negative"} trend of ${Math.abs(v).toFixed(1)}% over the analyzed period.`,change:v,icon:v>=0?e.jsx(oe,{className:"h-5 w-5 text-green-600"}):e.jsx(Ct,{className:"h-5 w-5 text-red-600"})})}a.toLowerCase().includes("profitability")?(p.push({type:"opportunity",title:"Profitability Optimization",description:"Consider reviewing items with profit margins below 15%. Focus on high-volume, low-margin items for cost reduction opportunities.",icon:e.jsx(la,{className:"h-5 w-5 text-yellow-600"})}),p.push({type:"alert",title:"Cost Management Alert",description:"Food costs appear elevated in certain categories. Review supplier contracts and portion sizes for optimization.",severity:"medium",icon:e.jsx(tt,{className:"h-5 w-5 text-orange-600"})})):a.toLowerCase().includes("sales")?p.push({type:"opportunity",title:"Revenue Growth Opportunity",description:"Peak sales periods show 23% higher performance. Consider extending successful promotional strategies to other time periods.",icon:e.jsx(la,{className:"h-5 w-5 text-yellow-600"})}):a.toLowerCase().includes("customer")&&p.push({type:"trend",title:"Customer Behavior Pattern",description:"Customer frequency shows seasonal variation. Loyalty programs could help maintain engagement during slower periods.",icon:e.jsx(oe,{className:"h-5 w-5 text-blue-600"})});const N=h.map(v=>Object.values(v).find(C=>typeof C=="number")||0),f=N.reduce((v,C)=>v+C,0)/N.length,x=N.filter(v=>Math.abs(v-f)>f*.5);x.length>0&&p.push({type:"anomaly",title:"Data Anomalies Detected",description:`${x.length} data points show significant deviation from the average. These may indicate special events or data quality issues.`,severity:"low",icon:e.jsx(Jo,{className:"h-5 w-5 text-purple-600"})}),p.push({type:"opportunity",title:"Next Steps Recommendation",description:"Based on this analysis, consider drilling down into underperforming segments and implementing targeted improvement strategies.",icon:e.jsx(la,{className:"h-5 w-5 text-green-600"})})}m(p),l(!1)},d=p=>{switch(p){case"high":return"bg-red-50 border-red-200";case"medium":return"bg-orange-50 border-orange-200";case"low":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:e.jsx(ms,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Report Insights"}),e.jsx("p",{className:"text-sm text-gray-600",children:a})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(je,{className:"h-5 w-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"AI is analyzing your report..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Identifying trends, anomalies, and opportunities"})]})}):e.jsxs("div",{className:"space-y-4",children:[o.map((p,h)=>e.jsx("div",{className:`p-4 rounded-lg border ${d(p.severity)}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:p.title}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:p.description}),p.change!==void 0&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:`text-sm font-medium ${p.change>=0?"text-green-600":"text-red-600"}`,children:[p.change>=0?"+":"",p.change.toFixed(1),"%"]}),p.value&&e.jsxs("span",{className:"text-sm text-gray-500",children:["(",p.value,")"]})]})]})]})},h)),o.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ms,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No insights available for this report."})]})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI insights are generated based on your data patterns and industry best practices."}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})})]})}):null}function rj({config:t,reportData:s,reportType:a="analysis",reportGrain:r="orders",onBack:n,onExport:i,onPrint:o,onShare:m,onSave:u,onCustomize:l}){const[c,d]=j.useState(!1),p=y=>{switch(y){case"export":i==null||i();break;case"print":o==null||o();break;case"share":m==null||m();break;case"save":u==null||u();break;case"customize":l==null||l();break;case"ai-insights":d(!0);break}},h=y=>{switch(y){case"export":return e.jsx(Pt,{className:"h-4 w-4"});case"print":return e.jsx(Uy,{className:"h-4 w-4"});case"share":return e.jsx(Ap,{className:"h-4 w-4"});case"save":return e.jsx(Dp,{className:"h-4 w-4"});case"customize":return e.jsx(At,{className:"h-4 w-4"});case"ai-insights":return e.jsx(ms,{className:"h-4 w-4"});default:return null}},g=y=>{switch(y){case"export":return"Export";case"print":return"Print";case"share":return"Share";case"save":return"Save";case"customize":return"Customize";case"ai-insights":return"AI Insights";default:return y}};return e.jsxs("div",{className:"bg-white border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[n&&e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(zt,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsx("p",{className:"text-gray-600",children:t.description}),t.showDataFreshness&&e.jsx("span",{className:"text-sm text-green-600 bg-green-50 px-2 py-1 rounded",children:"Updated 2 min ago"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700",children:[e.jsx(ms,{className:"h-4 w-4"}),"AI Insights"]}),t.showOptions&&e.jsx(e.Fragment,{children:t.options.map(y=>e.jsxs("button",{onClick:()=>p(y),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${y==="customize"?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 hover:text-gray-800 border border-gray-300 hover:bg-gray-50"}`,children:[h(y),g(y)]},y))})]})]})}),e.jsx(aj,{isOpen:c,onClose:()=>d(!1),reportTitle:t.title,reportData:s,reportType:a,reportGrain:r})]})}function nj({config:t,filters:s,groupBy:a,selectedMetrics:r,onFilterChange:n,onGroupByChange:i,onMetricsChange:o}){const[m,u]=j.useState(!1),[l,c]=j.useState(!1),d=g=>{switch(g){case"time_period":return e.jsx(rt,{className:"h-4 w-4 text-gray-600"});case"location":return e.jsx(Xo,{className:"h-4 w-4 text-gray-600"});case"employee":return e.jsx(It,{className:"h-4 w-4 text-gray-600"});case"filters":return e.jsx(kr,{className:"h-4 w-4 text-gray-600"});case"chart_type":return e.jsx(de,{className:"h-4 w-4 text-gray-600"});default:return null}},p=(g,y)=>{switch(g){case"time_period":return y||"This month";case"location":return y||"All locations";case"employee":return y||"All employees";case"channel":return y||"All channels";case"group_by":return`Group by: ${y||"None"}`;case"metrics":return`Metrics: ${r.length} selected`;case"filters":return"Filter by";case"chart_type":return y||"Chart type";default:return g}},h=(g,y=!0)=>{const N=s.find(x=>x.id===g),f=N==null?void 0:N.value;return e.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${y?"bg-gray-100 hover:bg-gray-200 text-gray-700":"border border-gray-300 hover:bg-gray-50 text-gray-600"}`,onClick:()=>{console.log(`Opening ${g} selector`)},children:[d(g),e.jsx("span",{className:"text-sm",children:p(g,f)}),e.jsx(we,{className:"h-4 w-4 text-gray-400"})]},g)};return e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.primary.map(g=>h(g,!0))}),t.secondary.length>0&&e.jsx("div",{className:"flex items-center gap-4",children:t.secondary.map(g=>{var y;if(g==="group_by"&&t.showGroupBy){const N=(y=t.availableGroupBy)==null?void 0:y.find(f=>f.id===a);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 transition-colors",onClick:()=>{u(!m),c(!1)},children:[e.jsx(de,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Group by: ",(N==null?void 0:N.name)||"Item Name"]}),e.jsx(we,{className:"h-4 w-4 text-gray-400"})]}),m&&t.availableGroupBy&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:e.jsx("div",{className:"p-2",children:t.availableGroupBy.map(f=>e.jsx("button",{onClick:()=>{i(f.id),u(!1)},className:`w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 ${a===f.id?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:f.name},f.id))})})]},g)}return g==="metrics"&&t.showMetricSelector?e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 transition-colors",onClick:()=>{c(!l),u(!1)},children:[e.jsx(de,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Metrics: ",r.length," selected"]}),e.jsx(we,{className:"h-4 w-4 text-gray-400"})]}),l&&t.availableMetrics&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2 px-3",children:"Select Metrics"}),t.availableMetrics.map(N=>e.jsxs("label",{className:"flex items-center px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.includes(N.id),onChange:f=>{const x=f.target.checked?[...r,N.id]:r.filter(v=>v!==N.id);o(x)},className:"mr-3 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:N.name})]},N.id))]})})]},g):h(g,!1)})})]})})}function Wi({config:t,data:s}){if(!t)return e.jsx("div",{className:"p-4 text-gray-500",children:"Chart configuration missing"});const a=()=>{switch(t.size){case"small":return 200;case"medium":return 300;case"large":return 400;case"full":return 500;default:return 300}},r=c=>{switch(c){case"line":return"#3B82F6";case"bar":return"#10B981";case"area":return"#8B5CF6";case"pie":return"#F59E0B";case"donut":return"#EF4444";default:return"#6B7280"}},n=t.metrics&&t.metrics.length>0?t.metrics[0]:"total_sales",i=Array.isArray(s)?s.slice(0,8):[],o=i.length>0?Math.max(...i.map(c=>Number(c[n])||0)):100,m=c=>n.includes("sales")||n.includes("amount")||n.includes("collected")?`$${c.toLocaleString()}`:c.toLocaleString(),u=()=>e.jsx("div",{className:"space-y-3",children:i.map((c,d)=>{const p=Number(c[n])||0,h=o>0?p/o*100:0,g=c[t.groupBy]||`Item ${d+1}`;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-xs text-gray-600 truncate",children:g}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4 relative",children:e.jsx("div",{className:"h-4 rounded-full transition-all duration-300",style:{width:`${h}%`,backgroundColor:r(t.type)}})}),e.jsx("div",{className:"w-20 text-xs text-gray-700 text-right",children:m(p)})]})]},d)})}),l=()=>e.jsx("div",{className:"relative h-48",children:e.jsxs("svg",{className:"w-full h-full",children:[[0,25,50,75,100].map(c=>e.jsx("line",{x1:"40",y1:`${c*1.6+20}%`,x2:"95%",y2:`${c*1.6+20}%`,stroke:"#e5e7eb",strokeWidth:"1"},c)),e.jsx("polyline",{fill:"none",stroke:r(t.type),strokeWidth:"3",points:i.map((c,d)=>{const p=Number(c[n])||0,h=40+d*(55/Math.max(i.length-1,1)),g=180-p/o*140;return`${h},${g}`}).join(" ")}),i.map((c,d)=>{const p=Number(c[n])||0,h=40+d*(55/Math.max(i.length-1,1)),g=180-p/o*140;return e.jsx("circle",{cx:h,cy:g,r:"4",fill:r(t.type)},d)})]})});return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:r(t.type)}}),t.type.charAt(0).toUpperCase()+t.type.slice(1)," Chart"]})]}),e.jsx("div",{style:{height:a()-80},className:"overflow-hidden",children:t.type==="bar"?u():l()}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500 text-center",children:[s.length," data points  ",n.replace("_"," "),t.groupBy&&` by ${t.groupBy.replace("_"," ")}`]})]})}function ij({config:t,data:s,onChartTypeChange:a}){if(!t||!t.charts||t.charts.length===0)return e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsx("div",{className:"p-4 text-gray-500 text-center",children:"Chart configuration missing or invalid"})})});if(t.type==="single"){const r=t.charts[0];return e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsx(Wi,{config:r,data:s||[]})})})}return t.type==="multiple"?e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:t.charts.map(r=>e.jsx(Wi,{config:r,data:s||[]},r.id||Math.random()))})})}):t.type==="dashboard"?e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.charts.map(r=>e.jsx("div",{className:`${r.size==="large"?"lg:col-span-2":r.size==="full"?"lg:col-span-3":""}`,children:e.jsx(Wi,{config:r,data:s||[]})},r.id||Math.random()))})})}):null}const ac={orders:{id:"orders",name:"Orders",metrics:[{id:"gross_sales",name:"Gross Sales",type:"currency"},{id:"net_sales",name:"Net Sales",type:"currency"},{id:"refunds",name:"Refunds",type:"currency"},{id:"transaction_count",name:"Transaction Count",type:"count"},{id:"discount_amount",name:"Discount Amount",type:"currency"},{id:"returns",name:"Returns",type:"currency"},{id:"service_charges",name:"Service Charges",type:"currency"},{id:"tax",name:"Tax",type:"currency"},{id:"tip",name:"Tip",type:"currency"},{id:"average_cover_count",name:"Average Cover Count",type:"number"},{id:"covers",name:"Covers",type:"count"},{id:"customer_frequency",name:"Customer Frequency",type:"percentage"},{id:"labor_cost_percentage",name:"Labor Cost %",type:"percentage"},{id:"prime_cost_percentage",name:"Prime Cost %",type:"percentage"},{id:"labor_cost",name:"Labor Cost",type:"currency"},{id:"food_cost",name:"Food Cost",type:"currency"},{id:"prime_cost",name:"Prime Cost",type:"currency"}],dimensions:[{id:"order_name",name:"Order Name",type:"string"},{id:"order_id",name:"Order ID",type:"string"},{id:"device",name:"Device",type:"string"},{id:"device_nickname",name:"Device Nickname",type:"string"},{id:"channel",name:"Channel",type:"category"},{id:"section",name:"Section",type:"category"},{id:"employee",name:"Employee",type:"string"},{id:"location",name:"Location",type:"category"},{id:"customer",name:"Customer",type:"string"},{id:"customer_type",name:"Customer Type",type:"category"},{id:"order_created",name:"Order Created",type:"date"},{id:"order_completed",name:"Order Completed",type:"date"},{id:"visit_frequency",name:"Visit Frequency",type:"category"}]},items:{id:"items",name:"Items",metrics:[{id:"item_sales",name:"Item Sales",type:"currency"},{id:"net_item_sales",name:"Net Item Sales",type:"currency"},{id:"tax",name:"Tax",type:"currency"},{id:"discount_amount",name:"Discount Amount",type:"currency"},{id:"comps",name:"Comps",type:"currency"},{id:"void_amount",name:"Void Amount",type:"currency"},{id:"items_refunded",name:"Items Refunded",type:"currency"},{id:"items_sold",name:"Items Sold",type:"count"},{id:"units_sold",name:"Units Sold",type:"count"},{id:"units_refunded",name:"Units Refunded",type:"count"},{id:"returns",name:"Returns",type:"currency"},{id:"variation_unit_cost",name:"Variation Unit Cost",type:"currency"},{id:"unit_cost",name:"Unit Cost",type:"currency"},{id:"profit_margin",name:"Profit Margin",type:"currency"},{id:"profit_margin_percentage",name:"Profit Margin %",type:"percentage"},{id:"food_cost_percentage",name:"Food Cost %",type:"percentage"}],dimensions:[{id:"item_name",name:"Item Name",type:"string"},{id:"category",name:"Category",type:"category"},{id:"category_rollup",name:"Category Rollup",type:"category"},{id:"channel",name:"Channel",type:"category"},{id:"combo_name",name:"Combo Name",type:"string"},{id:"customer_name",name:"Customer Name",type:"string"},{id:"customer_type",name:"Customer Type",type:"category"},{id:"device",name:"Device",type:"string"},{id:"device_nickname",name:"Device Nickname",type:"string"},{id:"dining_option",name:"Dining Option",type:"category"},{id:"employee_collected",name:"Employee (Collected)",type:"string"},{id:"employee_attributed",name:"Employee (Attributed)",type:"string"},{id:"item_type",name:"Item Type",type:"category"},{id:"item_variation",name:"Item Variation",type:"string"},{id:"location",name:"Location",type:"category"},{id:"menu",name:"Menu",type:"category"},{id:"section",name:"Section",type:"category"},{id:"sku",name:"SKU",type:"string"},{id:"vendor_name",name:"Vendor Name",type:"string"}]},discounts:{id:"discounts",name:"Discounts",metrics:[{id:"amount_discounted",name:"Amount Discounted",type:"currency"},{id:"discounts_applied",name:"Discounts Applied",type:"count"},{id:"orders_discounted",name:"Orders Discounted",type:"count"},{id:"items_discounted",name:"Items Discounted",type:"count"},{id:"gift_card_amount_discounted",name:"Gift Card Amount Discounted",type:"currency"},{id:"gift_card_discounts_applied",name:"Gift Card Discounts Applied",type:"count"}],dimensions:[{id:"discount_name",name:"Discount Name",type:"string"},{id:"category",name:"Category",type:"category"},{id:"item_name",name:"Item Name",type:"string"},{id:"employee_collected",name:"Employee (Collected)",type:"string"},{id:"employee_attributed",name:"Employee (Attributed)",type:"string"},{id:"location",name:"Location",type:"category"},{id:"channel",name:"Channel",type:"category"},{id:"device",name:"Device",type:"string"},{id:"customer_type",name:"Customer Type",type:"category"},{id:"order_created",name:"Order Created",type:"date"}]},employees:{id:"employees",name:"Employees",metrics:[{id:"gross_sales",name:"Gross Sales",type:"currency"},{id:"net_sales",name:"Net Sales",type:"currency"},{id:"transaction_count",name:"Transaction Count",type:"count"},{id:"items_sold",name:"Items Sold",type:"count"},{id:"average_transaction",name:"Average Transaction",type:"currency"},{id:"tips_collected",name:"Tips Collected",type:"currency"},{id:"hours_worked",name:"Hours Worked",type:"number"},{id:"sales_per_hour",name:"Sales per Hour",type:"currency"}],dimensions:[{id:"employee_name",name:"Employee Name",type:"string"},{id:"employee_id",name:"Employee ID",type:"string"},{id:"location",name:"Location",type:"category"},{id:"section",name:"Section",type:"category"},{id:"device",name:"Device",type:"string"},{id:"shift_date",name:"Shift Date",type:"date"}]},payments:{id:"payments",name:"Payments",metrics:[{id:"fees",name:"Fees",type:"currency"},{id:"payment_count",name:"Number of Payments",type:"count"},{id:"refund_count",name:"Number of Refunds",type:"count"},{id:"total_collected",name:"Total Collected",type:"currency"},{id:"payment_amount",name:"Payment Amount",type:"currency"},{id:"tips",name:"Tips",type:"currency"},{id:"refund_amount",name:"Refund Amount",type:"currency"},{id:"initial_fee",name:"Initial Fee",type:"currency"},{id:"cost_of_acceptance",name:"Cost of Acceptance",type:"currency"},{id:"total_fees",name:"Total Fees (incl. taxes)",type:"currency"}],dimensions:[{id:"payment_method",name:"Payment Method",type:"category"},{id:"card_brand",name:"Card Brand",type:"category"},{id:"transaction_id",name:"Transaction ID",type:"string"},{id:"payment_id",name:"Payment ID",type:"string"},{id:"card_entry_method",name:"Card Entry Method",type:"category"},{id:"payment_status",name:"Payment Status",type:"category"},{id:"transaction_status",name:"Transaction Status",type:"category"},{id:"channel",name:"Channel",type:"category"},{id:"device",name:"Device",type:"string"},{id:"employee_collected",name:"Employee (Collected)",type:"string"},{id:"location",name:"Location",type:"category"},{id:"customer_name",name:"Customer Name",type:"string"},{id:"transaction_timestamp",name:"Transaction Timestamp",type:"date"}]},modifiers:{id:"modifiers",name:"Modifiers",metrics:[{id:"modifier_qty_sold",name:"Modifier Qty Sold",type:"count"},{id:"modifier_gross_sales",name:"Modifier Gross Sales",type:"currency"},{id:"modifier_net_sales",name:"Modifier Net Sales",type:"currency"},{id:"modifier_qty_refunded",name:"Modifier Qty Refunded",type:"count"},{id:"modifier_refunds",name:"Modifier Refunds",type:"currency"},{id:"modifier_price",name:"Modifier Price",type:"currency"}],dimensions:[{id:"modifier_name",name:"Modifier Name",type:"string"},{id:"modifier_set",name:"Modifier Set",type:"category"},{id:"category",name:"Category",type:"category"},{id:"item_name",name:"Item Name",type:"string"},{id:"channel",name:"Channel",type:"category"},{id:"device",name:"Device",type:"string"},{id:"employee_collected",name:"Employee (Collected)",type:"string"},{id:"employee_attributed",name:"Employee (Attributed)",type:"string"},{id:"location",name:"Location",type:"category"},{id:"customer_name",name:"Customer Name",type:"string"},{id:"customer_type",name:"Customer Type",type:"category"},{id:"order_created",name:"Order Created",type:"date"}]},customers:{id:"customers",name:"Customers",metrics:[{id:"new_visit_count",name:"New Visit Count",type:"count"},{id:"repeat_visit_count",name:"Repeat Visit Count",type:"count"},{id:"amount_spend",name:"Amount Spend",type:"currency"},{id:"average_spend",name:"Average Spend",type:"currency"},{id:"spend_distribution_count",name:"Spend Distribution Count",type:"count"},{id:"visit_frequency_percent",name:"Visit Frequency %",type:"percentage"},{id:"loyalty_visit_count",name:"Loyalty Visit Count",type:"count"}],dimensions:[{id:"customer_type",name:"Customer Type (New vs Returning)",type:"category"},{id:"customer",name:"Customer",type:"string"},{id:"device",name:"Device",type:"string"},{id:"channel",name:"Channel",type:"category"},{id:"employee",name:"Employee",type:"string"},{id:"location",name:"Location",type:"category"},{id:"order_created",name:"Order Created",type:"date"},{id:"order_completed",name:"Order Completed/Fulfilled",type:"date"},{id:"spend_distribution",name:"Spend Distribution",type:"category"},{id:"visit_frequency",name:"Visit Frequency",type:"category"},{id:"loyalty_visit",name:"Loyalty Visit (Loyalty vs non Loyalty)",type:"category"}]}},qp={reconciliation:{id:"reconciliation",name:"Reconciliation",description:"See how your collected payments translate to your bank transfers",type:"dashboard",grain:"payments",defaultGroupBy:"payment_method",defaultMetrics:["total_collected","fees","net_transfers"],category:"accounting",blocks:[{id:"header",type:"header",config:{header:{title:"Reconciliation",description:"See how your collected payments translate to your bank transfers",showDataFreshness:!1,showOptions:!0,options:["export","print"],showFeedback:!0}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["filters"],showGroupBy:!1,showMetricSelector:!1,timeframe:"Wed, January 01  Wed, December 31, 2025",showTimeframeFilter:!0,filterLabel:"Filter by Timeframe: Reporting day"}},visible:!0,order:2},{id:"status",type:"metrics",config:{metrics:{layout:"status",statusMessage:{type:"success",icon:"",title:"All payments are matched to transfers",description:"The $14,628.09 you earned this period is fully accounted for in your transfers"}}},visible:!0,order:3},{id:"reconciliation-breakdown",type:"metrics",config:{metrics:{layout:"reconciliation",showTrends:!1,showComparisons:!1,reconciliationSections:[{id:"net-sales",name:"Net sales",amount:"$24,901.28",isCollapsible:!0,isExpanded:!1,items:[]},{id:"collected-liabilities",name:"Collected liabilities",amount:"$5,682.51",isCollapsible:!0,isExpanded:!1,items:[]},{id:"refunds-by-amount",name:"Refunds by amount",amount:"($7.00)",negative:!0,isCollapsible:!1,items:[]},{id:"deposits-redeemed",name:"Deposits redeemed",amount:"($3,775.35)",negative:!0,isCollapsible:!1,items:[]},{id:"total-payments-collected",name:"Total payments collected",amount:"$26,876.74",isCollapsible:!0,isExpanded:!1,isBold:!0,items:[]},{id:"non-transferable-payments",name:"Non-transferable payments",amount:"($11,352.33)",negative:!0,isCollapsible:!0,isExpanded:!1,items:[]},{id:"fees-and-deductions",name:"Fees and deductions",amount:"($896.32)",negative:!0,isCollapsible:!0,isExpanded:!1,items:[]},{id:"payments-eligible-for-transfer",name:"Payments eligible for transfer",amount:"$14,628.09",isCollapsible:!1,isBold:!0,items:[]},{id:"bank-deposits-earned",name:"Bank deposits earned in this period",amount:"$14,628.09",isCollapsible:!0,isExpanded:!1,isBold:!0,items:[]}]}},visible:!0,order:4}]},"sales-summary-v3":{id:"sales-summary-v3",name:"Sales Summary v3",description:"Enhanced sales summary with detailed breakdown and migration notice",type:"dashboard",grain:"orders",defaultGroupBy:"location",defaultMetrics:["gross_sales","net_sales","transaction_count","average_cover_count"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Sales Summary",description:"Enhanced sales summary with detailed breakdown",showDataFreshness:!0,showOptions:!0,options:["export","print"],showMigrationNotice:!0,migrationNotice:{title:"System Migration Notice",date:"May 2026",message:"Starting May 2026, we're moving to a new, more powerful reporting system. The reports below will no longer be available in their current form.",actions:[{text:"Auto-Generate New Reports (15)",type:"secondary"},{text:"Explore New System",type:"primary"}]}}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["filters"],showGroupBy:!1,showMetricSelector:!1,timeframe:"Sat, Jun 21  Fri, Jun 27, 2025"}},visible:!0,order:2},{id:"metrics",type:"metrics",config:{metrics:{layout:"detailed",showTrends:!0,showComparisons:!0,primaryMetrics:[{id:"total-sales",name:"Total sales",value:"$1065.79",description:"32 transactions",showChart:!0,chartData:[200,250,180,320,280,150,220]}],detailedBreakdown:[{section:"Gross sales",amount:"$1641.20",description:"28 transactions",items:[{name:"Items",amount:"$1634.00",description:"20 sales + 8 exchanges"},{name:"Service charges",amount:"$7.20",description:"3 transactions"}]},{section:"Returns",amount:"($577.00)",description:"3 transactions",negative:!0},{section:"Discounts & comps",amount:"$0.00",description:"2 transactions"},{section:"Net sales",amount:"$1064.20",description:"30 transactions"},{section:"Deferred Sales",amount:"$0.00"},{section:"Gift card sales",amount:"$0.00",description:"5 transactions"},{section:"Taxes",amount:"$1.59",description:"28 transactions"},{section:"Tips",amount:"$0.00",description:"15 transactions"}],summarySection:[{name:"Total sales",amount:"$1065.79",description:"32 transactions"},{name:"Total payments collected",amount:"$637.88",description:"32 transactions",breakdown:[{method:"Card",amount:"$51.39"},{method:"Cash",amount:"$586.49"}]},{name:"Fees",amount:"($1.90)",negative:!0}]}},visible:!0,order:3}]},"category-performance":{id:"category-performance",name:"Category Performance",description:"Sales performance by product categories",type:"analysis",grain:"items",defaultGroupBy:"category",defaultMetrics:["item_sales","net_item_sales","items_sold","units_sold"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Category Performance",description:"Sales performance by product categories",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"category",name:"Categories"},{id:"category_rollup",name:"Category Rollup"},{id:"item_type",name:"Item Type"},{id:"location",name:"Location"}],availableMetrics:[{id:"item_sales",name:"Item Sales"},{id:"net_item_sales",name:"Net Item Sales"},{id:"items_sold",name:"Items Sold"},{id:"units_sold",name:"Units Sold"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"category-performance",type:"bar",title:"Category Performance",groupBy:"category",metrics:["item_sales","items_sold"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"employee-performance":{id:"employee-performance",name:"Employee Performance",description:"Sales performance by team members",type:"analysis",grain:"orders",defaultGroupBy:"employee",defaultMetrics:["gross_sales","net_sales","transaction_count","tip"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Employee Performance",description:"Sales performance by team members",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"employee",name:"Employee"},{id:"location",name:"Location"},{id:"channel",name:"Channel"},{id:"section",name:"Section"}],availableMetrics:[{id:"gross_sales",name:"Gross Sales"},{id:"net_sales",name:"Net Sales"},{id:"transaction_count",name:"Transaction Count"},{id:"tip",name:"Tips"},{id:"average_cover_count",name:"Average Cover Count"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"employee-performance",type:"bar",title:"Employee Performance",groupBy:"employee",metrics:["gross_sales","transaction_count"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"sales-trends":{id:"sales-trends",name:"Sales Trends",description:"Track sales performance over time with multiple chart views",type:"trend",grain:"orders",defaultGroupBy:"order_created",defaultMetrics:["gross_sales","net_sales","transaction_count","average_cover_count"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Sales Trends",description:"Track sales performance over time with multiple chart views",showDataFreshness:!0,showOptions:!0,options:["export","print"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["filters"],showGroupBy:!1,showMetricSelector:!1}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"multiple",charts:[{id:"daily-trend",type:"line",title:"Daily Trend",timeframe:"day",metrics:["gross_sales","net_sales"],size:"medium"},{id:"weekly-performance",type:"bar",title:"Weekly Performance",timeframe:"week",metrics:["gross_sales","transaction_count"],size:"medium"},{id:"monthly-overview",type:"area",title:"Monthly Overview",timeframe:"month",metrics:["gross_sales","net_sales"],size:"medium"}],showLegend:!0,showTooltips:!0}},visible:!0,order:3}]},"item-analysis":{id:"item-analysis",name:"Item Analysis",description:"Detailed breakdown of individual item performance",type:"analysis",grain:"items",defaultGroupBy:"item_name",defaultMetrics:["item_sales","net_item_sales","items_sold","units_sold"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Item Analysis",description:"Detailed breakdown of individual item performance",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"item_name",name:"Item Name"},{id:"category",name:"Categories"},{id:"category_rollup",name:"Category Rollup"},{id:"item_type",name:"Item Type"},{id:"item_variation",name:"Item Variation"},{id:"vendor_name",name:"Vendor Name"},{id:"channel",name:"Channel"},{id:"device",name:"Device"},{id:"employee_collected",name:"Employee (collected by)"},{id:"employee_attributed",name:"Employee (attributed to)"},{id:"location",name:"Location"},{id:"customer_name",name:"Customer Name"},{id:"customer_type",name:"Customer Type"},{id:"order_created",name:"Order Created"},{id:"reporting_category",name:"Reporting Category"},{id:"menu",name:"Menu"},{id:"section",name:"Section"}],availableMetrics:[{id:"item_sales",name:"Item Sales"},{id:"net_item_sales",name:"Net Item Sales"},{id:"tax",name:"Tax"},{id:"discount_amount",name:"Discount Amount"},{id:"comps",name:"Comps"},{id:"void",name:"Void"},{id:"items_refunded",name:"Items Refunded"},{id:"items_sold",name:"Items Sold"},{id:"units_sold",name:"Units Sold"},{id:"units_refunded",name:"Units Refunded"},{id:"returns",name:"Returns"},{id:"variation_unit_cost",name:"Variation Unit Cost"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"item-performance",type:"bar",title:"Item Performance",groupBy:"item_name",metrics:["item_sales","net_item_sales"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"discount-analysis":{id:"discount-analysis",name:"Discount Analysis",description:"Analysis of discount usage and impact",type:"analysis",grain:"discounts",defaultGroupBy:"discount_name",defaultMetrics:["amount_discounted","discounts_applied","orders_discounted","items_discounted"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Discount Analysis",description:"Analysis of discount usage and impact",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"discount_name",name:"Discount Name"},{id:"category",name:"Categories"},{id:"channel",name:"Channel"},{id:"device",name:"Device"},{id:"employee_collected",name:"Employee (collected by)"},{id:"employee_attributed",name:"Employee (attributed to)"},{id:"location",name:"Location"},{id:"customer_name",name:"Customer Name"},{id:"customer_type",name:"Customer Type"},{id:"order_created",name:"Order Created"},{id:"item_name",name:"Item Name"},{id:"item_type",name:"Item Type"}],availableMetrics:[{id:"amount_discounted",name:"Amount Discounted"},{id:"discounts_applied",name:"Discounts Applied"},{id:"orders_discounted",name:"Orders Discounted"},{id:"items_discounted",name:"Items Discounted"},{id:"gift_card_amount_discounted",name:"Gift Card Amount Discounted"},{id:"gift_card_discounts_applied",name:"Gift Card Discounts Applied"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"discount-performance",type:"bar",title:"Discount Usage",groupBy:"discount_name",metrics:["amount_discounted","discounts_applied"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"modifier-analysis":{id:"modifier-analysis",name:"Modifier Analysis",description:"Analysis of modifier sales and performance",type:"analysis",grain:"modifiers",defaultGroupBy:"modifier_name",defaultMetrics:["modifier_qty_sold","modifier_gross_sales","modifier_net_sales"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Modifier Analysis",description:"Analysis of modifier sales and performance",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"modifier_name",name:"Modifier Name"},{id:"modifier_set",name:"Modifier Set"},{id:"category",name:"Categories"},{id:"item_name",name:"Item Name"},{id:"channel",name:"Channel"},{id:"device",name:"Device"},{id:"employee_collected",name:"Employee (collected by)"},{id:"employee_attributed",name:"Employee (attributed to)"},{id:"location",name:"Location"},{id:"customer_name",name:"Customer Name"},{id:"customer_type",name:"Customer Type"},{id:"order_created",name:"Order Created"}],availableMetrics:[{id:"modifier_qty_sold",name:"Modifier Qty Sold"},{id:"modifier_gross_sales",name:"Modifier Gross Sales"},{id:"modifier_net_sales",name:"Modifier Net Sales"},{id:"modifier_qty_refunded",name:"Modifier Qty Refunded"},{id:"modifier_refunds",name:"Modifier Refunds"},{id:"modifier_price",name:"Modifier Price"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"modifier-performance",type:"bar",title:"Modifier Performance",groupBy:"modifier_name",metrics:["modifier_qty_sold","modifier_gross_sales"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"payment-analysis":{id:"payment-analysis",name:"Payment Analysis",description:"Analysis of payment methods and transaction fees",type:"analysis",grain:"payments",defaultGroupBy:"payment_method",defaultMetrics:["total_collected","payment_amount","fees","tips"],category:"payments",blocks:[{id:"header",type:"header",config:{header:{title:"Payment Analysis",description:"Analysis of payment methods and transaction fees",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"payment_method",name:"Payment Method"},{id:"card_brand",name:"Card Brand"},{id:"channel",name:"Channel"},{id:"device",name:"Device"},{id:"employee_collected",name:"Employee (collected by)"},{id:"employee_attributed",name:"Employee (attributed to)"},{id:"location",name:"Location"},{id:"customer_name",name:"Customer Name"},{id:"customer_type",name:"Customer Type"},{id:"order_created",name:"Order Created"},{id:"transaction_timestamp",name:"Transaction Timestamp"},{id:"payment_status",name:"Payment Status"}],availableMetrics:[{id:"fees",name:"Fees"},{id:"no_of_payments",name:"No. of Payments"},{id:"no_of_refunds",name:"No. of Refunds"},{id:"total_collected",name:"Total Collected"},{id:"payment_amount",name:"Payment Amount"},{id:"tips",name:"Tips"},{id:"refund_amount",name:"Refund Amount"},{id:"initial_fee",name:"Initial Fee"},{id:"cost_of_acceptance",name:"Cost of Acceptance"},{id:"total_fees_incl_taxes",name:"Total Fees (incl. taxes)"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"payment-performance",type:"pie",title:"Payment Methods",groupBy:"payment_method",metrics:["total_collected"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"customer-analysis":{id:"customer-analysis",name:"Customer Analysis",description:"Analysis of customer behavior and spending patterns",type:"analysis",grain:"customers",defaultGroupBy:"customer_type",defaultMetrics:["new_visit_count","repeat_visit_count","amount_spend","average_spend"],category:"customers",blocks:[{id:"header",type:"header",config:{header:{title:"Customer Analysis",description:"Analysis of customer behavior and spending patterns",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"customer_type",name:"Customer Type (New vs Returning)"},{id:"customer",name:"Customer"},{id:"device",name:"Device"},{id:"channel",name:"Channel"},{id:"employee",name:"Employee"},{id:"location",name:"Location"},{id:"order_created",name:"Order Created"},{id:"order_completed",name:"Order Completed/Fulfilled"},{id:"spend_distribution",name:"Spend Distribution"},{id:"visit_frequency",name:"Visit Frequency"},{id:"loyalty_visit",name:"Loyalty Visit (Loyalty vs non Loyalty)"}],availableMetrics:[{id:"new_visit_count",name:"New Visit Count"},{id:"repeat_visit_count",name:"Repeat Visit Count"},{id:"amount_spend",name:"Amount Spend"},{id:"average_spend",name:"Average Spend"},{id:"spend_distribution_count",name:"Spend Distribution Count"},{id:"visit_frequency_percent",name:"Visit Frequency %"},{id:"loyalty_visit_count",name:"Loyalty Visit Count"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"customer-performance",type:"bar",title:"Customer Segments",groupBy:"customer_type",metrics:["new_visit_count","repeat_visit_count"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"section-sales":{id:"section-sales",name:"Section Sales",description:"Sales performance by restaurant sections",type:"analysis",grain:"orders",defaultGroupBy:"section",defaultMetrics:["gross_sales","net_sales","transaction_count","average_cover_count"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Section Sales",description:"Sales performance by restaurant sections",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"section",name:"Section"},{id:"order_name",name:"Order Name"},{id:"device",name:"Device"},{id:"channel",name:"Channel"},{id:"employee",name:"Employee"},{id:"location",name:"Location"},{id:"customer",name:"Customer"},{id:"customer_type",name:"Customer Type"},{id:"order_created",name:"Order Created"}],availableMetrics:[{id:"gross_sales",name:"Gross Sales"},{id:"net_sales",name:"Net Sales"},{id:"refunds",name:"Refunds"},{id:"transaction_count",name:"Transaction Count"},{id:"discount",name:"Discount"},{id:"returns",name:"Returns"},{id:"service_charges",name:"Service Charges"},{id:"tax",name:"Tax"},{id:"tip",name:"Tip"},{id:"average_cover_count",name:"Average Cover Count"},{id:"covers",name:"Covers"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"section-performance",type:"bar",title:"Section Performance",groupBy:"section",metrics:["gross_sales","transaction_count"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"order-analysis":{id:"order-analysis",name:"Order Analysis",description:"Detailed analysis of order patterns and performance",type:"analysis",grain:"orders",defaultGroupBy:"channel",defaultMetrics:["gross_sales","net_sales","transaction_count","average_cover_count"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Order Analysis",description:"Detailed analysis of order patterns and performance",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"order_name",name:"Order Name"},{id:"order_id",name:"Order ID"},{id:"device",name:"Device"},{id:"channel",name:"Channel"},{id:"section",name:"Section"},{id:"employee",name:"Employee"},{id:"location",name:"Location"},{id:"customer",name:"Customer"},{id:"customer_type",name:"Customer Type (New, Returning, Loyalty)"},{id:"order_created",name:"Order Created"},{id:"order_completed",name:"Order Completed/Fulfilled"},{id:"customer_visit_frequency",name:"Customer Visit Frequency"}],availableMetrics:[{id:"gross_sales",name:"Gross Sales"},{id:"net_sales",name:"Net Sales"},{id:"refunds",name:"Refunds"},{id:"transaction_count",name:"Transaction Count"},{id:"discount",name:"Discount"},{id:"returns",name:"Returns"},{id:"service_charges",name:"Service Charges (custom + card surcharge)"},{id:"tax",name:"Tax"},{id:"tip",name:"Tip"},{id:"average_cover_count",name:"Average Cover Count"},{id:"covers",name:"Covers"},{id:"customer_frequency",name:"Customer Frequency"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"order-performance",type:"bar",title:"Order Performance",groupBy:"channel",metrics:["gross_sales","transaction_count"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"item-profitability":{id:"item-profitability",name:"Item Profitability",description:"Profit margins and cost analysis by menu item",type:"analysis",grain:"items",defaultGroupBy:"item_name",defaultMetrics:["item_sales","unit_cost","profit_margin","profit_margin_percentage"],category:"profitability",blocks:[{id:"header",type:"header",config:{header:{title:"Item Profitability",description:"Profit margins and cost analysis by menu item",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"item_name",name:"Item Name"},{id:"category",name:"Categories"},{id:"category_rollup",name:"Category Rollup"},{id:"item_type",name:"Item Type"},{id:"location",name:"Location"},{id:"vendor_name",name:"Vendor Name"}],availableMetrics:[{id:"item_sales",name:"Item Sales"},{id:"unit_cost",name:"Unit Cost"},{id:"profit_margin",name:"Profit Margin"},{id:"profit_margin_percentage",name:"Profit Margin %"},{id:"food_cost_percentage",name:"Food Cost %"},{id:"units_sold",name:"Units Sold"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"profitability-chart",type:"bar",title:"Item Profitability",groupBy:"item_name",metrics:["profit_margin","profit_margin_percentage"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"category-profitability":{id:"category-profitability",name:"Category Profitability",description:"Profit margins and food costs by menu category",type:"analysis",grain:"items",defaultGroupBy:"category",defaultMetrics:["item_sales","unit_cost","profit_margin","food_cost_percentage"],category:"profitability",blocks:[{id:"header",type:"header",config:{header:{title:"Category Profitability",description:"Profit margins and food costs by menu category",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"category",name:"Categories"},{id:"category_rollup",name:"Category Rollup"},{id:"item_type",name:"Item Type"},{id:"location",name:"Location"},{id:"vendor_name",name:"Vendor Name"}],availableMetrics:[{id:"item_sales",name:"Item Sales"},{id:"unit_cost",name:"Unit Cost"},{id:"profit_margin",name:"Profit Margin"},{id:"profit_margin_percentage",name:"Profit Margin %"},{id:"food_cost_percentage",name:"Food Cost %"},{id:"units_sold",name:"Units Sold"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"category-profitability-chart",type:"bar",title:"Category Profitability",groupBy:"category",metrics:["profit_margin","food_cost_percentage"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"prime-cost-analysis":{id:"prime-cost-analysis",name:"Prime Cost Analysis",description:"Food cost + labor cost analysis by location",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["gross_sales","food_cost","labor_cost","prime_cost","prime_cost_percentage"],category:"profitability",blocks:[{id:"header",type:"header",config:{header:{title:"Prime Cost Analysis",description:"Food cost + labor cost analysis by location",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0,availableGroupBy:[{id:"location",name:"Location"},{id:"channel",name:"Channel"},{id:"section",name:"Section"},{id:"employee",name:"Employee"},{id:"order_created",name:"Order Created"}],availableMetrics:[{id:"gross_sales",name:"Gross Sales"},{id:"food_cost",name:"Food Cost"},{id:"labor_cost",name:"Labor Cost"},{id:"prime_cost",name:"Prime Cost"},{id:"prime_cost_percentage",name:"Prime Cost %"},{id:"labor_cost_percentage",name:"Labor Cost %"}]}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"prime-cost-chart",type:"bar",title:"Prime Cost Analysis",groupBy:"location",metrics:["prime_cost","prime_cost_percentage"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"vendor-sales":{id:"vendor-sales",name:"Vendor Sales",description:"Sales performance by vendor or supplier",type:"analysis",grain:"items",defaultGroupBy:"vendor_name",defaultMetrics:["item_sales","net_item_sales","items_sold","units_sold"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Vendor Sales",description:"Sales performance by vendor or supplier",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"vendor-performance",type:"bar",title:"Vendor Performance",groupBy:"vendor_name",metrics:["item_sales","items_sold"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"gift-cards":{id:"gift-cards",name:"Gift Cards",description:"Gift card sales and redemption analysis",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["gift_card_sales","gift_card_redemptions","gift_card_balance"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Gift Cards",description:"Gift card sales and redemption analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"gift-card-performance",type:"line",title:"Gift Card Trends",groupBy:"order_created",metrics:["gift_card_sales","gift_card_redemptions"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},"sales-taxes":{id:"sales-taxes",name:"Sales Taxes",description:"Tax collection and reporting by location and tax type",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["tax","gross_sales","net_sales","transaction_count"],category:"accounting",blocks:[{id:"header",type:"header",config:{header:{title:"Sales Taxes",description:"Tax collection and reporting by location and tax type",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},fees:{id:"fees",name:"Fees",description:"Processing fees and charges analysis",type:"analysis",grain:"payments",defaultGroupBy:"payment_method",defaultMetrics:["fees","total_collected","payment_amount"],category:"payments",blocks:[{id:"header",type:"header",config:{header:{title:"Fees",description:"Processing fees and charges analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"service-charges":{id:"service-charges",name:"Service Charges",description:"Service charges and surcharges analysis",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["service_charges","gross_sales","transaction_count"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Service Charges",description:"Service charges and surcharges analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"payment-methods":{id:"payment-methods",name:"Payment Methods",description:"Payment method breakdown and analysis",type:"analysis",grain:"payments",defaultGroupBy:"payment_method",defaultMetrics:["total_collected","payment_amount","fees","no_of_payments"],category:"payments",blocks:[{id:"header",type:"header",config:{header:{title:"Payment Methods",description:"Payment method breakdown and analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"visualization",type:"visualization",config:{visualization:{type:"single",charts:[{id:"payment-methods-chart",type:"pie",title:"Payment Methods Distribution",groupBy:"payment_method",metrics:["total_collected"],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]},comps:{id:"comps",name:"Comps",description:"Complimentary items and discounts analysis",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["comps","gross_sales","transaction_count"],category:"sales",blocks:[{id:"header",type:"header",config:{header:{title:"Comps",description:"Complimentary items and discounts analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},voids:{id:"voids",name:"Voids",description:"Voided transactions and items analysis",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["void","gross_sales","transaction_count"],category:"operations",blocks:[{id:"header",type:"header",config:{header:{title:"Voids",description:"Voided transactions and items analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"transaction-status":{id:"transaction-status",name:"Transaction Status",description:"Transaction status and completion analysis",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["transaction_count","gross_sales","net_sales"],category:"operations",blocks:[{id:"header",type:"header",config:{header:{title:"Transaction Status",description:"Transaction status and completion analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"cash-reports":{id:"cash-reports",name:"Cash Reports",description:"Cash handling and drawer management",type:"analysis",grain:"payments",defaultGroupBy:"location",defaultMetrics:["cash_collected","cash_tips","cash_change"],category:"payments",blocks:[{id:"header",type:"header",config:{header:{title:"Cash Reports",description:"Cash handling and drawer management",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"activity-log":{id:"activity-log",name:"Activity Log",description:"System activity and audit trail",type:"analysis",grain:"orders",defaultGroupBy:"employee",defaultMetrics:["transaction_count","gross_sales"],category:"operations",blocks:[{id:"header",type:"header",config:{header:{title:"Activity Log",description:"System activity and audit trail",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"kitchen-performance":{id:"kitchen-performance",name:"Kitchen Performance",description:"Kitchen efficiency and order timing analysis",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["transaction_count","average_prep_time","gross_sales"],category:"operations",blocks:[{id:"header",type:"header",config:{header:{title:"Kitchen Performance",description:"Kitchen efficiency and order timing analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"team-performance":{id:"team-performance",name:"Team Performance",description:"Team and shift performance analysis",type:"analysis",grain:"orders",defaultGroupBy:"employee",defaultMetrics:["gross_sales","transaction_count","tip"],category:"operations",blocks:[{id:"header",type:"header",config:{header:{title:"Team Performance",description:"Team and shift performance analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"future-bookings":{id:"future-bookings",name:"Future Bookings",description:"Upcoming reservations and bookings",type:"analysis",grain:"orders",defaultGroupBy:"booking_date",defaultMetrics:["booking_count","estimated_revenue","covers"],category:"operations",blocks:[{id:"header",type:"header",config:{header:{title:"Future Bookings",description:"Upcoming reservations and bookings",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"inventory-by-category":{id:"inventory-by-category",name:"Inventory by Category",description:"Inventory levels and performance by product category",type:"analysis",grain:"items",defaultGroupBy:"category",defaultMetrics:["current_stock","units_sold","inventory_value"],category:"inventory",blocks:[{id:"header",type:"header",config:{header:{title:"Inventory by Category",description:"Inventory levels and performance by product category",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"cost-of-goods-sold":{id:"cost-of-goods-sold",name:"Cost of Goods Sold",description:"COGS analysis and inventory cost tracking",type:"analysis",grain:"items",defaultGroupBy:"category",defaultMetrics:["cogs","item_sales","gross_margin"],category:"inventory",blocks:[{id:"header",type:"header",config:{header:{title:"Cost of Goods Sold",description:"COGS analysis and inventory cost tracking",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"inventory-sell-through":{id:"inventory-sell-through",name:"Inventory Sell-Through",description:"Inventory turnover and sell-through rates",type:"analysis",grain:"items",defaultGroupBy:"item_name",defaultMetrics:["sell_through_rate","units_sold","current_stock"],category:"inventory",blocks:[{id:"header",type:"header",config:{header:{title:"Inventory Sell-Through",description:"Inventory turnover and sell-through rates",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"projected-profit":{id:"projected-profit",name:"Projected Profit",description:"Profit projections and forecasting",type:"analysis",grain:"orders",defaultGroupBy:"location",defaultMetrics:["projected_revenue","projected_costs","projected_profit"],category:"inventory",blocks:[{id:"header",type:"header",config:{header:{title:"Projected Profit",description:"Profit projections and forecasting",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"traffic-sources":{id:"traffic-sources",name:"Traffic Sources",description:"Customer acquisition and traffic source analysis",type:"analysis",grain:"customers",defaultGroupBy:"traffic_source",defaultMetrics:["new_customers","total_visits","conversion_rate"],category:"online",blocks:[{id:"header",type:"header",config:{header:{title:"Traffic Sources",description:"Customer acquisition and traffic source analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]},"purchase-funnel":{id:"purchase-funnel",name:"Purchase Funnel",description:"Customer journey and conversion funnel analysis",type:"analysis",grain:"customers",defaultGroupBy:"funnel_stage",defaultMetrics:["visitors","conversions","conversion_rate"],category:"online",blocks:[{id:"header",type:"header",config:{header:{title:"Purchase Funnel",description:"Customer journey and conversion funnel analysis",showDataFreshness:!0,showOptions:!0,options:["export"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"table",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:3}]}},ve={items:["Margherita Pizza","Pepperoni Pizza","Caesar Salad","Chicken Wings","Burger Deluxe","Fish Tacos","Pasta Carbonara","Grilled Salmon","Ribeye Steak","Veggie Wrap","Chocolate Cake","Tiramisu","Coffee","Craft Beer","House Wine"],categories:["Pizza","Salads","Appetizers","Burgers","Seafood","Pasta","Steaks","Wraps","Desserts","Beverages"],employees:["Sarah Johnson","Mike Chen","Emily Rodriguez","David Kim","Jessica Brown","Alex Thompson","Maria Garcia","James Wilson","Ashley Davis","Ryan Martinez"],locations:["Downtown","Mall Location","Airport","Westside"],channels:["In-Store","Online","Mobile App","Phone Order"],paymentMethods:["Credit Card","Debit Card","Cash","Gift Card","Apple Pay","Google Pay"],cardBrands:["Visa","Mastercard","American Express","Discover"],discountNames:["Happy Hour 20%","Student Discount","Senior Discount","Employee Meal","Loyalty Reward","Birthday Special"],modifierNames:["Extra Cheese","No Onions","Extra Sauce","Gluten Free","Spicy","Large Size","Medium Rare","Side Salad","Extra Bacon","No Pickles"],modifierSets:["Pizza Toppings","Burger Options","Salad Dressings","Steak Temperature","Drink Sizes","Side Options"],sections:["Dining Room","Bar","Patio","Private Room","Counter Service","Drive Thru"],customerTypes:["New Customer","Returning Customer","Loyalty Member","VIP Member"],orderNames:["Order #1001","Order #1002","Order #1003","Order #1004","Order #1005"],devices:["POS Terminal 1","POS Terminal 2","Mobile Device","Tablet","Kiosk"],itemTypes:["Food","Beverage","Dessert","Appetizer","Main Course","Side Dish"],unitCosts:{"Margherita Pizza":4.5,"Pepperoni Pizza":5.25,"Caesar Salad":3.75,"Chicken Wings":6.8,"Burger Deluxe":5.9,"Fish Tacos":7.25,"Pasta Carbonara":4.1,"Grilled Salmon":12.5,"Ribeye Steak":18.75,"Veggie Wrap":3.4,"Chocolate Cake":2.8,Tiramisu:3.6,Coffee:.85,"Craft Beer":2.25,"House Wine":3.5},laborRates:{Morning:15.5,Afternoon:16,Evening:17.25,"Late Night":18.5},categoryMargins:{Pizza:.65,Salads:.72,Appetizers:.68,Burgers:.62,Seafood:.58,Pasta:.7,Steaks:.55,Wraps:.75,Desserts:.78,Beverages:.85}};function Me(t){return t[Math.floor(Math.random()*t.length)]}function bs(t,s){return Math.floor(Math.random()*(s-t+1))+t}function bt(t,s){return Math.round((Math.random()*(s-t)+t)*100)/100}function lj(t){return`$${t.toFixed(2)}`}function oj(t){return t.toLocaleString()}function cj(t){return`${(t*100).toFixed(1)}%`}function dj(t){switch(t){case"item_name":return Me(ve.items);case"category":case"category_rollup":return Me(ve.categories);case"employee_name":return Me(ve.employees);case"location":return Me(ve.locations);case"payment_method":return Me(ve.paymentMethods);case"discount_name":return Me(ve.discountNames);case"modifier_name":return Me(ve.modifierNames);case"modifier_set":return Me(ve.modifierSets);case"section":return Me(ve.sections);case"customer_type":return Me(ve.customerTypes);case"channel":return Me(ve.channels);case"device":return Me(ve.devices);case"card_brand":return Me(ve.cardBrands);case"order_name":return Me(ve.orderNames);case"item_type":return Me(ve.itemTypes);default:return`Sample ${t.replace("_"," ")} ${bs(1,10)}`}}function mj(t,s){var l;let a=qp[t];if(!a&&s&&(a=s),!a)throw new Error(`No template found for report: ${t}`);const r=ac[a.grain],n=bs(15,50),i=[],o=a.selectedDimensions||(a.defaultGroupBy?[a.defaultGroupBy]:[]),m=a.selectedMetrics||a.defaultMetrics||[];for(let c=0;c<n;c++){const d={};o.forEach(p=>{d[p]=dj(p)}),m.forEach(p=>{const h=r.metrics.find(g=>g.id===p);if(h){if(p==="unit_cost"&&d.item_name){const g=d.item_name;d[p]=ve.unitCosts[g]||bt(2,15);return}if(p==="profit_margin"&&d.item_sales&&d.unit_cost){const g=Number(d.item_sales),y=Number(d.unit_cost);d[p]=g-y;return}if(p==="profit_margin_percentage"&&d.item_sales&&d.unit_cost){const g=Number(d.item_sales),y=Number(d.unit_cost);d[p]=g>0?(g-y)/g:0;return}if(p==="food_cost_percentage"&&d.category){const g=d.category,y=ve.categoryMargins[g]||.65;d[p]=1-y;return}if(p==="labor_cost_percentage"){d[p]=bt(.25,.35);return}if(p==="prime_cost_percentage"&&d.food_cost_percentage&&d.labor_cost_percentage){const g=Number(d.food_cost_percentage),y=Number(d.labor_cost_percentage);d[p]=g+y;return}switch(h.type){case"currency":p.includes("sales")||p.includes("collected")||p.includes("amount")?d[p]=bt(50,2e3):p.includes("cost")?d[p]=bt(2,15):p.includes("margin")||p.includes("profit")?d[p]=bt(10,800):p.includes("tax")?d[p]=bt(5,150):p.includes("tip")?d[p]=bt(10,300):p.includes("fee")?d[p]=bt(2,50):d[p]=bt(10,500);break;case"count":p.includes("transaction")?d[p]=bs(5,150):p.includes("items")||p.includes("units")?d[p]=bs(1,500):d[p]=bs(1,100);break;case"number":p.includes("average")?d[p]=bt(15,85):p.includes("hours")?d[p]=bs(4,8):d[p]=bs(1,50);break;case"percentage":p.includes("margin")||p.includes("cost")?d[p]=Math.random()*.5+.1:d[p]=Math.random();break}}}),i.push(d)}const u=m[0]||((l=a.defaultMetrics)==null?void 0:l[0]);return u&&i.sort((c,d)=>(Number(d[u])||0)-(Number(c[u])||0)),{reportId:t,reportName:a.name,grain:a.grain,groupByDimension:o[0]||a.defaultGroupBy,selectedMetrics:m,selectedDimensions:o,filters:[{dimension:"date_range",operator:"between",value:{from:"2024-01-01",to:"2024-01-31"}}],data:i,totalRows:i.length,lastUpdated:new Date}}function Bd(t,s,a){if(t==null)return"-";const r=ac[a],n=r==null?void 0:r.metrics.find(i=>i.id===s);if(!n)return String(t);switch(n.type){case"currency":return lj(Number(t));case"count":case"number":return oj(Number(t));case"percentage":return cj(Number(t));default:return String(t)}}function uj(t){const s={};return t.selectedMetrics.forEach(a=>{const r=t.data.map(o=>Number(o[a])||0),n=r.reduce((o,m)=>o+m,0),i=n/r.length;s[a]={total:n,average:i,min:Math.min(...r),max:Math.max(...r),count:r.length}}),s}function pj({config:t,columns:s,data:a,grain:r,groupByColumn:n}){const[i,o]=j.useState(t.defaultCollapsed),[m,u]=j.useState(""),[l,c]=j.useState("desc"),[d,p]=j.useState(1),h=C=>{t.sortable&&(m===C?c(l==="asc"?"desc":"asc"):(u(C),c("desc")))},g=[...a].sort((C,T)=>{if(!m)return 0;const P=C[m],w=T[m];if(typeof P=="number"&&typeof w=="number")return l==="asc"?P-w:w-P;const S=String(P||"").toLowerCase(),b=String(w||"").toLowerCase();return l==="asc"?S.localeCompare(b):b.localeCompare(S)}),y=Math.ceil(g.length/t.pageSize),N=(d-1)*t.pageSize,f=N+t.pageSize,x=t.pagination?g.slice(N,f):g,v=t.showSummaryRow?s.reduce((C,T)=>{if(T.type!=="string"&&T.id!==n){const P=a.map(w=>Number(w[T.id])||0);C[T.id]=P.reduce((w,S)=>w+S,0)}else T.id===n&&(C[T.id]="Total");return C},{}):null;return t.collapsible&&i?e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("button",{onClick:()=>o(!1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(we,{className:"h-5 w-5"}),e.jsxs("span",{className:"font-medium",children:["Show Data Table (",a.length," rows)"]})]})})}):e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t.collapsible&&e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(di,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Hide Table"})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Data Table (",a.length," rows)"]})]}),t.exportable&&e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Export CSV"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:s.map(C=>e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${t.sortable&&C.sortable!==!1?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>h(C.id),children:e.jsxs("div",{className:"flex items-center gap-2",children:[C.name,t.sortable&&C.sortable!==!1&&e.jsx(Nf,{className:"h-4 w-4 text-gray-400"}),m===C.id&&e.jsx("span",{className:"text-blue-600",children:l==="asc"?"":""})]})},C.id))})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[x.map((C,T)=>e.jsx("tr",{className:"hover:bg-gray-50",children:s.map(P=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm ${P.id===n?"font-medium text-gray-900":"text-gray-900"}`,children:P.type==="string"?C[P.id]:Bd(C[P.id],P.id,r)})},P.id))},T)),v&&e.jsx("tr",{className:"bg-gray-50 border-t-2 border-gray-200",children:s.map(C=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C.type==="string"&&C.id===n?v[C.id]:v[C.id]!==void 0?Bd(v[C.id],C.id,r):""})},C.id))})]})]})}),t.pagination&&y>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:N+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(f,a.length)})," of"," ",e.jsx("span",{className:"font-medium",children:a.length})," results"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(Math.max(1,d-1)),disabled:d===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>p(Math.min(y,d+1)),disabled:d===y,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]})})}function Up({template:t,onBack:s,onCustomize:a}){var N,f;const[r,n]=j.useState({templateId:t.id,filters:[{id:"time_period",name:"Time Period",type:"date_range",value:"this_month"},{id:"location",name:"Location",type:"multi_select",value:["all"]}],groupBy:((N=t.selectedDimensions)==null?void 0:N[0])||t.defaultGroupBy,selectedMetrics:t.selectedMetrics||t.defaultMetrics,chartTypes:{},timeframe:"day",location:["all"],customizations:{}}),[i,o]=j.useState(null),[m,u]=j.useState(!0);j.useEffect(()=>{n(x=>{var v;return{...x,groupBy:((v=t.selectedDimensions)==null?void 0:v[0])||t.defaultGroupBy,selectedMetrics:t.selectedMetrics||t.defaultMetrics}})},[t.selectedMetrics,t.selectedDimensions,t.defaultMetrics,t.defaultGroupBy]),j.useEffect(()=>{console.log("ReportCanvas: Generating data for template",t.id,t),u(!0),setTimeout(()=>{try{const x=mj(t.id,t);console.log("ReportCanvas: Generated mock data",x),o(x),u(!1)}catch(x){console.error("ReportCanvas: Error generating mock data",x),o(null),u(!1)}},10)},[t,r.filters]);const l=(x,v)=>{n(C=>({...C,filters:C.filters.map(T=>T.id===x?{...T,value:v}:T)}))},c=x=>{n(v=>({...v,groupBy:x}))},d=x=>{n(v=>({...v,selectedMetrics:x}))};if(m)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading report..."}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Template: ",t.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Grain: ",t.grain]})]})});if(!i)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Failed to load report data"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Template: ",t.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Grain: ",t.grain]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Metrics: ",(f=t.defaultMetrics)==null?void 0:f.join(", ")]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Group By: ",t.defaultGroupBy]})]})});const p=ac[t.grain],h=uj(i);r.selectedMetrics.map(x=>{const v=p.metrics.find(T=>T.id===x),C=h[x];return{id:x,name:(v==null?void 0:v.name)||x,value:(C==null?void 0:C.total)||0,previousValue:C!=null&&C.total?C.total*.9:void 0,change:C!=null&&C.total?C.total*.1:void 0,changePercent:Math.random()*20-10,format:(v==null?void 0:v.type)||"number"}});const g=t.selectedDimensions||(r.groupBy?[r.groupBy]:[]);console.log("ReportCanvas: Table column generation",{selectedDimensions:g,selectedMetrics:r.selectedMetrics,templateSelectedDimensions:t.selectedDimensions,templateSelectedMetrics:t.selectedMetrics});const y=[...g.map(x=>{const v=p.dimensions.find(C=>C.id===x);return{id:x,name:(v==null?void 0:v.name)||x.replace("_"," "),type:"string",sortable:!0}}),...r.selectedMetrics.map(x=>{const v=p.metrics.find(C=>C.id===x);return{id:x,name:(v==null?void 0:v.name)||x.replace("_"," "),type:(v==null?void 0:v.type)||"number",sortable:!0}})];return console.log("ReportCanvas: Generated table columns",y),e.jsx("div",{className:"min-h-screen bg-gray-50",children:t.blocks.filter(x=>x.visible).sort((x,v)=>x.order-v.order).map(x=>{switch(x.type){case"header":return e.jsx(rj,{config:x.config.header,reportData:i,reportType:t.type,reportGrain:t.grain,onBack:s,onCustomize:a,onExport:()=>console.log("Export"),onPrint:()=>console.log("Print"),onShare:()=>console.log("Share"),onSave:()=>console.log("Save")},x.id);case"controls":return e.jsx(nj,{config:x.config.controls,filters:r.filters,groupBy:r.groupBy,selectedMetrics:r.selectedMetrics,onFilterChange:l,onGroupByChange:c,onMetricsChange:d},x.id);case"metrics":return null;case"visualization":return e.jsx(ij,{config:x.config.visualization,data:i.data},x.id);case"table":return e.jsx(pj,{config:x.config.table,columns:y,data:i.data,grain:t.grain,groupByColumn:r.groupBy},x.id);default:return null}})})}function xj({blocks:t,data:s}){const a=t.filter(l=>l.type==="kpi");if(a.length===0)return null;const r=(l,c)=>{switch(c){case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);case"percentage":return`${l.toFixed(1)}%`;case"number":default:return new Intl.NumberFormat("en-US").format(l)}},n=(l,c)=>{switch(c){case"currency":return Math.random()*1e4+1e3;case"percentage":return Math.random()*20+5;case"number":default:return Math.random()*100+10}},i=()=>{const l=["up","down","neutral"];return l[Math.floor(Math.random()*l.length)]},o=l=>{switch(l){case"up":return e.jsx(oe,{className:"h-4 w-4 text-green-600"});case"down":return e.jsx(Ct,{className:"h-4 w-4 text-red-600"});default:return e.jsx(Ay,{className:"h-4 w-4 text-gray-600"})}},m=l=>{switch(l){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},u=a.flatMap(l=>l.config.generatedKPIs||[]);return u.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-2",children:u.map(l=>{const c=n(l.metric,l.format),d=i(),p=Math.random()*10+1;return e.jsxs("div",{className:"flex-shrink-0 bg-white rounded-lg border border-gray-200 p-4 min-w-[200px] hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:l.title}),e.jsx("div",{className:"flex items-center gap-1",children:o(d)})]}),e.jsx("div",{className:"mb-1",children:e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r(c,l.format)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-600 truncate flex-1 mr-2",children:l.description}),e.jsx("div",{className:`flex items-center gap-1 text-xs ${m(d)}`,children:e.jsxs("span",{children:[p.toFixed(1),"%"]})})]})]},l.id)})}),u.length>3&&e.jsx("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scroll horizontally to see more cards "})]})}function Gd(){console.log("CustomReportBuilderPage: Component loaded");const t=Z(),[s]=vp(),[a,r]=j.useState(()=>{var x;const c=s.get("template");let d={};if(c)try{const v=localStorage.getItem("selectedTemplate");v&&(d=JSON.parse(v),console.log("CustomReportBuilder: Loaded template data from localStorage",d))}catch(v){console.error("CustomReportBuilder: Error parsing template data",v),d={}}if(d&&Object.keys(d).length>0&&d.grain)return console.log("CustomReportBuilder: Initializing from template data",d),{reportName:d.name||"",description:d.description||"",selectedGrains:[d.grain],primaryGrain:d.grain,selectedMetrics:d.selectedMetrics||[],selectedDimensions:d.selectedDimensions||[],filters:[{id:"time_period",dimension:"date_range",operator:"between",value:{from:"2024-01-01",to:"2024-01-31"},label:"Last 30 days"}],blocks:d.blocks||[{id:"default_chart",type:"chart",title:"Chart",config:{chartType:"bar",metrics:d.selectedMetrics||[],dimensions:d.selectedDimensions||[],showLegend:!0,height:400},order:1},{id:"default_table",type:"table",title:"Data Table",config:{metrics:d.selectedMetrics||[],dimensions:d.selectedDimensions||[],showSummary:!0,pageSize:25,sortable:!0,tableType:"flat"},order:2}],joinType:"inner"};const p=s.get("grain"),h=((x=s.get("metrics"))==null?void 0:x.split(",").filter(v=>v.trim()))||[],g=s.get("groupBy"),y=s.get("name")||"";console.log("CustomReportBuilder: Initializing from URL params",{grain:p,metrics:h,groupBy:g,name:y});let N=h,f=g?[g]:[];if(p&&h.length===0)switch(p){case"orders":N=["gross_sales","transaction_count"],f=f.length>0?f:["location"];break;case"items":N=["item_sales","units_sold"],f=f.length>0?f:["item_name"];break;case"customers":N=["amount_spend","new_visit_count"],f=f.length>0?f:["customer_type"];break;case"payments":N=["total_collected","no_of_payments"],f=f.length>0?f:["payment_method"];break;case"employees":N=["gross_sales","transaction_count"],f=f.length>0?f:["employee_name"];break;case"discounts":N=["amount_discounted","discounts_applied"],f=f.length>0?f:["discount_name"];break;case"modifiers":N=["modifier_gross_sales","modifier_qty_sold"],f=f.length>0?f:["modifier_name"];break}return{reportName:y,description:"",selectedGrains:p?[p]:[],primaryGrain:p,selectedMetrics:N,selectedDimensions:f,filters:[{id:"time_period",dimension:"date_range",operator:"between",value:{from:"2024-01-01",to:"2024-01-31"},label:"Last 30 days"}],blocks:[{id:"default_chart",type:"chart",title:"Chart",config:{chartType:"bar",metrics:N,dimensions:f,showLegend:!0,height:400},order:1},{id:"default_table",type:"table",title:"Data Table",config:{metrics:N,dimensions:f,showSummary:!0,pageSize:25,sortable:!0,tableType:"flat"},order:2}],joinType:"inner"}}),[n,i]=j.useState(null),o=c=>{r(d=>({...d,...c}))};j.useEffect(()=>{a.primaryGrain&&(a.selectedMetrics.length>0||a.selectedDimensions.length>0)&&r(c=>({...c,blocks:c.blocks.map(d=>d.id==="default_chart"?{...d,config:{...d.config,metrics:c.selectedMetrics,dimensions:c.selectedDimensions}}:d.id==="default_table"?{...d,config:{...d.config,metrics:c.selectedMetrics,dimensions:c.selectedDimensions}}:d)}))},[a.selectedMetrics,a.selectedDimensions]);const m=c=>{const d=Vn.find(p=>p.id===c);d&&r(p=>({...p,selectedGrains:[c],primaryGrain:c,selectedMetrics:[],selectedDimensions:[],reportName:p.reportName||`${d.name} Analysis`}))};j.useEffect(()=>{if(console.log("CustomReportBuilder: Preview effect triggered",{selectedGrains:a.selectedGrains,primaryGrain:a.primaryGrain,selectedMetrics:a.selectedMetrics,groupBy:a.groupBy,blocks:a.blocks}),a.primaryGrain&&a.blocks&&a.blocks.length>0){const c=[...a.blocks.map((p,h)=>{var g;switch(p.type){case"chart":const y=p.config;return{id:`chart-${p.id}`,type:"visualization",config:{visualization:{type:"single",charts:[{id:p.id,type:y.chartType||"bar",title:p.title,groupBy:((g=y.dimensions)==null?void 0:g[0])||null,metrics:y.metrics||[],size:"large"}],height:y.height||400,showLegend:y.showLegend!==!1,showTooltips:!0}},visible:!0,order:h+1};case"widgets":return{id:`metrics-${p.id}`,type:"metrics",config:{metrics:{layout:"grid",showTrends:!0,showComparisons:!1}},visible:!0,order:h+2};case"kpi":return{id:`kpi-${p.id}`,type:"metrics",config:{metrics:{layout:"grid",showTrends:!0,showComparisons:!1}},visible:!0,order:h+2};case"table":const N=p.config;return{id:`table-${p.id}`,type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:N.sortable!==!1,filterable:!1,exportable:!0,pagination:!0,pageSize:N.pageSize||25,showSummaryRow:N.showSummary!==!1}},visible:!0,order:h+1};default:return null}}).filter(Boolean)],d={id:"custom-preview",name:a.reportName||"Custom Report",description:a.description||"Custom report preview",type:"analysis",grain:a.primaryGrain,defaultGroupBy:a.selectedDimensions[0]||null,defaultMetrics:a.selectedMetrics,selectedMetrics:a.selectedMetrics,selectedDimensions:a.selectedDimensions,category:"custom",blocks:c};console.log("CustomReportBuilder: Generated template",d),i(d)}else i(null)},[a]);const u=Vn.find(c=>c.id===a.primaryGrain),l=()=>{var h,g;if(!((h=a.reportName)!=null&&h.trim())){alert("Please enter a report name before saving.");return}if(a.selectedMetrics.length===0){alert("Please select at least one metric before saving.");return}const c={id:`custom-${Date.now()}`,name:a.reportName.trim(),description:((g=a.description)==null?void 0:g.trim())||`Custom analysis of ${a.selectedGrains.join(", ")} data`,grains:a.selectedGrains,metrics:a.selectedMetrics,dimensions:a.selectedDimensions,filters:a.filters,blocks:a.blocks,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),type:"custom"},p=[...JSON.parse(localStorage.getItem("customSavedReports")||"[]"),c];localStorage.setItem("customSavedReports",JSON.stringify(p)),console.log("Report saved successfully:",c),alert(`Report "${c.name}" saved successfully!`),t("/financial-suite/custom-reports")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/financial-suite/custom-reports/create"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(zt,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Build Custom Report"}),e.jsx("p",{className:"text-gray-600",children:"Configure your report settings and see a live preview"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>t("/financial-suite/custom-reports/create"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(je,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Bt,{className:"h-4 w-4"}),"Preview"]}),e.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Dp,{className:"h-4 w-4"}),"Save Report"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Name"}),e.jsx("input",{type:"text",value:a.reportName,onChange:c=>o({reportName:c.target.value}),placeholder:"Enter report name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:c=>o({description:c.target.value}),placeholder:"Describe what this report shows...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsx(xj,{blocks:a.blocks,data:n}),e.jsx(Up,{template:n})]}):e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Bt,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configure Your Report"}),e.jsx("p",{className:"text-gray-600",children:"Select metrics and dimensions from the right panel to see a live preview"})]})]})}),e.jsx("div",{className:"col-span-4",children:e.jsx(sj,{reportState:a,updateReportState:o,selectedGrain:u,onGrainChange:m,onStartOver:()=>t("/financial-suite/custom-reports/create")})})]})})]})}function hj(){const t=Z(),{scenarioGroups:s,selectedGroup:a,setSelectedGroup:r,setSelectedScenario:n}=Sr(),[i,o]=j.useState("invoices"),m=l=>{r(l),n(null)};(a==null?void 0:a.id)==="appointments-deposits"||(a==null||a.id);const u=()=>{if(!a)return[];if(a.id==="appointments-deposits"||a.id==="invoices-deposits"){const l=s.find(d=>d.id==="appointments-deposits"),c=s.find(d=>d.id==="invoices-deposits");if(i==="appointments"&&l)return l.scenarios;if(i==="invoices"&&c)return c.scenarios}return a.scenarios};return e.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 h-full overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"h-8 w-8 p-0",children:e.jsx(ja,{className:"h-4 w-4"})}),e.jsx("h2",{className:"font-semibold text-gray-900",children:"Deferred Sales"})]})}),e.jsx("div",{className:"p-2",children:s.filter(l=>l.id!=="invoices-deposits").map(l=>e.jsxs("div",{className:"mb-1",children:[e.jsx("button",{onClick:()=>m(l),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${(a==null?void 0:a.id)===l.id||l.id==="appointments-deposits"&&(a==null?void 0:a.id)==="invoices-deposits"?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:l.id==="appointments-deposits"?"Tracking Partial payments/Deposits":l.title}),e.jsx(we,{className:"h-4 w-4 text-gray-400"})]})}),((a==null?void 0:a.id)===l.id||l.id==="appointments-deposits"&&(a==null?void 0:a.id)==="invoices-deposits")&&l.id==="appointments-deposits"&&e.jsx("div",{className:"ml-4 mt-2 mb-2",children:e.jsx("div",{className:"flex bg-gray-200 rounded-md p-1",children:e.jsx("button",{onClick:()=>{o("invoices");const c=s.find(d=>d.id==="invoices-deposits");c&&r(c)},className:"w-full px-2 py-1 text-xs rounded transition-colors bg-white text-gray-900 shadow-sm",children:"Invoices/Appointments"})})}),((a==null?void 0:a.id)===l.id||l.id==="appointments-deposits"&&(a==null?void 0:a.id)==="invoices-deposits")&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:u().map(c=>e.jsx("button",{onClick:()=>n(c),className:"w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors text-gray-600 hover:bg-gray-100",children:c.title},c.id))})]},l.id))})]})}function gj(){const{selectedScenario:t,dateRange:s,setDateRange:a}=Sr(),[r,n]=j.useState(!1),i=()=>{const l=s.start,c=s.end,d=l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),p=c.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"});return`${d}  ${p}`},o=l=>{const c=s.start,d=s.end,p=Math.ceil((d.getTime()-c.getTime())/(1e3*60*60*24)),h=new Date(c),g=new Date(d);l==="prev"?(h.setDate(h.getDate()-p-1),g.setDate(g.getDate()-p-1)):(h.setDate(h.getDate()+p+1),g.setDate(g.getDate()+p+1)),a({start:h,end:g})},m=l=>{let c,d;switch(l){case"july5":c=new Date(2025,6,5),d=new Date(2025,6,5);break;case"july10":c=new Date(2025,6,10),d=new Date(2025,6,10);break;case"july5-15":c=new Date(2025,6,5),d=new Date(2025,6,15);break;default:c=new Date(2025,6,29),d=new Date(2025,6,30)}a({start:c,end:d}),n(!1)},u=t?t.title:"Deferred Sales";return e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:u}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>o("prev"),className:"h-8 w-8 p-0",children:e.jsx(zt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 rounded-md cursor-pointer hover:bg-gray-100",onClick:()=>n(!r),children:[e.jsx(rt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i()})]}),r&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-10 min-w-48",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Quick Select"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("button",{onClick:()=>m("july5"),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded",children:"July 5, 2025 (Deposit Day)"}),e.jsx("button",{onClick:()=>m("july10"),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded",children:"July 10, 2025 (Remaining Payment)"}),e.jsx("button",{onClick:()=>m("july5-15"),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded",children:"July 5-15, 2025 (Full Cycle)"}),e.jsx("button",{onClick:()=>m("default"),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded",children:"July 29-30, 2025 (Default)"})]})]})})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>o("next"),className:"h-8 w-8 p-0",children:e.jsx(Cr,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Beta"}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(ui,{className:"h-4 w-4"})})]})]}),r&&e.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>n(!1)})]})}function Vd(){const{selectedScenario:t,dateRange:s,getScenarioDataForDate:a}=Sr(),[r,n]=j.useState("Summary"),i=t?a(t,s):null,o=m=>{n(m)};return e.jsxs("div",{className:"h-full flex bg-gray-50",children:[e.jsx(hj,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(gj,{}),e.jsx(Gp,{onReportTypeChange:o}),i?e.jsx("div",{className:"flex-1 p-6",children:r==="Daily"?e.jsx(Wp,{scenario:i,dateRange:s}):e.jsx(Vp,{salesSections:i.salesSections,paymentSections:i.paymentSections})}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select a Scenario"}),e.jsx("p",{className:"text-gray-600",children:"Choose a deferred sales scenario from the navigation to view the sales summary."})]})})]})]})}function fj(){const t=Z(),s=()=>{t("/deferred-sales")};return e.jsxs("div",{className:"h-full bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ja,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"Orders & payments"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"08/06/2025"}),e.jsx(we,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All day"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All Payment Methods"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All Types"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"Complete"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All locations"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All Sources"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All Team Members"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"All Fees"})}),e.jsx("select",{className:"text-sm border border-gray-300 rounded px-3 py-1",children:e.jsx("option",{children:"Card #"})})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"text",placeholder:"Filter by card (last 4)",className:"text-sm border border-gray-300 rounded px-3 py-1 w-48"})}),e.jsx("button",{className:"text-sm border border-gray-300 rounded px-3 py-1 hover:bg-gray-50",children:"Send Receipt"})]})]})}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Aug 6, 2025"})}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1"}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:"COMPLETE TRANSACTION"}),e.jsx(Ye,{className:"w-4 h-4 ml-1 text-gray-400"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"$1,000.00"}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:"TOTAL COLLECTED"}),e.jsx(Ye,{className:"w-4 h-4 ml-1 text-gray-400"})]})]})]})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Wednesday, August 6, 2025"}),e.jsx("div",{className:"bg-blue-600 text-white rounded px-4 py-3 mb-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-4 bg-white bg-opacity-20 rounded text-xs flex items-center justify-center",children:""}),e.jsx("span",{className:"text-sm font-medium",children:"Invoice #000033: Invoice with deposit - Collected by Approve Test SL"})]})})})]})]})}),e.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"$1,000.00 Payment"}),e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Aug 6, 2025 1:20 pm"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:["Collected by: ",e.jsx("span",{className:"font-medium",children:"Approve Test at SL"})]}),e.jsxs("div",{children:["Source: ",e.jsx("span",{className:"font-medium",children:"Invoices"})]}),e.jsxs("div",{children:["Sale attributed to: ",e.jsx("span",{className:"font-medium text-blue-600",children:"Approve Test"})]}),e.jsxs("div",{children:["Paid by: ",e.jsx("span",{className:"font-medium",children:"Claire Tester"})]}),e.jsxs("div",{children:["Channel: ",e.jsx("span",{className:"font-medium",children:"Invoice Sales"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Message"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-semibold",children:"$1,000.00"}),e.jsx("div",{className:"text-sm text-gray-600",children:"$100.00  10"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Regular"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-200",children:[e.jsx("span",{className:"font-medium",children:"TOTAL"}),e.jsx("span",{className:"font-semibold",children:"$1,000.00"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Visa 1111"}),e.jsx("span",{className:"text-sm font-medium",children:"$900.00"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Aug 6, 2025 1:20 pm"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Receipt #BMIL"}),e.jsxs("div",{className:"flex justify-between items-center pt-3",children:[e.jsx("span",{className:"text-sm",children:"Visa 1111"}),e.jsx("span",{className:"text-sm font-medium",children:"$100.00"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Aug 6, 2025 1:17 pm"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Receipt #PogP"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Invoice payment"}),e.jsx("div",{className:"text-sm text-gray-600",children:"#000033 to Claire Tester"}),e.jsx("div",{className:"text-xs text-blue-600",children:"View Invoice"})]})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"$996.35 Transferred"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Fees: Square Invoice 3.50% + $0.15 ($3.65)"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Learn more about fees"})]})]})]})]})}function yj(){const t=Z(),s=()=>{t("/deferred-sales")};return e.jsxs("div",{className:"h-full bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-900",children:e.jsx(zt,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Orders & payments"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"08/06/2025"}),e.jsx(we,{className:"w-3 h-3 text-gray-400"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All day"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Payment Methods"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Types"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"Complete"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All locations"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Sources"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Team Members"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"All Fees"})}),e.jsx("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",children:e.jsx("option",{children:"Card #"})}),e.jsx("input",{type:"text",placeholder:"Filter by card (last 4)",className:"text-xs border border-gray-300 rounded px-2 py-1 w-32"})]})]})}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow h-full flex flex-col",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aug 6, 2025"})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:"1"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:"COMPLETE TRANSACTION"}),e.jsx(Ye,{className:"w-3 h-3 ml-1 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:"$1,000.00"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:"TOTAL COLLECTED"}),e.jsx(Ye,{className:"w-3 h-3 ml-1 text-gray-400"})]})]})]})}),e.jsxs("div",{className:"px-4 py-3 flex-1",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Wednesday, August 6, 2025"}),e.jsx("div",{className:"bg-blue-600 text-white rounded px-3 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-3 bg-white bg-opacity-20 rounded text-xs flex items-center justify-center",children:""}),e.jsx("span",{className:"text-xs font-medium",children:"Invoice #000033: Invoice with deposit - Collected by Approve Test SL"})]})})]})]})}),e.jsxs("div",{className:"w-72 bg-white border-l border-gray-200 p-4 flex-shrink-0",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"$1,000.00 Payment"}),e.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Aug 6, 2025 1:20 pm"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{children:["Collected by: ",e.jsx("span",{className:"font-medium",children:"Approve Test at SL"})]}),e.jsxs("div",{children:["Source: ",e.jsx("span",{className:"font-medium",children:"Invoices"})]}),e.jsxs("div",{children:["Sale attributed to: ",e.jsx("span",{className:"font-medium text-blue-600",children:"Approve Test"})]}),e.jsxs("div",{children:["Paid by: ",e.jsx("span",{className:"font-medium",children:"Claire Tester"})]}),e.jsxs("div",{children:["Channel: ",e.jsx("span",{className:"font-medium",children:"Invoice Sales"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Message"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-base font-semibold",children:"$1,000.00"}),e.jsx("div",{className:"text-xs text-gray-600",children:"$100.00  10"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Regular"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-200",children:[e.jsx("span",{className:"font-medium text-sm",children:"TOTAL"}),e.jsx("span",{className:"font-semibold text-sm",children:"$1,000.00"})]})}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium",children:"Visa 1111"}),e.jsx("span",{className:"text-xs font-medium",children:"$900.00"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Aug 6, 2025 1:20 pm"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Receipt #BMIL"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium",children:"Visa 1111"}),e.jsx("span",{className:"text-xs font-medium",children:"$100.00"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Aug 6, 2025 1:17 pm"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Receipt #PogP"})]})]}),e.jsx("div",{className:"mb-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-100 rounded flex items-center justify-center",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-xs",children:"Invoice payment"}),e.jsx("div",{className:"text-xs text-gray-600",children:"#000033 to Claire Tester"}),e.jsx("div",{className:"text-xs text-blue-600",children:"View Invoice"})]})]})}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 mb-1",children:"$996.35 Transferred"}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Fees: Square Invoice 3.50% + $0.15 ($3.65)"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Learn more about fees"})]})})]})]})]})}function vj(){return e.jsx(Bp,{})}const bj=[{id:"sales-summary-v3",name:"Sales Summary",description:"Enhanced sales summary with detailed breakdown and migration notice",category:"sales",icon:"",isDefault:!0,usageCount:245,hasCustomViews:!0},{id:"item-analysis",name:"Item Analysis",description:"Detailed breakdown of individual item performance",category:"sales",icon:"",usageCount:189,hasCustomViews:!0},{id:"sales-trends",name:"Sales Trends",description:"Track sales performance over time",category:"sales",icon:"",usageCount:156},{id:"category-performance",name:"Category Performance",description:"Sales performance by product categories",category:"sales",icon:"",usageCount:134},{id:"employee-performance",name:"Employee Performance",description:"Sales performance by team members",category:"sales",icon:"",usageCount:98},{id:"modifier-analysis",name:"Modifier Analysis",description:"Analysis of modifier sales and performance",category:"sales",icon:"",usageCount:67},{id:"order-analysis",name:"Order Analysis",description:"Detailed analysis of order patterns and performance",category:"sales",icon:"",usageCount:85},{id:"section-sales",name:"Section Sales",description:"Sales performance by restaurant sections",category:"sales",icon:"",usageCount:45},{id:"vendor-sales",name:"Vendor Sales",description:"Sales performance by vendor/supplier",category:"sales",icon:"",usageCount:32},{id:"gift-cards",name:"Gift Cards",description:"Gift card sales and redemption tracking",category:"sales",icon:"",usageCount:28},{id:"sales-taxes",name:"Sales Taxes",description:"Tax collection and reporting",category:"accounting",icon:"",usageCount:87},{id:"fees",name:"Fees",description:"Processing fees and charges breakdown",category:"accounting",icon:"",usageCount:65},{id:"service-charges",name:"Service Charges",description:"Automatic service charges and gratuities",category:"accounting",icon:"",usageCount:43},{id:"reconciliation",name:"Reconciliation",description:"Daily reconciliation and cash management",category:"accounting",icon:"",usageCount:156},{id:"payment-methods",name:"Payment Methods",description:"Breakdown of payment types and methods",category:"payments",icon:"",usageCount:198},{id:"transaction-status",name:"Transaction Status",description:"Status of all payment transactions",category:"payments",icon:"",usageCount:145},{id:"cash-reports",name:"Cash Reports",description:"Cash handling and drawer management",category:"payments",icon:"",usageCount:123},{id:"payment-analysis",name:"Payment Analysis",description:"Analysis of payment methods and transaction fees",category:"payments",icon:"",usageCount:125},{id:"discount-analysis",name:"Discount Analysis",description:"Analysis of discount usage and impact",category:"payments",icon:"",usageCount:89},{id:"comps",name:"Comps",description:"Complimentary items and void tracking",category:"payments",icon:"",usageCount:67},{id:"voids",name:"Voids",description:"Voided transactions and reasons",category:"payments",icon:"",usageCount:54},{id:"activity-log",name:"Activity Log",description:"System activity and user actions",category:"operations",icon:"",usageCount:76},{id:"labor-vs-sales",name:"Labor vs Sales",description:"Labor cost analysis against sales performance",category:"operations",icon:"",usageCount:134},{id:"kitchen-performance",name:"Kitchen Performance",description:"Kitchen efficiency and order fulfillment",category:"operations",icon:"",usageCount:98},{id:"team-performance",name:"Team Performance",description:"Overall team productivity metrics",category:"operations",icon:"",usageCount:87},{id:"customer-analysis",name:"Customer Analysis",description:"Analysis of customer behavior and spending patterns",category:"operations",icon:"",usageCount:78},{id:"future-bookings",name:"Future Bookings",description:"Upcoming reservations and bookings",category:"operations",icon:"",usageCount:45},{id:"traffic-sources",name:"Traffic & Sources",description:"Online traffic and customer acquisition",category:"online",icon:"",usageCount:67},{id:"purchase-funnel",name:"Purchase Funnel",description:"Online purchase conversion analysis",category:"online",icon:"",usageCount:43},{id:"cost-of-goods-sold",name:"Cost of Goods Sold",description:"COGS analysis and profit margins",category:"inventory",icon:"",usageCount:123},{id:"inventory-by-category",name:"Inventory by Category",description:"Inventory levels by product category",category:"inventory",icon:"",usageCount:98},{id:"projected-profit",name:"Projected Profit",description:"Profit projections based on current inventory",category:"inventory",icon:"",usageCount:76},{id:"inventory-sell-through",name:"Inventory Sell-Through",description:"Inventory turnover and sell-through rates",category:"inventory",icon:"",usageCount:65},{id:"aging-inventory",name:"Aging Inventory",description:"Inventory age analysis and waste tracking",category:"inventory",icon:"",usageCount:54},{id:"item-profitability",name:"Item Profitability",description:"Unit cost analysis and profit margins by item",category:"profitability",icon:"",usageCount:89},{id:"category-profitability",name:"Category Profitability",description:"Profitability analysis by product category",category:"profitability",icon:"",usageCount:76},{id:"prime-cost-analysis",name:"Prime Cost Analysis",description:"Combined food and labor cost analysis",category:"profitability",icon:"",usageCount:65}],zs=[{id:"sales",name:"Sales",description:"Revenue, transactions, and sales performance",icon:"",isVisible:!0,order:1,reportCount:9,color:"blue"},{id:"accounting",name:"Accounting",description:"Financial reporting and reconciliation",icon:"",isVisible:!0,order:2,reportCount:4,color:"green"},{id:"payments",name:"Payments",description:"Payment processing and transaction analysis",icon:"",isVisible:!0,order:3,reportCount:6,color:"purple"},{id:"operations",name:"Operations",description:"Operational efficiency and performance",icon:"",isVisible:!0,order:4,reportCount:5,color:"orange"},{id:"online",name:"Online",description:"Digital sales and online performance",icon:"",isVisible:!0,order:5,reportCount:2,color:"indigo"},{id:"inventory",name:"Inventory",description:"Stock management and cost analysis",icon:"",isVisible:!0,order:6,reportCount:5,color:"red"},{id:"profitability",name:"Profitability",description:"Cost analysis and profit margin reporting",icon:"",isVisible:!0,order:7,reportCount:3,color:"emerald"}],qi=[{id:"restaurant",name:"Full-Service Restaurant",description:"Sit-down restaurants with table service and kitchen operations",icon:"",categories:["sales","accounting","payments","operations","profitability"],recommendedReports:["sales-summary-v3","item-analysis","employee-performance","kitchen-performance","labor-vs-sales","section-sales","item-profitability","prime-cost-analysis"]},{id:"quick-service",name:"Quick Service Restaurant",description:"Fast food, fast casual, and counter service restaurants",icon:"",categories:["sales","operations","payments","accounting","profitability"],recommendedReports:["sales-summary-v3","sales-trends","item-analysis","modifier-sales","employee-performance","payment-methods","kitchen-performance","item-profitability"]},{id:"coffee-shop",name:"Coffee Shop & Cafe",description:"Coffee shops, cafes, and beverage-focused businesses",icon:"",categories:["sales","operations","payments","accounting"],recommendedReports:["sales-summary-v3","sales-trends","item-analysis","modifier-sales","employee-performance","payment-methods"]},{id:"bar-nightlife",name:"Bar & Nightlife",description:"Bars, pubs, nightclubs, and entertainment venues",icon:"",categories:["sales","operations","payments","accounting"],recommendedReports:["sales-summary-v3","sales-trends","item-analysis","employee-performance","section-sales","modifier-sales","comps"]},{id:"retail-store",name:"Retail Store",description:"Physical retail stores with inventory management",icon:"",categories:["sales","inventory","payments","accounting","profitability"],recommendedReports:["sales-summary-v3","item-analysis","category-performance","vendor-sales","inventory-by-category","cost-of-goods-sold","gift-cards","item-profitability","category-profitability"]},{id:"beauty-wellness",name:"Beauty & Wellness",description:"Salons, spas, fitness studios, and wellness services",icon:"",categories:["sales","operations","payments","accounting"],recommendedReports:["sales-summary-v3","employee-performance","service-charges","gift-cards","future-bookings","team-performance"]},{id:"food-truck",name:"Food Truck & Mobile",description:"Mobile food vendors and pop-up businesses",icon:"",categories:["sales","payments","accounting"],recommendedReports:["sales-summary-v3","sales-trends","item-analysis","payment-methods","modifier-sales","reconciliation"]},{id:"professional-services",name:"Professional Services",description:"Consulting, legal, medical, and other professional services",icon:"",categories:["sales","operations","payments","accounting"],recommendedReports:["sales-summary-v3","employee-performance","service-charges","future-bookings","team-performance","fees"]},{id:"multi-location",name:"Multi-Location Business",description:"Multiple locations, franchises, or enterprise operations",icon:"",categories:["sales","accounting","payments","operations","inventory","profitability"],recommendedReports:["sales-summary-v3","item-analysis","category-performance","employee-performance","reconciliation","inventory-by-category","labor-vs-sales","prime-cost-analysis"]},{id:"custom",name:"Custom Setup",description:"Choose your own categories and reports based on your specific needs",icon:"",categories:["sales","accounting","payments","operations","online","inventory","profitability"],recommendedReports:[]}],Ui="standardReportsPreferences",Wd="1.1";function jj(){const[t,s]=j.useState(bj),[a,r]=j.useState(zs),[n,i]=j.useState({categories:zs,pinnedReports:[],lastUsedReports:[],customizations:{}}),[o,m]=j.useState(""),[u,l]=j.useState(""),[c,d]=j.useState(!1);j.useEffect(()=>{localStorage.removeItem(Ui),r(zs);const k={version:Wd,categories:zs,pinnedReports:[],lastUsedReports:[],customizations:{}};i(k),localStorage.setItem(Ui,JSON.stringify(k)),d(!0)},[]);const p=k=>{const _={...n,...k,version:Wd};i(_),localStorage.setItem(Ui,JSON.stringify(_))},h=k=>{const _=a.map(R=>R.id===k?{...R,isVisible:!R.isVisible}:R);r(_),p({categories:_})},g=(k,_)=>{const R=Array.from(a),[F]=R.splice(k,1);R.splice(_,0,F);const V=R.map((ne,O)=>({...ne,order:O+1}));r(V),p({categories:V})},y=k=>{const _=n.pinnedReports.includes(k)?n.pinnedReports.filter(R=>R!==k):[...n.pinnedReports,k];p({pinnedReports:_})},N=k=>{const _=n.hiddenReports||[],R=_.includes(k)?_.filter(F=>F!==k):[..._,k];p({hiddenReports:R})},f=k=>{const _=qi.find(V=>V.id===k);if(!_)return;const R=a.map(V=>({...V,isVisible:_.categories.includes(V.id)})),F=_.recommendedReports;r(R),l(k),p({categories:R,pinnedReports:F,businessType:k})},x=()=>{r(zs),l(""),p({categories:zs,pinnedReports:[],businessType:"",customizations:{}})},v=k=>{const _=[k,...n.lastUsedReports.filter(R=>R!==k)].slice(0,10);p({lastUsedReports:_}),s(R=>R.map(F=>F.id===k?{...F,usageCount:(F.usageCount||0)+1,lastUsed:new Date}:F))},C=()=>{const k=n.hiddenReports||[];return t.filter(_=>{var ne;const R=o===""||_.name.toLowerCase().includes(o.toLowerCase())||_.description.toLowerCase().includes(o.toLowerCase()),F=((ne=a.find(O=>O.id===_.category))==null?void 0:ne.isVisible)!==!1,V=!k.includes(_.id);return R&&F&&V})};return{reports:t,categories:a,preferences:n,searchTerm:o,setSearchTerm:m,selectedBusinessType:u,businessTypePresets:qi,toggleCategoryVisibility:h,reorderCategories:g,toggleReportPin:y,toggleReportVisibility:N,applyBusinessTypePreset:f,resetToDefaults:x,trackReportUsage:v,getFilteredReports:C,getReportsByCategory:k=>C().filter(_=>_.category===k),getPinnedReports:()=>n.pinnedReports?t.filter(k=>n.pinnedReports.includes(k.id)):[],getRecentReports:()=>n.lastUsedReports?n.lastUsedReports.map(k=>t.find(_=>_.id===k)).filter(Boolean):[],getVisibleCategories:()=>a.filter(k=>k.isVisible!==!1).sort((k,_)=>(k.order||0)-(_.order||0)),getSuggestionsForBusinessType:()=>{if(!u)return{hiddenCategories:[],unpinnedRecommended:[]};const k=qi.find(F=>F.id===u);if(!k)return{hiddenCategories:[],unpinnedRecommended:[]};const _=a.filter(F=>!F.isVisible&&k.categories.includes(F.id)),R=k.recommendedReports.filter(F=>!n.pinnedReports.includes(F));return{hiddenCategories:_,unpinnedRecommended:R.map(F=>t.find(V=>V.id===F)).filter(Boolean)}},savePreferences:p}}function Nj({categories:t,reports:s,preferences:a,businessTypePresets:r,selectedBusinessType:n,onToggleVisibility:i,onToggleReportVisibility:o,onReorderCategories:m,onApplyPreset:u,onReset:l,onClose:c}){const[d,p]=j.useState("organize"),h=g=>{const y=t.find(N=>N.id===g);return(y==null?void 0:y.icon)||""};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(At,{className:"h-6 w-6 text-gray-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Customize Categories"})]}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(je,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>p("organize"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${d==="organize"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Organize Categories"}),e.jsx("button",{onClick:()=>p("presets"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${d==="presets"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Business Type Presets"})]}),e.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[d==="organize"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Show or hide individual reports by category. Changes are saved automatically."}),t.map(g=>{const y=s.filter(f=>f.category===g.id),N=a.hiddenReports||[];return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:g.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[y.length-N.filter(f=>y.some(x=>x.id===f)).length," of ",y.length," reports visible"]})]})]}),e.jsx("button",{onClick:()=>i(g.id),className:`p-2 rounded-lg transition-colors ${g.isVisible?"text-blue-600 hover:bg-blue-100":"text-gray-400 hover:bg-gray-200"}`,children:g.isVisible?e.jsx(Bt,{className:"h-5 w-5"}):e.jsx(Hl,{className:"h-5 w-5"})})]})}),g.isVisible&&e.jsx("div",{className:"divide-y divide-gray-100",children:y.map(f=>e.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:f.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f.name}),e.jsx("p",{className:"text-xs text-gray-500",children:f.description})]})]}),e.jsx("button",{onClick:()=>o(f.id),className:`p-1.5 rounded transition-colors ${N.includes(f.id)?"text-gray-400 hover:bg-gray-200":"text-green-600 hover:bg-green-100"}`,children:N.includes(f.id)?e.jsx(Hl,{className:"h-4 w-4"}):e.jsx(Bt,{className:"h-4 w-4"})})]})},f.id))})]},g.id)})]}),d==="presets"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Quick setup based on your business type. This will show/hide categories and pin recommended reports."}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map(g=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${n===g.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>u(g.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:g.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),e.jsx("div",{className:"flex flex-wrap gap-1",children:g.categories.map(y=>{var N;return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[e.jsx("span",{children:h(y)}),(N=t.find(f=>f.id===y))==null?void 0:N.name]},y)})})]}),n===g.id&&e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},g.id))})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(ec,{className:"h-4 w-4"}),"Reset to Defaults"]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:c,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})})]})]})})}function qd({report:t,isPinned:s,onTogglePin:a,onViewReport:r,onCustomizeReport:n}){var l;const[i,o]=j.useState(!1),m=c=>c>=1e3?`${(c/1e3).toFixed(1)}k`:c.toString(),u=c=>{if(!c)return"Never";const p=new Date().getTime()-c.getTime(),h=Math.floor(p/(1e3*60*60*24));return h===0?"Today":h===1?"Yesterday":h<7?`${h} days ago`:h<30?`${Math.floor(h/7)} weeks ago`:`${Math.floor(h/30)} months ago`};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"text-2xl",children:t.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description})]})]}),e.jsx("button",{onClick:()=>a(t.id),className:`p-1.5 rounded-lg transition-colors ${s?"text-yellow-500 hover:bg-yellow-50":"text-gray-400 hover:text-yellow-500 hover:bg-gray-50"}`,children:e.jsx(ga,{className:`h-4 w-4 ${s?"fill-current":""}`})})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),e.jsxs("span",{children:[m(t.usageCount||0)," uses"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:u(t.lastUsed)})]}),t.hasCustomViews&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(It,{className:"h-3 w-3"}),e.jsx("span",{children:"Custom views"})]})]}),t.hasCustomViews&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>o(!i),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:[i?"Hide views":"Show views"," (",((l=t.views)==null?void 0:l.length)||3,")"]}),i&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-3 w-3"}),"Default View"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"View"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded text-xs",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-3 w-3"}),"My View (Jan 15)"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"View"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded text-xs",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-3 w-3"}),'Team: "With Profit" (shared)']}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"View"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(t.id),className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View Report"}),e.jsxs("button",{onClick:()=>n(t.id),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center gap-1",children:[e.jsx(At,{className:"h-4 w-4"}),"Customize"]})]}),!t.hasCustomViews&&e.jsx("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{className:"w-full text-xs text-gray-500 hover:text-gray-700 py-1",children:"+ Save as Custom View"})})]})}function wj(){var F,V,ne;const{reports:t,searchTerm:s,setSearchTerm:a,selectedBusinessType:r,businessTypePresets:n,preferences:i,toggleCategoryVisibility:o,reorderCategories:m,toggleReportPin:u,toggleReportVisibility:l,applyBusinessTypePreset:c,resetToDefaults:d,trackReportUsage:p,getReportsByCategory:h,getPinnedReports:g,getRecentReports:y,getVisibleCategories:N,getSuggestionsForBusinessType:f}=jj(),[x,v]=j.useState(!1),[C,T]=j.useState("categories"),P=N(),w=g(),S=y(),b=f(),k=Z(),_=O=>{console.log("Navigating to report:",O),p(O),k(`/financial-suite/reports/${O}`)},R=O=>{console.log("Customizing report:",O)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Standard Reports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Pre-built reports for your business insights"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(At,{className:"h-4 w-4"}),"Customize Categories"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reports...",className:"pl-10 pr-4 py-2 w-80 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:O=>a(O.target.value)})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation(),T("categories")},className:`px-3 py-1 rounded text-sm font-medium transition-colors cursor-pointer ${C==="categories"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:"Categories"}),e.jsxs("button",{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation(),T("favorites")},className:`px-3 py-1 rounded text-sm font-medium transition-colors cursor-pointer ${C==="favorites"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[e.jsx(ga,{className:"h-4 w-4 inline mr-1"}),"Favorites (",w.length,")"]}),e.jsxs("button",{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation(),T("recent")},className:`px-3 py-1 rounded text-sm font-medium transition-colors cursor-pointer ${C==="recent"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[e.jsx(ye,{className:"h-4 w-4 inline mr-1"}),"Recent"]})]})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm",children:[e.jsx("span",{children:(F=n.find(O=>O.id===r))==null?void 0:F.icon}),e.jsxs("span",{children:[(V=n.find(O=>O.id===r))==null?void 0:V.name," Setup"]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(b.hiddenCategories.length>0||b.unpinnedRecommended.length>0)&&e.jsx("div",{className:"mb-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(la,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Suggestions for your business"}),b.hiddenCategories.length>0&&e.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:["Consider showing: ",b.hiddenCategories.map(O=>O.name).join(", ")]}),b.unpinnedRecommended.length>0&&e.jsxs("p",{className:"text-sm text-blue-800",children:["Popular reports for ",(ne=n.find(O=>O.id===r))==null?void 0:ne.name.toLowerCase(),": ",b.unpinnedRecommended.map(O=>O.name).join(", ")]})]})]})}),C==="categories"&&e.jsx("div",{children:P.length>0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(O=>h(O.id).map((I,L)=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>_(I.id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:I.icon}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-600 max-w-md",children:I.description})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:O.name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[I.usageCount||0," uses"]})]},I.id)))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No categories visible"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"All report categories are currently hidden. Show some categories to see your reports."}),e.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Show Categories"})]})}),C==="favorites"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Favorite Reports"}),e.jsx("p",{className:"text-gray-600",children:"Your pinned and most-used reports"})]}),w.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(O=>e.jsx(qd,{report:O,isPinned:!0,onTogglePin:u,onViewReport:_,onCustomizeReport:R},O.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ga,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No favorite reports yet"}),e.jsx("p",{className:"text-gray-600",children:"Click the star icon on any report to add it to your favorites"})]})]}),C==="recent"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Recent Reports"}),e.jsx("p",{className:"text-gray-600",children:"Reports you've used recently"})]}),S.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(O=>e.jsx(qd,{report:O,isPinned:w.some(Re=>Re.id===O.id),onTogglePin:u,onViewReport:_,onCustomizeReport:R},O.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No recent reports"}),e.jsx("p",{className:"text-gray-600",children:"Reports you view will appear here for quick access"})]})]})]}),x&&e.jsx(Nj,{categories:P,reports:t,preferences:i,businessTypePresets:n,selectedBusinessType:r,onToggleVisibility:o,onToggleReportVisibility:l,onReorderCategories:m,onApplyPreset:c,onReset:d,onClose:()=>v(!1)})]})}const Sj=[{id:"1",name:"Weekly Performance Dashboard",description:"Comprehensive weekly sales and performance metrics",type:"dashboard",status:"active",createdBy:"John Doe",createdAt:"2025-01-15",lastModified:"2025-01-20",lastRun:"2 hours ago",metrics:["gross_sales","net_sales","transaction_count","average_order_value"],dimensions:["location","order_created"],grain:"orders",filters:3,isShared:!0},{id:"2",name:"Product Category Analysis",description:"Deep dive into product category performance",type:"table",status:"active",createdBy:"Jane Smith",createdAt:"2025-01-10",lastModified:"2025-01-18",lastRun:"1 day ago",metrics:["item_sales","units_sold","profit_margin"],dimensions:["category","item_name"],grain:"items",filters:5,isShared:!1},{id:"3",name:"Customer Behavior Trends",description:"Analysis of customer purchasing patterns",type:"chart",status:"draft",createdBy:"Mike Johnson",createdAt:"2025-01-22",lastModified:"2025-01-25",metrics:["new_visit_count","repeat_visit_count","amount_spend"],dimensions:["customer_type","order_created"],grain:"customers",filters:2,isShared:!1},{id:"4",name:"Monthly Revenue Breakdown",description:"Detailed monthly revenue analysis with comparisons",type:"dashboard",status:"active",createdBy:"Sarah Wilson",createdAt:"2025-01-05",lastModified:"2025-01-23",lastRun:"3 hours ago",metrics:["gross_sales","net_sales","transaction_count"],dimensions:["order_created","channel"],grain:"orders",filters:4,isShared:!0},{id:"5",name:"Labor Cost Optimization",description:"Track labor costs, productivity metrics, and scheduling efficiency",type:"dashboard",status:"active",createdBy:"David Park",createdAt:"2025-01-12",lastModified:"2025-01-24",lastRun:"5 hours ago",metrics:["labor_cost","labor_cost_percentage","gross_sales"],dimensions:["location","employee"],grain:"orders",filters:6,isShared:!1},{id:"6",name:"Competitive Pricing Analysis",description:"Compare menu prices against local competitors",type:"table",status:"active",createdBy:"Alex Thompson",createdAt:"2025-01-08",lastModified:"2025-01-22",lastRun:"1 day ago",metrics:["item_sales","profit_margin_percentage","units_sold"],dimensions:["item_name","category"],grain:"items",filters:8,isShared:!0},{id:"7",name:"Inventory Turnover Report",description:"Monitor inventory levels, waste, and reorder points",type:"chart",status:"active",createdBy:"Lisa Chang",createdAt:"2025-01-14",lastModified:"2025-01-21",lastRun:"6 hours ago",metrics:["units_sold","item_sales","profit_margin"],dimensions:["item_name","category"],grain:"items",filters:4,isShared:!1},{id:"8",name:"Peak Hours Analysis",description:"Identify busy periods and optimize staffing",type:"chart",status:"draft",createdBy:"Carlos Martinez",createdAt:"2025-01-19",lastModified:"2025-01-25",metrics:["gross_sales","transaction_count","average_cover_count"],dimensions:["order_created","location"],grain:"orders",filters:3,isShared:!1},{id:"9",name:"Delivery Performance Metrics",description:"Track delivery times, driver performance, and customer satisfaction",type:"dashboard",status:"active",createdBy:"Emma Rodriguez",createdAt:"2025-01-11",lastModified:"2025-01-20",lastRun:"4 hours ago",metrics:["gross_sales","transaction_count","tip"],dimensions:["channel","employee"],grain:"orders",filters:5,isShared:!0},{id:"10",name:"Seasonal Menu Performance",description:"Analyze seasonal item popularity and profitability",type:"table",status:"active",createdBy:"Robert Kim",createdAt:"2025-01-06",lastModified:"2025-01-19",lastRun:"2 days ago",metrics:["item_sales","units_sold","profit_margin_percentage"],dimensions:["item_name","category"],grain:"items",filters:7,isShared:!1},{id:"11",name:"Payment Method Analysis",description:"Track payment preferences and processing costs",type:"chart",status:"active",createdBy:"Michelle Wu",createdAt:"2025-01-13",lastModified:"2025-01-24",lastRun:"8 hours ago",metrics:["total_collected","fees","payment_amount"],dimensions:["payment_method","location"],grain:"payments",filters:3,isShared:!1},{id:"12",name:"Customer Loyalty Insights",description:"Deep dive into loyalty program effectiveness and customer retention",type:"dashboard",status:"draft",createdBy:"James Wilson",createdAt:"2025-01-17",lastModified:"2025-01-25",metrics:["new_visit_count","repeat_visit_count","amount_spend"],dimensions:["customer_type","loyalty_visit"],grain:"customers",filters:4,isShared:!1}];function Ud(){const t=gp(),s=Z(),a=ba(),[r,n]=j.useState(null),[i,o]=j.useState(!0),m=t.reportId||t.id;if(j.useEffect(()=>{var c,d;if(!m){o(!1);return}if(a.pathname.includes("/custom-reports/view/")){let h=JSON.parse(localStorage.getItem("customSavedReports")||"[]").find(g=>g.id===m);if(h||(h=Sj.find(g=>g.id===m)),h){const g={id:h.id,name:h.name,description:h.description,type:"analysis",grain:h.grain||"orders",defaultGroupBy:((c=h.dimensions)==null?void 0:c[0])||null,defaultMetrics:h.metrics||[],selectedMetrics:h.metrics||[],selectedDimensions:h.dimensions||[],category:"custom",blocks:[{id:"header",type:"header",config:{header:{title:h.name,description:h.description,showDataFreshness:!0,showOptions:!0,options:["export","print"]}},visible:!0,order:1},{id:"controls",type:"controls",config:{controls:{primary:["time_period","location"],secondary:["group_by","metrics","filters"],showGroupBy:!0,showMetricSelector:!0}},visible:!0,order:2},{id:"chart-1",type:"visualization",config:{visualization:{type:"single",charts:[{id:"main-chart",type:"bar",title:h.name,groupBy:((d=h.dimensions)==null?void 0:d[0])||null,metrics:h.metrics||[],size:"large"}],height:400,showLegend:!0,showTooltips:!0}},visible:!0,order:3},{id:"table-1",type:"table",config:{table:{collapsible:!0,defaultCollapsed:!1,sortable:!0,filterable:!1,exportable:!0,pagination:!0,pageSize:25,showSummaryRow:!0}},visible:!0,order:4}]};n(g)}}else{const p=qp[m];p&&n(p)}o(!1)},[m,a.pathname]),i)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading report..."})]})});if(!m)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Report Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested report could not be found."}),e.jsx("button",{onClick:()=>s("/financial-suite/custom-reports"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Reports"})]})});if(!r){const l=a.pathname.includes("/custom-reports/view/");return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l?"Custom Report Not Found":"Report Template Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l?`The custom report "${m}" could not be found.`:`The report template for "${m}" is not available yet.`}),e.jsx("button",{onClick:()=>s(l?"/financial-suite/custom-reports":"/financial-suite/standard-reports"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:l?"Back to Custom Reports":"Back to Standard Reports"})]})})}const u=a.pathname.includes("/custom-reports/view/");return e.jsx(Up,{template:r,onBack:()=>s(u?"/financial-suite/custom-reports":"/financial-suite/standard-reports"),onCustomize:()=>{s(u?`/financial-suite/custom-reports/edit/${m}`:`/financial-suite/custom-reports/create?template=${m}`)}})}function Cj({grains:t,selectedGrain:s,onGrainSelect:a}){const r=(n,i)=>{const o={blue:i?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 hover:border-blue-300 hover:bg-blue-50",green:i?"bg-green-50 border-green-200 text-green-700":"border-gray-200 hover:border-green-300 hover:bg-green-50",purple:i?"bg-purple-50 border-purple-200 text-purple-700":"border-gray-200 hover:border-purple-300 hover:bg-purple-50",indigo:i?"bg-indigo-50 border-indigo-200 text-indigo-700":"border-gray-200 hover:border-indigo-300 hover:bg-indigo-50",orange:i?"bg-orange-50 border-orange-200 text-orange-700":"border-gray-200 hover:border-orange-300 hover:bg-orange-50",red:i?"bg-red-50 border-red-200 text-red-700":"border-gray-200 hover:border-red-300 hover:bg-red-50",yellow:i?"bg-yellow-50 border-yellow-200 text-yellow-700":"border-gray-200 hover:border-yellow-300 hover:bg-yellow-50"};return o[n]||o.blue};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Choose Your Data Source"}),e.jsx("p",{className:"text-gray-600",children:"What type of data do you want to analyze?"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(n=>{const i=s===n.id;return e.jsx("button",{onClick:()=>a(n.id),className:`p-4 rounded-lg border-2 transition-all text-left ${r(n.color,i)}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:n.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:n.description}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:[n.metrics.reduce((o,m)=>o+m.metrics.length,0)," metrics"]}),e.jsxs("span",{children:[n.dimensions.reduce((o,m)=>o+m.dimensions.length,0)," dimensions"]})]}),n.canJoinWith.length>0&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Can join with: ",n.canJoinWith.slice(0,2).join(", "),n.canJoinWith.length>2&&` +${n.canJoinWith.length-2} more`]})})]})]})},n.id)})}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-blue-500",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Not sure which to choose?"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Start with ",e.jsx("strong",{children:"Orders"})," for sales analysis, ",e.jsx("strong",{children:"Items"})," for product performance, or ",e.jsx("strong",{children:"Customers"})," for behavior insights. You can always join data sources later."]})]})]})})]})}function kj({value:t,onChange:s,onSubmit:a,suggestions:r}){const[n,i]=j.useState(!0),[o,m]=j.useState(!1),u=o?r:r.slice(0,3),l=p=>{p.preventDefault(),t.trim()&&a(t.trim())},c=p=>{s(p.text),a(p.text)},d=()=>{i(!0)};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-blue-50 to-purple-50 rounded-full mb-4",children:[e.jsx(ms,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"AI-Powered Report Builder"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"What do you want to analyze?"}),e.jsx("p",{className:"text-gray-600",children:"Describe your analysis in plain English, and we'll build the perfect report for you"})]}),e.jsx("form",{onSubmit:l,className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ze,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:t,onChange:p=>s(p.target.value),onFocus:d,placeholder:"e.g., Show me top selling items by category...",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"}),e.jsx("button",{type:"submit",disabled:!t.trim(),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(fr,{className:`h-5 w-5 ${t.trim()?"text-blue-600 hover:text-blue-700":"text-gray-400"}`})})]})}),n&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Popular Analysis Ideas:"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:u.map((p,h)=>e.jsxs("button",{onClick:()=>c(p),className:"flex items-center justify-between p-3 text-left border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors group",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:p.text}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p.description})]}),e.jsx(fr,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600"})]},h))}),r.length>3&&e.jsx("button",{onClick:()=>m(!o),className:"flex items-center justify-center gap-2 w-full mt-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Show less"}),e.jsx(di,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Show ",r.length-3," more ideas..."]}),e.jsx(we,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Example Prompts:"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsx("div",{children:' "Compare payment methods by total collected"'}),e.jsx("div",{children:' "Show employee performance with sales per hour"'}),e.jsx("div",{children:' "Analyze customer spending by loyalty status"'}),e.jsx("div",{children:' "Top modifiers by quantity sold"'})]})]})]})}function Pj(){console.log("CustomBuilderPage: Component loaded");const t=Z(),[s,a]=j.useState(""),[r]=j.useState(ej),n=m=>{const u=m.toLowerCase();for(const l of tj)if(l.pattern.test(u))return{grain:l.grain,metrics:l.metrics,groupBy:l.groupBy,filters:[],confidence:.8,explanation:`Detected ${l.grain} analysis with ${l.metrics.join(", ")} grouped by ${l.groupBy}`};return null},i=m=>{const u=n(m);if(u){const l=new URLSearchParams({grain:u.grain,metrics:u.metrics.join(","),groupBy:u.groupBy,name:m.charAt(0).toUpperCase()+m.slice(1)});t(`/financial-suite/custom-reports/builder?${l.toString()}`)}},o=m=>{const u=Vn.find(l=>l.id===m);if(u){const l=new URLSearchParams({grain:m,name:`${u.name} Analysis`});t(`/financial-suite/custom-reports/builder?${l.toString()}`)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/financial-suite/standard-reports"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(zt,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Custom Report"}),e.jsx("p",{className:"text-gray-600",children:"Build a custom report with your preferred metrics, filters, and visualizations"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Describe Your Report"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us what you want to analyze and we'll build it for you"})]}),e.jsx(kj,{value:s,onChange:a,onSubmit:i,suggestions:r})]}),e.jsxs("div",{className:"lg:hidden relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-3 py-1 bg-gray-50 text-gray-500 font-medium",children:"OR"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Choose Your Data Source"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Select what type of data you want to analyze"})]}),e.jsx(Cj,{grains:Vn,selectedGrain:null,onGrainSelect:o})]})]}),e.jsx("div",{className:"hidden lg:flex absolute left-1/2 top-0 bottom-0 items-center justify-center transform -translate-x-1/2",children:e.jsxs("div",{className:"flex flex-col items-center h-full justify-center",children:[e.jsx("div",{className:"w-px h-24 bg-gray-300"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 text-gray-500 text-sm font-medium rounded-full border shadow-sm",children:"OR"}),e.jsx("div",{className:"w-px h-24 bg-gray-300"})]})})]})})]})}function Tj(){const t=Z(),[s,a]=j.useState("competitive-landscape"),[r,n]=j.useState(!1),[i,o]=j.useState([{id:"marios-bistro",name:"Mario's Bistro",rating:4.8,avgPrice:"$22",distance:"0.3 mi",trend:"+15%",selected:!0},{id:"garden-cafe",name:"The Garden Caf",rating:4.6,avgPrice:"$19",distance:"0.7 mi",trend:"+8%",selected:!0},{id:"sunset-grill",name:"Sunset Grill",rating:4.3,avgPrice:"$16",distance:"1.2 mi",trend:"-3%",selected:!0}]),[m]=j.useState([{id:"pizza-palace",name:"Tony's Pizza Palace",rating:4.2,avgPrice:"$14",distance:"0.5 mi",trend:"+5%",selected:!1},{id:"steakhouse-prime",name:"Prime Steakhouse",rating:4.7,avgPrice:"$35",distance:"0.9 mi",trend:"+12%",selected:!1},{id:"taco-fiesta",name:"Taco Fiesta",rating:4.1,avgPrice:"$12",distance:"1.1 mi",trend:"+3%",selected:!1},{id:"sushi-zen",name:"Sushi Zen",rating:4.5,avgPrice:"$28",distance:"1.3 mi",trend:"+7%",selected:!1},{id:"burger-barn",name:"The Burger Barn",rating:4,avgPrice:"$15",distance:"1.5 mi",trend:"-1%",selected:!1},{id:"fine-dining-oak",name:"Oak Fine Dining",rating:4.9,avgPrice:"$45",distance:"0.8 mi",trend:"+18%",selected:!1}]),u=c=>{o(d=>d.map(p=>p.id===c?{...p,selected:!p.selected}:p))},l=c=>{o(d=>[...d,{...c,selected:!0}])};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Benchmarking"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Competitive intelligence and market analysis for your restaurant"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"PRO FEATURE"}),e.jsx("button",{onClick:()=>t("/financial-suite/upgrade"),className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Upgrade Now"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"competitive-landscape",label:" Competitive Landscape",description:"Market map & competitor profiles"},{id:"pricing-intelligence",label:" Pricing Intelligence",description:"Menu pricing analysis & optimization"},{id:"performance-benchmarks",label:" Performance Benchmarks",description:"Operational & financial metrics"},{id:"market-intelligence",label:" Market Intelligence",description:"Trends, insights & opportunities"}].map(c=>e.jsx("button",{onClick:()=>a(c.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===c.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:c.label}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:c.description})]})},c.id))})})}),e.jsxs("div",{className:"p-6",children:[s==="competitive-landscape"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Market Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Similar Restaurants"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"within 2-mile radius"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"#3"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your Market Rank"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"up from #5 last month"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"$42K"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Market Opportunity"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"untapped revenue potential"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Competitive Map"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View Full Map "})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Interactive Market Map"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"See all competitors plotted by location, pricing, and performance metrics"}),e.jsx("button",{onClick:()=>t("/financial-suite/upgrade"),className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Unlock Interactive Map"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Competitors"}),e.jsx("button",{onClick:()=>n(!0),className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Manage Competitors"})]}),e.jsx("div",{className:"space-y-4",children:[{name:"Mario's Bistro",rating:4.8,avgPrice:"$22",distance:"0.3 mi",trend:"+15%"},{name:"The Garden Caf",rating:4.6,avgPrice:"$19",distance:"0.7 mi",trend:"+8%"},{name:"Your Restaurant",rating:4.5,avgPrice:"$18",distance:"",trend:"+12%",isYou:!0},{name:"Sunset Grill",rating:4.3,avgPrice:"$16",distance:"1.2 mi",trend:"-3%"}].map((c,d)=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${c.isYou?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${c.isYou?"bg-blue-600":d===0?"bg-yellow-500":d===1?"bg-gray-400":"bg-orange-500"}`,children:d+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[c.distance,"   ",c.rating]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.avgPrice}),e.jsx("div",{className:`text-sm ${c.trend.startsWith("+")?"text-green-600":"text-red-600"}`,children:c.trend})]})]},d))})]})]}),s==="pricing-intelligence"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:"$18.50"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your Avg Entre"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-gray-600",children:"$16.80"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Market Average"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:"+10.1%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Price Premium"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-purple-600",children:"$2,400"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Revenue Opportunity"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu Price Matrix"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"Export Analysis "})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Detailed Menu Comparison"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Side-by-side pricing analysis of every menu item vs competitors"}),e.jsx("button",{onClick:()=>t("/financial-suite/upgrade"),className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Unlock Full Matrix"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Opportunities"}),e.jsx("div",{className:"space-y-4",children:[{category:"Appetizers",opportunity:"Underpriced by 8%",potential:"+$800/month",recommendation:"Consider increasing appetizer prices to match market average",severity:"medium"},{category:"Desserts",opportunity:"Premium positioning",potential:"+$400/month",recommendation:"Your dessert prices are 15% above market - maintain premium",severity:"low"},{category:"Wine Selection",opportunity:"Major gap detected",potential:"+$1,200/month",recommendation:"Competitors offer 20% more wine options at higher margins",severity:"high"}].map((c,d)=>e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${c.severity==="high"?"bg-red-50 border-red-400":c.severity==="medium"?"bg-yellow-50 border-yellow-400":"bg-green-50 border-green-400"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.category}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.recommendation})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-green-600",children:c.potential}),e.jsx("div",{className:"text-sm text-gray-500",children:c.opportunity})]})]})},d))})]})]}),s==="performance-benchmarks"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Scorecard"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{metric:"Service Speed",score:85,percentile:"85th",trend:"+5"},{metric:"Customer Satisfaction",score:82,percentile:"75th",trend:"+2"},{metric:"Operational Efficiency",score:71,percentile:"60th",trend:"-1"},{metric:"Digital Adoption",score:68,percentile:"55th",trend:"+8"}].map((c,d)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[c.score,"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:c.metric}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.percentile," percentile"]}),e.jsxs("div",{className:`text-xs mt-1 ${c.trend.startsWith("+")?"text-green-600":"text-red-600"}`,children:[c.trend," vs last month"]})]},d))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operational Metrics"}),e.jsx("div",{className:"space-y-4",children:[{label:"Average Service Time",value:"12 min",benchmark:"15 min",status:"good"},{label:"Table Turn Rate",value:"2.3/night",benchmark:"1.8/night",status:"excellent"},{label:"Order Accuracy",value:"94%",benchmark:"91%",status:"good"},{label:"Peak Wait Time",value:"18 min",benchmark:"25 min",status:"excellent"}].map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.label}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Industry avg: ",c.benchmark]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-gray-900",children:c.value}),e.jsx("div",{className:`text-xs ${c.status==="excellent"?"text-green-600":c.status==="good"?"text-blue-600":"text-yellow-600"}`,children:c.status==="excellent"?" Excellent":c.status==="good"?" Above Average":" Needs Work"})]})]},d))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Metrics"}),e.jsx("div",{className:"space-y-4",children:[{label:"Sales per Sq Ft",value:"$450",benchmark:"$380",status:"excellent"},{label:"Average Check Size",value:"$42",benchmark:"$38",status:"good"},{label:"Labor Cost %",value:"28%",benchmark:"32%",status:"excellent"},{label:"Food Cost %",value:"31%",benchmark:"30%",status:"average"}].map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.label}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Industry avg: ",c.benchmark]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-gray-900",children:c.value}),e.jsx("div",{className:`text-xs ${c.status==="excellent"?"text-green-600":c.status==="good"?"text-blue-600":"text-yellow-600"}`,children:c.status==="excellent"?" Excellent":c.status==="good"?" Above Average":" Needs Work"})]})]},d))})]})]})]}),s==="market-intelligence"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Market Trends"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{trend:"Plant-Based Options",growth:"+40%",adoption:"8/12 competitors",opportunity:"High",description:"Growing demand for vegetarian/vegan menu items"},{trend:"Delivery Integration",growth:"+25%",adoption:"10/12 competitors",opportunity:"Medium",description:"Third-party delivery partnerships expanding"},{trend:"Happy Hour Extensions",growth:"+15%",adoption:"6/12 competitors",opportunity:"High",description:"Extended happy hour times gaining popularity"}].map((c,d)=>e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:c.trend}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.opportunity==="High"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[c.opportunity," Opportunity"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-green-600 font-medium",children:[c.growth," growth"]}),e.jsx("span",{className:"text-gray-500",children:c.adoption})]})]},d))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Competitive Activity"}),e.jsx("div",{className:"space-y-4",children:[{competitor:"Mario's Bistro",activity:"Menu Update",description:"Added 3 new pasta dishes, increased appetizer prices by 12%",impact:"Medium",date:"2 days ago"},{competitor:"The Garden Caf",activity:"Promotion Launch",description:'Started "Wine Wednesday" - 50% off all wines',impact:"High",date:"1 week ago"},{competitor:"Sunset Grill",activity:"Hours Extension",description:"Extended weekend hours until 2 AM",impact:"Low",date:"2 weeks ago"}].map((c,d)=>e.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${c.impact==="High"?"bg-red-400":c.impact==="Medium"?"bg-yellow-400":"bg-green-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:c.competitor}),e.jsx("span",{className:"text-sm text-gray-500",children:c.date})]}),e.jsx("div",{className:"text-sm text-blue-600 font-medium mt-1",children:c.activity}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.description})]})]},d))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Strategic Recommendations"}),e.jsx("div",{className:"space-y-4",children:[{priority:"High",action:"Launch Plant-Based Menu Section",rationale:"Market demand growing 40% with only 67% competitor adoption",timeline:"2-4 weeks",impact:"$2,400/month potential"},{priority:"Medium",action:"Extend Happy Hour to 7 PM",rationale:"Only 50% of competitors offer extended hours",timeline:"1 week",impact:"$800/month potential"},{priority:"Low",action:"Review Appetizer Pricing",rationale:"Currently 8% below market average",timeline:"2 weeks",impact:"$600/month potential"}].map((c,d)=>e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${c.priority==="High"?"bg-red-50 border-red-400":c.priority==="Medium"?"bg-yellow-50 border-yellow-400":"bg-green-50 border-green-400"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.priority==="High"?"bg-red-100 text-red-800":c.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[c.priority," Priority"]}),e.jsx("span",{className:"text-sm text-gray-500",children:c.timeline})]}),e.jsx("h4",{className:"font-medium text-gray-900 mt-2",children:c.action}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.rationale})]}),e.jsx("div",{className:"text-right ml-4",children:e.jsx("div",{className:"font-bold text-green-600",children:c.impact})})]})},d))})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:" Manage Competitors"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:["Selected Competitors (",i.filter(c=>c.selected).length,")"]}),e.jsx("div",{className:"space-y-3",children:i.filter(c=>c.selected).map(c=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:c.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[c.distance,"   ",c.rating,"  ",c.avgPrice]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm font-medium ${c.trend.startsWith("+")?"text-green-600":"text-red-600"}`,children:c.trend}),e.jsx("button",{onClick:()=>u(c.id),className:"px-3 py-1 text-xs bg-red-100 text-red-700 hover:bg-red-200 rounded-md transition-colors",children:"Remove"})]})]},c.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Available Competitors"}),e.jsx("div",{className:"space-y-3",children:m.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold",children:c.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[c.distance,"   ",c.rating,"  ",c.avgPrice]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm font-medium ${c.trend.startsWith("+")?"text-green-600":"text-red-600"}`,children:c.trend}),e.jsx("button",{onClick:()=>l(c),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-md transition-colors",children:"Add"})]})]},c.id))})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:" Smart Suggestions"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Prime Steakhouse"})," - High-end competitor with 18% growth trend"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Sushi Zen"})," - Different cuisine but similar price point and customer base"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Oak Fine Dining"})," - Top performer in your area (4.9 rating)"]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsx("span",{children:"Filter by:"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Distance"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Price Range"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Rating"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cuisine Type"})]}),e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})}const _j=[{id:"template_1",reportId:"1",title:"Weekly Sales Performance Dashboard",description:"Comprehensive weekly sales analysis with key performance indicators, trends, and comparisons. Perfect for weekly business reviews.",category:"sales",tags:["sales","weekly","performance","kpi"],isPublic:!0,author:"Sarah Wilson",createdAt:"2025-01-20T10:00:00Z",usageCount:127,rating:4.8,reportConfig:{},preview:{metrics:["Gross Sales","Net Sales","Transaction Count","Average Order Value"],type:"dashboard",filters:3}},{id:"template_2",reportId:"2",title:"Product Category Deep Dive",description:"Analyze product category performance with detailed breakdowns, profit margins, and inventory insights.",category:"inventory",tags:["inventory","categories","profit","analysis"],isPublic:!0,author:"Mike Chen",createdAt:"2025-01-18T14:30:00Z",usageCount:89,rating:4.6,reportConfig:{},preview:{metrics:["Sales by Category","Units Sold","Profit Margin","Inventory Turnover"],type:"table",filters:5}},{id:"template_3",reportId:"3",title:"Customer Behavior Analytics",description:"Understand customer purchasing patterns, frequency, and lifetime value. Great for marketing and retention strategies.",category:"customer",tags:["customer","behavior","retention","marketing"],isPublic:!0,author:"Emma Rodriguez",createdAt:"2025-01-15T09:15:00Z",usageCount:156,rating:4.9,reportConfig:{},preview:{metrics:["Customer Frequency","Repeat Rate","Lifetime Value","Acquisition Cost"],type:"chart",filters:4}},{id:"template_4",reportId:"4",title:"Labor Cost Optimization",description:"Track labor costs, productivity metrics, and scheduling efficiency. Essential for managing labor expenses.",category:"labor",tags:["labor","costs","productivity","scheduling"],isPublic:!0,author:"David Park",createdAt:"2025-01-12T16:45:00Z",usageCount:73,rating:4.4,reportConfig:{},preview:{metrics:["Labor Cost %","Hours Worked","Productivity Score","Overtime Hours"],type:"dashboard",filters:6}},{id:"template_5",reportId:"5",title:"Competitive Benchmarking Suite",description:"Compare your performance against competitors with market positioning, pricing analysis, and opportunity identification.",category:"benchmarking",tags:["benchmarking","competitive","market","pricing"],isPublic:!0,author:"Alex Thompson",createdAt:"2025-01-10T11:20:00Z",usageCount:94,rating:4.7,reportConfig:{},preview:{metrics:["Market Position","Price Premium","Performance Score","Opportunity Value"],type:"dashboard",filters:8}},{id:"template_6",reportId:"6",title:"Financial Health Scorecard",description:"Monitor key financial metrics including cash flow, profitability, and cost ratios. Perfect for monthly financial reviews.",category:"financial",tags:["financial","profitability","cash-flow","ratios"],isPublic:!0,author:"Lisa Chang",createdAt:"2025-01-08T13:10:00Z",usageCount:112,rating:4.5,reportConfig:{},preview:{metrics:["Gross Margin","Cash Flow","Cost Ratios","ROI"],type:"dashboard",filters:4}}];function Rj(){const t=Z(),[s,a]=j.useState([]),[r,n]=j.useState(""),[i,o]=j.useState("all"),[m,u]=j.useState("popular");j.useEffect(()=>{const f=JSON.parse(localStorage.getItem("reportTemplates")||"[]"),x=[..._j,...f];a(x)},[]);const l=f=>{console.log("handleUseTemplate called with:",f);try{const x=c(f);console.log("Generated template config:",x),localStorage.setItem("selectedTemplate",JSON.stringify(x)),console.log("Stored template in localStorage");const v="/financial-suite/custom-reports/builder?template="+f.id;console.log("Navigating to:",v),window.location.href=v}catch(x){console.error("Error in handleUseTemplate:",x)}},c=f=>{const x={id:`template_${f.id}_${Date.now()}`,name:`${f.title} (Copy)`,description:f.description,templateId:f.id};switch(f.id){case"template_1":return{...x,grain:"orders",selectedMetrics:["total_sales","net_sales","order_count","average_order_value"],selectedDimensions:["time_period","location","service_mode"],blocks:[{id:"kpi-1",type:"kpi",config:{title:"Weekly Performance KPIs",metrics:["total_sales","order_count","average_order_value"]}},{id:"chart-1",type:"chart",config:{chartType:"line",primaryMetric:"total_sales",groupBy:"time_period"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]};case"template_2":return{...x,grain:"items",selectedMetrics:["quantity_sold","revenue_per_item","profit_margin","inventory_turnover"],selectedDimensions:["item_category","item_type","location"],blocks:[{id:"chart-1",type:"chart",config:{chartType:"bar",primaryMetric:"quantity_sold",groupBy:"item_category"}},{id:"chart-2",type:"chart",config:{chartType:"line",primaryMetric:"profit_margin",groupBy:"item_category"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]};case"template_3":return{...x,grain:"customers",selectedMetrics:["total_sales","visit_frequency","average_order_value","lifetime_value"],selectedDimensions:["customer_segment","acquisition_channel","loyalty_tier"],blocks:[{id:"kpi-1",type:"kpi",config:{title:"Customer Insights",metrics:["visit_frequency","average_order_value","lifetime_value"]}},{id:"chart-1",type:"chart",config:{chartType:"bar",primaryMetric:"total_sales",groupBy:"customer_segment"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]};case"template_4":return{...x,grain:"orders",selectedMetrics:["labor_cost","labor_hours","productivity_score","labor_percentage"],selectedDimensions:["time_period","location","shift_type"],blocks:[{id:"kpi-1",type:"kpi",config:{title:"Labor Efficiency Metrics",metrics:["labor_cost","productivity_score","labor_percentage"]}},{id:"chart-1",type:"chart",config:{chartType:"line",primaryMetric:"labor_cost",groupBy:"time_period"}},{id:"chart-2",type:"chart",config:{chartType:"bar",primaryMetric:"productivity_score",groupBy:"location"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]};case"template_5":return{...x,grain:"orders",selectedMetrics:["market_share","price_comparison","performance_score","competitive_index"],selectedDimensions:["competitor","market_segment","time_period"],blocks:[{id:"kpi-1",type:"kpi",config:{title:"Market Position",metrics:["market_share","performance_score","competitive_index"]}},{id:"chart-1",type:"chart",config:{chartType:"bar",primaryMetric:"price_comparison",groupBy:"competitor"}},{id:"chart-2",type:"chart",config:{chartType:"line",primaryMetric:"market_share",groupBy:"time_period"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]};case"template_6":return{...x,grain:"orders",selectedMetrics:["revenue","costs","profit_margin","cash_flow"],selectedDimensions:["time_period","cost_center","location"],blocks:[{id:"kpi-1",type:"kpi",config:{title:"Financial Health Overview",metrics:["revenue","profit_margin","cash_flow"]}},{id:"chart-1",type:"chart",config:{chartType:"line",primaryMetric:"profit_margin",groupBy:"time_period"}},{id:"chart-2",type:"chart",config:{chartType:"bar",primaryMetric:"costs",groupBy:"cost_center"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]};default:return{...x,grain:"orders",selectedMetrics:["total_sales","order_count","average_order_value"],selectedDimensions:["time_period","location"],blocks:[{id:"chart-1",type:"chart",config:{chartType:"bar",primaryMetric:"total_sales",groupBy:"time_period"}},{id:"table-1",type:"table",config:{showPagination:!0,sortable:!0}}]}}},d=f=>{console.log("Previewing template:",f)},h=[...s.filter(f=>{const x=f.title.toLowerCase().includes(r.toLowerCase())||f.description.toLowerCase().includes(r.toLowerCase())||f.tags.some(C=>C.toLowerCase().includes(r.toLowerCase())),v=i==="all"||f.category===i;return x&&v})].sort((f,x)=>{switch(m){case"popular":return x.usageCount-f.usageCount;case"rating":return x.rating-f.rating;case"newest":return new Date(x.createdAt).getTime()-new Date(f.createdAt).getTime();case"name":return f.title.localeCompare(x.title);default:return 0}}),g=f=>{switch(f){case"sales":return"";case"operations":return"";case"labor":return"";case"inventory":return"";case"customer":return"";case"financial":return"";case"benchmarking":return"";default:return""}},y=f=>{switch(f){case"sales":return"Sales & Revenue";case"operations":return"Operations";case"labor":return"Labor & Staffing";case"inventory":return"Inventory";case"customer":return"Customer Analytics";case"financial":return"Financial Analysis";case"benchmarking":return"Benchmarking";default:return"Other"}},N=f=>Array.from({length:5},(x,v)=>e.jsx(ga,{className:`h-4 w-4 ${v<Math.floor(f)?"text-yellow-400 fill-current":"text-gray-300"}`},v));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Template Gallery"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Discover and use community-created report templates"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t("/financial-suite/custom-reports"),className:"inline-flex items-center justify-center px-4 py-2 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" My Reports"}),e.jsx("button",{onClick:()=>t("/financial-suite/custom-reports/create"),className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Create New"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search templates...",value:r,onChange:f=>n(f.target.value),className:"pl-10 pr-4 py-2 w-80 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:i,onChange:f=>o(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"sales",children:"Sales & Revenue"}),e.jsx("option",{value:"operations",children:"Operations"}),e.jsx("option",{value:"labor",children:"Labor & Staffing"}),e.jsx("option",{value:"inventory",children:"Inventory"}),e.jsx("option",{value:"customer",children:"Customer Analytics"}),e.jsx("option",{value:"financial",children:"Financial Analysis"}),e.jsx("option",{value:"benchmarking",children:"Benchmarking"})]}),e.jsxs("select",{value:m,onChange:f=>u(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"name",children:"Name A-Z"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[h.length," templates found"]})]})})}),e.jsx("div",{className:"p-6",children:h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:r||i!=="all"?"Try adjusting your search or filter criteria":"Be the first to share a template with the community!"}),e.jsx("button",{onClick:()=>t("/financial-suite/custom-reports/create"),className:"inline-flex items-center justify-center px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Create Template"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(f=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:g(f.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight",children:f.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:y(f.category)}),f.usageCount>100&&e.jsxs("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full flex items-center",children:[e.jsx(oe,{className:"h-3 w-3 mr-1"}),"Popular"]}),f.rating>=4.8&&e.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full flex items-center",children:[e.jsx(Sf,{className:"h-3 w-3 mr-1"}),"Top Rated"]})]})]})]})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:f.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Metrics:"}),e.jsx("span",{className:"font-medium text-gray-900",children:f.preview.metrics.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:f.preview.type})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Filters:"}),e.jsx("span",{className:"font-medium text-gray-900",children:f.preview.filters})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[f.tags.slice(0,3).map((x,v)=>e.jsxs("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:["#",x]},v)),f.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["+",f.tags.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pr,{className:"h-4 w-4"}),e.jsx("span",{children:f.author})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx("span",{children:f.usageCount})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[N(f.rating),e.jsx("span",{className:"ml-1",children:f.rating})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>d(f),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md font-medium transition-colors",children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Preview"]}),e.jsxs("button",{onClick:()=>l(f),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Use Template"]})]})]},f.id))})})]})}const Hd=[{id:"1",name:"Weekly Sales Summary",reportType:"Sales Summary",frequency:"weekly",format:"pdf",email:"manager@business.com",isActive:!0,createdAt:"2024-11-20",lastRun:"2024-11-25",nextRun:"2024-12-02",status:"active"},{id:"2",name:"Monthly Reconciliation",reportType:"Reconciliation",frequency:"monthly",format:"csv",email:"accounting@business.com",isActive:!0,createdAt:"2024-11-15",lastRun:"2024-11-01",nextRun:"2024-12-01",status:"active"},{id:"3",name:"Daily Sales Export",reportType:"Sales Summary",frequency:"daily",format:"csv",email:"owner@business.com",isActive:!1,createdAt:"2024-11-10",lastRun:"2024-11-24",nextRun:"2024-11-26",status:"paused"}];function Mj(){const[t,s]=j.useState([]),[a,r]=j.useState(!1),[n,i]=j.useState(null),[o,m]=j.useState(""),[u,l]=j.useState("all"),[c,d]=j.useState("all"),[p,h]=j.useState("list");j.useEffect(()=>{const T=localStorage.getItem("scheduledExports");T?s(JSON.parse(T)):(s(Hd),localStorage.setItem("scheduledExports",JSON.stringify(Hd)))},[]);const g=T=>{s(T),localStorage.setItem("scheduledExports",JSON.stringify(T))},y=T=>{const P=t.map(w=>w.id===T?{...w,isActive:!w.isActive,status:w.isActive?"paused":"active"}:w);g(P)},N=T=>{const P=t.filter(w=>w.id!==T);g(P),x("Scheduled export deleted","success")},f=T=>{x(`Generating ${T.format.toUpperCase()} export...`,"info"),setTimeout(()=>{x(`${T.reportType} export sent to ${T.email}`,"success");const P=t.map(w=>w.id===T.id?{...w,lastRun:new Date().toISOString().split("T")[0]}:w);g(P)},2e3)},x=(T,P)=>{i({message:T,type:P}),setTimeout(()=>i(null),3e3)},v=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=t.filter(T=>{const P=T.name.toLowerCase().includes(o.toLowerCase())||T.reportType.toLowerCase().includes(o.toLowerCase())||T.email.toLowerCase().includes(o.toLowerCase()),w=u==="all"||T.status===u,S=c==="all"||T.frequency===c;return P&&w&&S});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scheduled Exports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Automatically export reports via email"})]}),e.jsxs(M,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"Schedule Export"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search exports by name, report type, or email...",value:o,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:u,onChange:T=>l(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"failed",children:"Failed"})]}),e.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Frequencies"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>h("list"),className:`px-3 py-2 ${p==="list"?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-800"}`,title:"List view",children:e.jsx(by,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>h("grid"),className:`px-3 py-2 border-l border-gray-300 ${p==="grid"?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-800"}`,title:"Grid view",children:e.jsx(Ko,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-gray-200 text-sm text-gray-600",children:[e.jsxs("span",{children:[C.length," of ",t.length," exports"]}),e.jsxs("span",{children:[C.filter(T=>T.status==="active").length," active"]}),e.jsxs("span",{children:[C.filter(T=>T.status==="paused").length," paused"]})]})]}),e.jsx("div",{className:p==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:C.map(T=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ds,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-4 w-4"}),T.frequency]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Sy,{className:"h-4 w-4"}),T.email]}),e.jsx("span",{className:"uppercase font-medium",children:T.format})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(T.status)}`,children:T.status}),e.jsxs("div",{className:"text-right text-sm text-gray-600",children:[e.jsxs("div",{children:["Next: ",new Date(T.nextRun).toLocaleDateString()]}),T.lastRun&&e.jsxs("div",{children:["Last: ",new Date(T.lastRun).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>f(T),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700",title:"Run now",children:e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(T.id),className:"h-8 w-8 p-0",title:T.isActive?"Pause":"Resume",children:T.isActive?e.jsx(Oy,{className:"h-4 w-4"}):e.jsx(Vy,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>N(T.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:e.jsx(oa,{className:"h-4 w-4"})})]})]})]})},T.id))}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scheduled exports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first scheduled export to automatically receive reports via email."}),e.jsxs(M,{onClick:()=>r(!0),children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Schedule Export"]})]}),t.length>0&&C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ze,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No exports match your filters"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or filters to find what you're looking for."}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>{m(""),l("all"),d("all")},children:"Clear Filters"}),e.jsxs(M,{onClick:()=>r(!0),children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Schedule Export"]})]})]}),a&&e.jsx(Dj,{onClose:()=>r(!1),onSave:T=>{const P={id:Date.now().toString(),...T,isActive:!0,createdAt:new Date().toISOString().split("T")[0],nextRun:new Date(Date.now()+864e5).toISOString().split("T")[0],status:"active"};g([...t,P]),r(!1),x("Scheduled export created successfully!","success")}}),n&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg max-w-sm ${n.type==="success"?"bg-green-50 border-green-200 text-green-800":n.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[e.jsx("span",{className:"flex-1 text-sm font-medium",children:n.message}),e.jsx("button",{onClick:()=>i(null),className:"p-1 hover:bg-white/20 rounded",children:""})]})]})}function Dj({onClose:t,onSave:s}){const[a,r]=j.useState({name:"",reportType:"Sales Summary",frequency:"weekly",format:"pdf",email:""}),n=i=>{i.preventDefault(),s(a)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Schedule Export"}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Name"}),e.jsx("input",{type:"text",value:a.name,onChange:i=>r({...a,name:i.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., Weekly Sales Report",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),e.jsxs("select",{value:a.reportType,onChange:i=>r({...a,reportType:i.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[e.jsxs("optgroup",{label:" Sales Reports",children:[e.jsx("option",{children:"Sales Summary"}),e.jsx("option",{children:"Sales by Category"}),e.jsx("option",{children:"Sales by Location"}),e.jsx("option",{children:"Sales Trends"}),e.jsx("option",{children:"Item Performance"})]}),e.jsxs("optgroup",{label:" Financial Reports",children:[e.jsx("option",{children:"Reconciliation"}),e.jsx("option",{children:"Cash Summary"}),e.jsx("option",{children:"Payment Methods"}),e.jsx("option",{children:"Tax Summary"}),e.jsx("option",{children:"Profit & Loss"})]}),e.jsxs("optgroup",{label:" Operations Reports",children:[e.jsx("option",{children:"Labor Summary"}),e.jsx("option",{children:"Service Performance"}),e.jsx("option",{children:"Void Analysis"}),e.jsx("option",{children:"Discount Analysis"}),e.jsx("option",{children:"Customer Analytics"})]}),e.jsxs("optgroup",{label:" Custom Reports",children:[e.jsx("option",{children:"Weekly Performance Dashboard"}),e.jsx("option",{children:"Monthly Business Review"}),e.jsx("option",{children:"Custom Report"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),e.jsxs("select",{value:a.frequency,onChange:i=>r({...a,frequency:i.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Format"}),e.jsxs("select",{value:a.format,onChange:i=>r({...a,format:i.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"csv",children:"CSV"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:a.email,onChange:i=>r({...a,email:i.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"manager@business.com",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),e.jsx(M,{type:"submit",className:"flex-1",children:"Schedule Export"})]})]})]})})}const pn=Array.from({length:30},(t,s)=>{const a=new Date;a.setDate(a.getDate()-(29-s));const r=["sunny","cloudy","rainy","stormy","snowy","foggy"],n=r[Math.floor(Math.random()*r.length)],i=65+Math.sin(s/30*Math.PI*2)*15,o=(Math.random()-.5)*20,m=Math.round(i+o);return{id:`weather_${s}`,date:a.toISOString().split("T")[0],temperature:m,condition:n,humidity:Math.round(40+Math.random()*40),windSpeed:Math.round(Math.random()*15),precipitation:n==="rainy"||n==="stormy"?Math.random()*2:0,uvIndex:Math.round(Math.random()*10),visibility:Math.round(8+Math.random()*2),description:Aj(n,m),icon:Ij(n)}});function Aj(t,s){const r={sunny:[`Bright and sunny, ${s}F`,"Clear skies, perfect weather","Beautiful sunny day"],cloudy:[`Overcast skies, ${s}F`,"Partly cloudy conditions","Cloudy but mild"],rainy:["Light rain showers","Steady rainfall expected","Rainy and cool"],stormy:["Thunderstorms likely","Severe weather warning","Heavy storms expected"],snowy:["Snow flurries","Winter weather advisory","Light snowfall"],foggy:["Dense fog conditions","Low visibility","Foggy morning clearing later"]}[t]||[`${s}F`];return r[Math.floor(Math.random()*r.length)]}function Ij(t){return{sunny:"",cloudy:"",rainy:"",stormy:"",snowy:"",foggy:""}[t]||""}const Ej=[{id:"event_1",title:"Downtown Food Festival",description:"Annual food festival featuring local restaurants and food trucks",date:new Date(Date.now()+2*24*60*60*1e3).toISOString().split("T")[0],startTime:"11:00",endTime:"21:00",location:"City Center Plaza",category:"festival",attendeeCount:15e3,distance:.3,impact:"high",source:"City Events"},{id:"event_2",title:"Local Basketball Game",description:"High school championship game",date:new Date(Date.now()+1*24*60*60*1e3).toISOString().split("T")[0],startTime:"19:00",endTime:"21:30",location:"Community Sports Center",category:"sports",attendeeCount:2500,distance:.8,impact:"medium",source:"Sports Calendar"},{id:"event_3",title:"Business Networking Conference",description:"Local business leaders networking event",date:new Date(Date.now()+3*24*60*60*1e3).toISOString().split("T")[0],startTime:"08:00",endTime:"17:00",location:"Convention Center",category:"business",attendeeCount:800,distance:1.2,impact:"medium",source:"Business Events"},{id:"event_4",title:"Summer Concert Series",description:"Outdoor concert in the park",date:new Date(Date.now()+5*24*60*60*1e3).toISOString().split("T")[0],startTime:"18:00",endTime:"22:00",location:"Riverside Park",category:"concert",attendeeCount:5e3,distance:.5,impact:"high",source:"Entertainment Weekly"},{id:"event_5",title:"Holiday Market",description:"Holiday shopping and crafts market",date:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],startTime:"10:00",endTime:"18:00",location:"Main Street",category:"holiday",attendeeCount:3e3,distance:.2,impact:"high",source:"Holiday Events"}],$j=[{condition:"sunny",avgSalesMultiplier:1.15,confidence:.87,sampleSize:45,insights:["Sunny weather increases outdoor dining by 25%","Beverage sales spike 30% on sunny days","Peak hours extend later into evening"]},{condition:"rainy",avgSalesMultiplier:.85,confidence:.92,sampleSize:38,insights:["Rainy weather reduces foot traffic by 20%","Delivery orders increase by 40%","Comfort food items see higher demand"]},{condition:"stormy",avgSalesMultiplier:.65,confidence:.95,sampleSize:12,insights:["Severe weather drastically reduces walk-ins","Staff scheduling should be reduced","Focus on delivery and takeout services"]},{condition:"cloudy",avgSalesMultiplier:.98,confidence:.78,sampleSize:52,insights:["Minimal impact on overall sales","Indoor seating preference increases","Normal operational patterns"]}],Oj=[{category:"festival",avgSalesMultiplier:1.45,confidence:.91,sampleSize:8,insights:["Food festivals drive significant foot traffic","Extended hours recommended","Stock up on popular items"]},{category:"sports",avgSalesMultiplier:1.25,confidence:.85,sampleSize:23,insights:["Sports events increase pre/post-game dining","Group reservations spike","Alcohol sales increase significantly"]},{category:"concert",avgSalesMultiplier:1.35,confidence:.88,sampleSize:15,insights:["Concert-goers dine before events","Late-night food service in demand","Younger demographic preferences"]},{category:"business",avgSalesMultiplier:1.2,confidence:.82,sampleSize:18,insights:["Business events drive lunch traffic","Higher average ticket prices","Professional atmosphere preferred"]}],Lj=[{id:"insight_1",type:"weather",title:"Sunny Weekend Forecast",description:"This weekend shows sunny skies with temperatures in the mid-70s, historically our best weather for outdoor dining.",impact:"positive",confidence:.87,actionable:!0,recommendations:["Increase outdoor seating capacity","Stock extra beverages and light menu items","Consider extending patio hours","Schedule additional patio staff"],data:{expectedIncrease:"15-20%",peakHours:"12:00-15:00, 18:00-21:00"},createdAt:new Date().toISOString()},{id:"insight_2",type:"event",title:"Downtown Food Festival Impact",description:"The upcoming food festival will bring 15,000+ people within 3 blocks of your location.",impact:"positive",confidence:.91,actionable:!0,recommendations:["Create special festival menu items","Increase staffing by 40%","Prepare for 2-3x normal weekend volume","Consider pre-orders or express menu"],data:{expectedIncrease:"45-60%",duration:"11:00-21:00"},createdAt:new Date().toISOString()},{id:"insight_3",type:"correlation",title:"Rain + Sports = Delivery Surge",description:"When local sports events coincide with rainy weather, delivery orders increase by 65%.",impact:"neutral",confidence:.94,actionable:!0,recommendations:["Ensure adequate delivery driver coverage","Promote delivery specials during games","Optimize kitchen for higher delivery volume","Consider game-watching promotions"],data:{pattern:"Rain + Sports Events",deliveryIncrease:"65%"},createdAt:new Date().toISOString()},{id:"insight_4",type:"forecast",title:"Stormy Weather Alert",description:"Severe thunderstorms expected Tuesday evening will likely reduce foot traffic by 35%.",impact:"negative",confidence:.89,actionable:!0,recommendations:["Reduce staff scheduling for Tuesday evening","Focus on delivery and takeout promotions","Prepare comfort food specials","Consider early closure if conditions worsen"],data:{expectedDecrease:"35%",timeframe:"Tuesday 17:00-22:00"},createdAt:new Date().toISOString()}],Fj=Array.from({length:7},(t,s)=>{var l;const a=new Date;a.setDate(a.getDate()+s);const r=a.toLocaleDateString("en-US",{weekday:"long"}),n=r==="Saturday"||r==="Sunday",i=n?8500:6200,o=.9+Math.random()*.3,m=Math.random()>.7?1.2:1,u=Math.round(i*o*m);return{date:a.toISOString().split("T")[0],predictedSales:u,confidence:.75+Math.random()*.2,factors:{weather:{condition:((l=pn[0])==null?void 0:l.condition)||"sunny",impact:o-1},events:{count:Math.floor(Math.random()*3),impact:m-1},historical:{dayOfWeek:r,seasonality:n?.15:-.05}},recommendations:[n?"Increase weekend staffing":"Standard weekday operations",o>1.1?"Prepare for weather boost":"Normal weather impact",m>1.1?"Event traffic expected":"No major events"]}}),zj=[{id:"comp_1",name:"Mario's Italian Bistro",distance:.4,priceRange:"$$-$$$",rating:4.6,reviewCount:342,popularTimes:{11:30,12:85,13:95,17:40,18:75,19:90,20:85,21:60},menuHighlights:["Handmade Pasta","Wood-fired Pizza","Wine Selection"],promotions:["Happy Hour 4-6pm","Wine Wednesday 50% off"],lastUpdated:new Date().toISOString()},{id:"comp_2",name:"The Local Pub & Grill",distance:.6,priceRange:"$-$$",rating:4.2,reviewCount:567,popularTimes:{11:25,12:70,13:80,17:60,18:85,19:95,20:90,21:75},menuHighlights:["Craft Burgers","Local Beers","Game Day Specials"],promotions:["Trivia Tuesday","Wing Wednesday $0.50 wings"],lastUpdated:new Date().toISOString()}],Bj=[{id:"trend_1",category:"Plant-Based Options",trend:"rising",changePercent:23,timeframe:"Last 6 months",description:"Demand for plant-based menu options continues to grow",source:"Restaurant Industry Report",relevance:.85},{id:"trend_2",category:"Delivery Services",trend:"stable",changePercent:2,timeframe:"Last 3 months",description:"Delivery demand has stabilized post-pandemic",source:"Food Service Analytics",relevance:.92},{id:"trend_3",category:"Local Sourcing",trend:"rising",changePercent:18,timeframe:"Last 12 months",description:"Consumers increasingly prefer locally-sourced ingredients",source:"Consumer Preference Study",relevance:.78}],Gj=[{id:"econ_1",name:"Local Employment Rate",value:96.2,change:.3,changePercent:.31,impact:"positive",description:"Employment rate increased, indicating stronger local economy",lastUpdated:new Date().toISOString()},{id:"econ_2",name:"Food Cost Index",value:108.5,change:2.1,changePercent:1.97,impact:"negative",description:"Food costs continue to rise, affecting restaurant margins",lastUpdated:new Date().toISOString()},{id:"econ_3",name:"Consumer Spending (Dining)",value:112.3,change:1.8,changePercent:1.63,impact:"positive",description:"Consumer dining spending shows healthy growth",lastUpdated:new Date().toISOString()}];function Vj(){const[t,s]=j.useState("overview"),[a,r]=j.useState(pn),[n,i]=j.useState(Ej),[o,m]=j.useState(Lj),[u,l]=j.useState(Fj),[c,d]=j.useState(zj),[p,h]=j.useState(Bj),[g,y]=j.useState(Gj),[N,f]=j.useState(new Date),x=a[a.length-1],v=n.filter(b=>new Date(b.date)>=new Date),C=o.filter(b=>b.impact!=="neutral"),T=()=>{f(new Date)},P=b=>{switch(b){case"positive":return"text-green-600 bg-green-50";case"negative":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},w=b=>{switch(b){case"positive":return e.jsx(oe,{className:"h-4 w-4"});case"negative":return e.jsx(Ct,{className:"h-4 w-4"});default:return e.jsx(Jo,{className:"h-4 w-4"})}},S=b=>{switch(b){case"rising":return e.jsx(oe,{className:"h-4 w-4 text-green-600"});case"falling":return e.jsx(Ct,{className:"h-4 w-4 text-red-600"});default:return e.jsx("div",{className:"h-4 w-4 bg-gray-400 rounded-full"})}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"External Data Integration"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Weather, events, and market data to enhance business insights"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",N.toLocaleTimeString()]}),e.jsxs(M,{onClick:T,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Refresh Data"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:Bt},{id:"weather",label:"Weather Impact",icon:_p},{id:"events",label:"Local Events",icon:rt},{id:"market",label:"Market Data",icon:oe},{id:"insights",label:"AI Insights",icon:_e}].map(b=>e.jsxs("button",{onClick:()=>s(b.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${t===b.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(b.icon,{className:"h-4 w-4"}),b.label]},b.id))})}),t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Current Weather"}),e.jsx("span",{className:"text-2xl",children:x==null?void 0:x.icon})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[x==null?void 0:x.temperature,"F"]}),e.jsx("div",{className:"text-sm text-gray-600 capitalize",children:x==null?void 0:x.condition}),e.jsx("div",{className:"text-xs text-gray-500",children:x==null?void 0:x.description})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Next Major Event"}),e.jsx(rt,{className:"h-5 w-5 text-blue-600"})]}),v[0]&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:v[0].title}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(v[0].date).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(It,{className:"h-3 w-3"}),v[0].attendeeCount.toLocaleString()," expected"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Today's Forecast"}),e.jsx(kt,{className:"h-5 w-5 text-green-600"})]}),u[0]&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",u[0].predictedSales.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(u[0].confidence*100),"% confidence"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Based on weather, events & historical data"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Critical Insights & Recommendations"}),e.jsx("div",{className:"space-y-4",children:C.slice(0,3).map(b=>e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border border-gray-100",children:[e.jsx("div",{className:`p-2 rounded-full ${P(b.impact)}`,children:w(b.impact)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:b.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Confidence: ",Math.round(b.confidence*100),"%"]}),b.actionable&&e.jsx("span",{className:"ml-3 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Actionable"})]})]})]},b.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming Events"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(b=>b.trend==="rising").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rising Trends"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tracked Competitors"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.filter(b=>b.actionable).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Actionable Insights"})]})]})]}),t==="weather"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Weather Impact on Sales"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:$j.map(b=>{var k;return e.jsxs("div",{className:"p-4 border border-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"capitalize font-medium",children:b.condition}),e.jsx("span",{className:"text-2xl",children:(k=pn.find(_=>_.condition===b.condition))==null?void 0:k.icon})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:`text-lg font-bold ${b.avgSalesMultiplier>1?"text-green-600":"text-red-600"}`,children:[b.avgSalesMultiplier>1?"+":"",Math.round((b.avgSalesMultiplier-1)*100),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(b.confidence*100),"% confidence"]})]})]},b.condition)})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"7-Day Business Forecast"}),e.jsx("div",{className:"space-y-4",children:u.slice(0,7).map((b,k)=>{var _;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-sm font-medium w-20",children:k===0?"Today":new Date(b.date).toLocaleDateString("en-US",{weekday:"short"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:(_=pn.find(R=>R.condition===b.factors.weather.condition))==null?void 0:_.icon}),e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:b.factors.weather.condition})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",b.predictedSales.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(b.confidence*100),"% confidence"]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${b.factors.weather.impact>.05?"bg-green-100 text-green-800":b.factors.weather.impact<-.05?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:b.factors.weather.impact>.05?"Weather Boost":b.factors.weather.impact<-.05?"Weather Impact":"Normal"})]})]},b.date)})})]})]}),t==="events"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Event Impact Analysis"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Oj.map(b=>e.jsxs("div",{className:"p-4 border border-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"capitalize font-medium",children:b.category}),e.jsx("span",{className:"text-lg",children:b.category==="sports"?"":b.category==="concert"?"":b.category==="festival"?"":""})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+",Math.round((b.avgSalesMultiplier-1)*100),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(b.confidence*100),"% confidence"]})]})]},b.category))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Upcoming Local Events"}),e.jsx("div",{className:"space-y-4",children:v.map(b=>e.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl",children:b.category==="sports"?"":b.category==="concert"?"":b.category==="festival"?"":b.category==="business"?"":""}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:b.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-3 w-3"}),new Date(b.date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-3 w-3"}),b.startTime," - ",b.endTime]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xo,{className:"h-3 w-3"}),b.distance," mi away"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(It,{className:"h-3 w-3"}),b.attendeeCount.toLocaleString()]})]})]}),e.jsxs("div",{className:`px-2 py-1 rounded text-xs ${b.impact==="high"?"bg-red-100 text-red-800":b.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[b.impact," impact"]})]})})]},b.id))})]})]}),t==="market"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Market Trends"}),e.jsx("div",{className:"space-y-4",children:p.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S(b.trend),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:b.category}),e.jsx("div",{className:"text-sm text-gray-600",children:b.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[b.source,"  ",b.timeframe]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-medium ${b.trend==="rising"?"text-green-600":b.trend==="falling"?"text-red-600":"text-gray-600"}`,children:[b.trend==="rising"?"+":b.trend==="falling"?"-":"",Math.abs(b.changePercent),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(b.relevance*100),"% relevant"]})]})]},b.id))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Economic Indicators"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.map(b=>e.jsxs("div",{className:"p-4 border border-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-sm",children:b.name}),e.jsx("div",{className:`p-1 rounded-full ${P(b.impact)}`,children:w(b.impact)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-lg font-bold",children:b.value}),e.jsxs("div",{className:`text-sm ${b.change>0?"text-green-600":"text-red-600"}`,children:[b.change>0?"+":"",b.change," (",b.changePercent>0?"+":"",b.changePercent,"%)"]}),e.jsx("div",{className:"text-xs text-gray-500",children:b.description})]})]},b.id))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Competitor Analysis"}),e.jsx("div",{className:"space-y-4",children:c.map(b=>e.jsxs("div",{className:"p-4 border border-gray-100 rounded-lg",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:b.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:b.priceRange}),e.jsxs("span",{children:[" ",b.rating," (",b.reviewCount," reviews)"]}),e.jsxs("span",{children:[b.distance," mi away"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Menu Highlights"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:b.menuHighlights.map((k,_)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:k},_))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Current Promotions"}),e.jsx("div",{className:"space-y-1",children:b.promotions.map((k,_)=>e.jsxs("div",{className:"text-xs text-gray-600",children:[" ",k]},_))})]})]})]},b.id))})]})]}),t==="insights"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"AI-Generated Insights & Recommendations"}),e.jsx("div",{className:"space-y-6",children:o.map(b=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${P(b.impact)}`,children:w(b.impact)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:b.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:b.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:[Math.round(b.confidence*100),"% confidence"]}),b.actionable&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Actionable"})]})]}),b.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Recommendations:"}),e.jsx("ul",{className:"space-y-1",children:b.recommendations.map((k,_)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),k]},_))})]}),b.data&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-xs text-gray-600",children:["Additional Data: ",JSON.stringify(b.data,null,2)]})})]},b.id))})]})})]})}const Wj=[{id:"weather_openweather",name:"OpenWeatherMap",type:"weather",provider:"OpenWeatherMap API",status:"connected",lastSync:new Date(Date.now()-15*60*1e3).toISOString(),nextSync:new Date(Date.now()+45*60*1e3).toISOString(),syncFrequency:"hourly",apiEndpoint:"https://api.openweathermap.org/data/2.5",configuration:{location:"San Francisco, CA",units:"imperial",includeForecast:!0,forecastDays:7},dataPoints:168},{id:"events_eventbrite",name:"Eventbrite",type:"events",provider:"Eventbrite API",status:"connected",lastSync:new Date(Date.now()-2*60*60*1e3).toISOString(),nextSync:new Date(Date.now()+22*60*60*1e3).toISOString(),syncFrequency:"daily",apiEndpoint:"https://www.eventbriteapi.com/v3",configuration:{radius:"5mi",categories:["food-and-drink","music","sports-and-fitness","business"],minAttendees:100},dataPoints:47},{id:"competitor_yelp",name:"Yelp Business API",type:"competitor",provider:"Yelp Fusion API",status:"connected",lastSync:new Date(Date.now()-6*60*60*1e3).toISOString(),nextSync:new Date(Date.now()+18*60*60*1e3).toISOString(),syncFrequency:"daily",apiEndpoint:"https://api.yelp.com/v3",configuration:{radius:"2mi",categories:"restaurants",priceRange:"$,$$,$$$",minReviews:50},dataPoints:23},{id:"economic_fred",name:"Federal Reserve Economic Data",type:"economic",provider:"FRED API",status:"connected",lastSync:new Date(Date.now()-24*60*60*1e3).toISOString(),nextSync:new Date(Date.now()+6*24*60*60*1e3).toISOString(),syncFrequency:"weekly",apiEndpoint:"https://api.stlouisfed.org/fred",configuration:{indicators:["UNRATE","CPIAUCSL","PAYEMS"],region:"CA",frequency:"monthly"},dataPoints:36},{id:"social_twitter",name:"Twitter Sentiment",type:"social",provider:"Twitter API v2",status:"error",lastSync:new Date(Date.now()-3*24*60*60*1e3).toISOString(),nextSync:new Date(Date.now()+60*60*1e3).toISOString(),syncFrequency:"hourly",apiEndpoint:"https://api.twitter.com/2",configuration:{keywords:["restaurant","dining","food delivery"],location:"San Francisco",sentimentAnalysis:!0},dataPoints:0,errorMessage:"API rate limit exceeded. Retrying in 1 hour."}],qj=[{id:"external_data",category:"external-data",name:"External Data Integration",description:"Weather, events, and market data for enhanced business insights",icon:"",enabled:!0,dataSources:Wj.filter(t=>["weather","events","economic","social"].includes(t.type)),settings:{autoCorrelation:!0,alertThreshold:.7,forecastDays:7,dataRetention:90},lastUpdated:new Date().toISOString()},{id:"inventory_systems",category:"inventory",name:"Inventory Management",description:"Integration with BevSpot, MarketMan, and other inventory systems",icon:"",enabled:!1,dataSources:[{id:"bevspot_api",name:"BevSpot",type:"inventory",provider:"BevSpot API",status:"disconnected",lastSync:"",nextSync:"",syncFrequency:"daily",configuration:{syncInventory:!0,syncPricing:!0,syncWaste:!0},dataPoints:0},{id:"marketman_api",name:"MarketMan",type:"inventory",provider:"MarketMan API",status:"disconnected",lastSync:"",nextSync:"",syncFrequency:"daily",configuration:{syncIngredients:!0,syncRecipes:!0,syncCosts:!0},dataPoints:0}],settings:{costingMethod:"FIFO",wasteThreshold:5,reorderPoint:20,autoReorder:!1},lastUpdated:new Date().toISOString()},{id:"pos_integration",category:"pos",name:"POS System Integration",description:"Real-time sales data from Square, Toast, and other POS systems",icon:"",enabled:!0,dataSources:[{id:"square_pos",name:"Square POS",type:"pos",provider:"Square API",status:"connected",lastSync:new Date(Date.now()-5*60*1e3).toISOString(),nextSync:new Date(Date.now()+10*60*1e3).toISOString(),syncFrequency:"realtime",configuration:{syncTransactions:!0,syncInventory:!0,syncCustomers:!1},dataPoints:1247}],settings:{realtimeSync:!0,batchSize:100,retryAttempts:3},lastUpdated:new Date().toISOString()}],Uj=[{id:"weather_sales_correlation",primaryMetric:"Daily Sales Revenue",externalFactor:"Temperature",correlationScore:.73,confidence:.89,sampleSize:90,timeframe:"Last 3 months",insights:["Sales increase 2.3% for every 10F above 65F","Optimal temperature range: 70-80F shows highest sales","Rainy days reduce sales by average of 15%"],enabled:!0},{id:"events_foottraffic_correlation",primaryMetric:"Foot Traffic",externalFactor:"Local Events (within 1 mile)",correlationScore:.84,confidence:.92,sampleSize:45,timeframe:"Last 6 months",insights:["Events with 1000+ attendees increase foot traffic by 35%","Sports events have highest impact on evening sales","Food festivals can increase sales by up to 60%"],enabled:!0},{id:"economic_spending_correlation",primaryMetric:"Average Transaction Value",externalFactor:"Local Employment Rate",correlationScore:.67,confidence:.78,sampleSize:24,timeframe:"Last 2 years",insights:["1% increase in employment correlates with 3% higher spending","Economic confidence affects premium item sales","Discretionary spending follows employment trends with 2-month lag"],enabled:!0}],Hj=[{id:"weather_storm_alert",name:"Severe Weather Alert",description:"Alert when severe weather is forecasted",dataSource:"weather_openweather",condition:{metric:"weather_severity",operator:">=",threshold:7,timeframe:"next_24_hours"},actions:[{type:"email",target:"manager@restaurant.com",message:"Severe weather forecasted. Consider adjusting staffing and inventory."},{type:"dashboard",target:"action_center",message:"Severe weather alert - Review staffing and delivery operations"}],enabled:!0,lastTriggered:new Date(Date.now()-3*24*60*60*1e3).toISOString()},{id:"high_impact_event_alert",name:"High Impact Event Alert",description:"Alert when major events are detected nearby",dataSource:"events_eventbrite",condition:{metric:"event_attendees",operator:">",threshold:5e3,timeframe:"next_7_days"},actions:[{type:"email",target:"operations@restaurant.com",message:"Major event detected. Prepare for increased demand."}],enabled:!0}],Yj=[{id:"upload_1",name:"Historical Weather Data",type:"csv",source:"weather_backup_2024.csv",status:"completed",uploadedAt:new Date(Date.now()-2*60*60*1e3).toISOString(),processedAt:new Date(Date.now()-2*60*60*1e3+5*60*1e3).toISOString(),recordsCount:8760,errorCount:0},{id:"upload_2",name:"Local Events Database",type:"json",source:"events_q4_2024.json",status:"processing",uploadedAt:new Date(Date.now()-15*60*1e3).toISOString(),recordsCount:0,errorCount:0},{id:"upload_3",name:"Competitor Pricing Data",type:"csv",source:"competitor_prices.csv",status:"failed",uploadedAt:new Date(Date.now()-30*60*1e3).toISOString(),processedAt:new Date(Date.now()-25*60*1e3).toISOString(),recordsCount:0,errorCount:15,errors:["Invalid price format in row 23","Missing restaurant ID in row 45",`Duplicate entry for restaurant "Mario's Bistro"`]}],Qj=[{dataSourceId:"weather_openweather",status:"success",lastSync:new Date(Date.now()-15*60*1e3).toISOString(),nextSync:new Date(Date.now()+45*60*1e3).toISOString(),recordsProcessed:24,recordsSkipped:0,errors:[],duration:2.3},{dataSourceId:"events_eventbrite",status:"partial",lastSync:new Date(Date.now()-2*60*60*1e3).toISOString(),nextSync:new Date(Date.now()+22*60*60*1e3).toISOString(),recordsProcessed:15,recordsSkipped:3,errors:['Event "Summer Festival" missing location data'],duration:5.7},{dataSourceId:"social_twitter",status:"failed",lastSync:new Date(Date.now()-3*24*60*60*1e3).toISOString(),nextSync:new Date(Date.now()+60*60*1e3).toISOString(),recordsProcessed:0,recordsSkipped:0,errors:["API rate limit exceeded","Authentication failed"],duration:.1}];function Zj(){const[t]=vp(),[s,a]=j.useState("overview"),[r,n]=j.useState(qj),[i,o]=j.useState(Uj),[m,u]=j.useState(Hj),[l,c]=j.useState(Yj),[d,p]=j.useState(Qj),[h,g]=j.useState({}),[y,N]=j.useState(!1);j.useEffect(()=>{const w=t.get("tab");w&&["overview","sources","correlations","alerts","uploads"].includes(w)&&a(w)},[t]);const f=w=>{switch(w){case"connected":case"success":case"completed":return"text-green-600 bg-green-50";case"error":case"failed":return"text-red-600 bg-red-50";case"pending":case"processing":case"partial":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},x=w=>{switch(w){case"connected":case"success":case"completed":return e.jsx(ft,{className:"h-4 w-4"});case"error":case"failed":return e.jsx(Bi,{className:"h-4 w-4"});case"pending":case"processing":case"partial":return e.jsx(ye,{className:"h-4 w-4"});default:return e.jsx(tt,{className:"h-4 w-4"})}},v=w=>{n(S=>S.map(b=>b.id===w?{...b,enabled:!b.enabled}:b))},C=w=>{g(S=>({...S,[w]:!S[w]}))},T=w=>{console.log(`Syncing data source: ${w}`)},P=w=>{console.log(`Testing connection for: ${w}`)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integration Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage external data sources, API connections, and integration settings"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Sync All"]}),e.jsxs(M,{onClick:()=>N(!0),className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"Add Integration"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:pt},{id:"sources",label:"Data Sources",icon:Ul},{id:"correlations",label:"Correlations",icon:_e},{id:"alerts",label:"Alert Rules",icon:tt},{id:"uploads",label:"Data Uploads",icon:Ql}].map(w=>e.jsxs("button",{onClick:()=>a(w.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${s===w.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(w.icon,{className:"h-4 w-4"}),w.label]},w.id))})}),s==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(w=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:w.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),e.jsx("p",{className:"text-sm text-gray-600",children:w.description})]})]}),e.jsx("button",{onClick:()=>v(w.id),className:`p-2 rounded-full ${w.enabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:w.enabled?e.jsx(yy,{className:"h-4 w-4"}):e.jsx(yv,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Data Sources:"}),e.jsx("span",{className:"font-medium",children:w.dataSources.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.enabled?"Active":"Disabled"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Last Updated:"}),e.jsx("span",{className:"text-gray-600",children:new Date(w.lastUpdated).toLocaleDateString()})]})]})]},w.id))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.flatMap(w=>w.dataSources).filter(w=>w.status==="connected").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Connected Sources"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Correlations"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.filter(w=>w.enabled).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Alert Rules"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.filter(w=>w.status==="completed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Successful Uploads"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent Sync Activity"}),e.jsx("div",{className:"space-y-4",children:d.slice(0,5).map((w,S)=>{const b=r.flatMap(k=>k.dataSources).find(k=>k.id===w.dataSourceId);return e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${f(w.status)}`,children:x(w.status)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:(b==null?void 0:b.name)||"Unknown Source"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[w.recordsProcessed," records processed",w.recordsSkipped>0&&`, ${w.recordsSkipped} skipped`]})]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:[e.jsx("div",{children:new Date(w.lastSync).toLocaleTimeString()}),e.jsxs("div",{children:[w.duration,"s"]})]})]},S)})})]})]}),s==="sources"&&e.jsx("div",{className:"space-y-6",children:r.map(w=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:w.icon}),e.jsx("h3",{className:"font-semibold text-gray-900",children:w.name})]}),e.jsx("button",{onClick:()=>v(w.id),className:`px-3 py-1 rounded text-sm ${w.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.enabled?"Enabled":"Disabled"})]}),e.jsx("div",{className:"space-y-4",children:w.dataSources.map(S=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:S.name}),e.jsx("p",{className:"text-sm text-gray-600",children:S.provider})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${f(S.status)}`,children:S.status}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>T(S.id),children:e.jsx(Ts,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>P(S.id),children:e.jsx(_e,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Sync Frequency:"}),e.jsx("div",{className:"font-medium capitalize",children:S.syncFrequency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data Points:"}),e.jsx("div",{className:"font-medium",children:S.dataPoints.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Last Sync:"}),e.jsx("div",{className:"font-medium",children:S.lastSync?new Date(S.lastSync).toLocaleTimeString():"Never"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Next Sync:"}),e.jsx("div",{className:"font-medium",children:S.nextSync?new Date(S.nextSync).toLocaleTimeString():"N/A"})]})]}),S.apiEndpoint&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"API Endpoint:"}),e.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:S.apiEndpoint})]}),S.apiKey&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"API Key:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:h[S.id]?S.apiKey:""}),e.jsx("button",{onClick:()=>C(S.id),className:"text-gray-400 hover:text-gray-600",children:h[S.id]?e.jsx(Hl,{className:"h-4 w-4"}):e.jsx(Bt,{className:"h-4 w-4"})})]})]})]}),S.errorMessage&&e.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Bi,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Error:"})]}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:S.errorMessage})]})]},S.id))})]},w.id))}),s==="correlations"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Data Correlations"}),e.jsx("div",{className:"space-y-4",children:i.map(w=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[w.primaryMetric,"  ",w.externalFactor]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{children:["Correlation: ",Math.round(w.correlationScore*100),"%"]}),e.jsxs("span",{children:["Confidence: ",Math.round(w.confidence*100),"%"]}),e.jsxs("span",{children:["Sample: ",w.sampleSize," data points"]})]})]}),e.jsx("button",{onClick:()=>o(S=>S.map(b=>b.id===w.id?{...b,enabled:!b.enabled}:b)),className:`px-3 py-1 rounded text-sm ${w.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.enabled?"Active":"Disabled"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Key Insights:"}),e.jsx("ul",{className:"space-y-1",children:w.insights.map((S,b)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),S]},b))})]})]},w.id))})]})}),s==="alerts"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Alert Rules"}),e.jsx("div",{className:"space-y-4",children:m.map(w=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),e.jsx("p",{className:"text-sm text-gray-600",children:w.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(S=>S.map(b=>b.id===w.id?{...b,enabled:!b.enabled}:b)),className:`px-3 py-1 rounded text-sm ${w.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.enabled?"Active":"Disabled"}),e.jsx(M,{variant:"ghost",size:"sm",children:e.jsx(At,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Condition:"}),e.jsxs("div",{className:"font-medium",children:[w.condition.metric," ",w.condition.operator," ",w.condition.threshold]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Actions:"}),e.jsxs("div",{className:"font-medium",children:[w.actions.length," configured"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Last Triggered:"}),e.jsx("div",{className:"font-medium",children:w.lastTriggered?new Date(w.lastTriggered).toLocaleDateString():"Never"})]})]})]},w.id))})]})}),s==="uploads"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Data Uploads"}),e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ql,{className:"h-4 w-4"}),"Upload Data"]})]}),e.jsx("div",{className:"space-y-4",children:l.map(w=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{children:["Type: ",w.type.toUpperCase()]}),e.jsxs("span",{children:["Source: ",w.source]}),e.jsxs("span",{children:["Uploaded: ",new Date(w.uploadedAt).toLocaleString()]})]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${f(w.status)}`,children:w.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Records:"}),e.jsx("div",{className:"font-medium",children:w.recordsCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Errors:"}),e.jsx("div",{className:`font-medium ${w.errorCount>0?"text-red-600":"text-green-600"}`,children:w.errorCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Processed:"}),e.jsx("div",{className:"font-medium",children:w.processedAt?new Date(w.processedAt).toLocaleTimeString():"Pending"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Duration:"}),e.jsx("div",{className:"font-medium",children:w.processedAt&&w.uploadedAt?`${Math.round((new Date(w.processedAt).getTime()-new Date(w.uploadedAt).getTime())/1e3)}s`:"N/A"})]})]}),w.errors&&w.errors.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"Errors:"}),e.jsx("ul",{className:"space-y-1",children:w.errors.map((S,b)=>e.jsxs("li",{className:"text-sm text-red-700",children:[" ",S]},b))})]})]},w.id))})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Integration"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Bi,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Integration Type"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"weather",name:"Weather Data",icon:"",description:"OpenWeatherMap, WeatherAPI"},{id:"events",name:"Local Events",icon:"",description:"Eventbrite, Facebook Events"},{id:"social",name:"Social Media",icon:"",description:"Twitter, Instagram, Yelp"},{id:"economic",name:"Economic Data",icon:"",description:"FRED, Yahoo Finance"},{id:"inventory",name:"Inventory System",icon:"",description:"BevSpot, MarketMan"},{id:"pos",name:"POS System",icon:"",description:"Square, Toast, Clover"}].map(w=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:w.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),e.jsx("p",{className:"text-sm text-gray-600",children:w.description})]})]})},w.id))})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Integration Name"}),e.jsx("input",{type:"text",placeholder:"e.g., Weather API Integration",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{children:"Select a provider..."}),e.jsx("option",{children:"OpenWeatherMap"}),e.jsx("option",{children:"WeatherAPI"}),e.jsx("option",{children:"Eventbrite"}),e.jsx("option",{children:"Facebook Events"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Endpoint"}),e.jsx("input",{type:"url",placeholder:"https://api.example.com/v1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),e.jsx("input",{type:"password",placeholder:"Enter your API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sync Frequency"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{children:"Hourly"}),e.jsx("option",{children:"Daily"}),e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Manual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Retention (days)"}),e.jsx("input",{type:"number",defaultValue:30,min:1,max:365,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx(M,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsxs(M,{onClick:()=>{console.log("Creating new integration..."),N(!1),setTimeout(()=>{alert("Integration created successfully!")},100)},className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"Create Integration"]})]})]})]})})]})}const Yt=[{id:"ing-001",name:"Chicken Breast",category:"protein",unit:"lbs",costPerUnit:4.5,supplier:"Fresh Farm Meats",supplierSku:"FFM-CB-001",lastUpdated:new Date("2024-11-20"),allergens:[],shelfLife:5,storageTemp:"refrigerated",seasonality:"year_round",priceHistory:[{date:new Date("2024-10-01"),price:4.25,supplier:"Fresh Farm Meats",reason:"market_change"},{date:new Date("2024-11-01"),price:4.5,supplier:"Fresh Farm Meats",reason:"seasonal"}]},{id:"ing-002",name:"Organic Spinach",category:"produce",unit:"lbs",costPerUnit:3.25,supplier:"Green Valley Farms",supplierSku:"GVF-SP-002",lastUpdated:new Date("2024-11-22"),allergens:[],shelfLife:7,storageTemp:"refrigerated",seasonality:"spring",priceHistory:[{date:new Date("2024-09-01"),price:2.85,supplier:"Green Valley Farms",reason:"seasonal"},{date:new Date("2024-11-01"),price:3.25,supplier:"Green Valley Farms",reason:"seasonal"}]},{id:"ing-003",name:"Mozzarella Cheese",category:"dairy",unit:"lbs",costPerUnit:5.75,supplier:"Dairy Fresh Co",supplierSku:"DFC-MOZ-003",lastUpdated:new Date("2024-11-21"),allergens:["milk"],shelfLife:14,storageTemp:"refrigerated",seasonality:"year_round",priceHistory:[{date:new Date("2024-10-15"),price:5.5,supplier:"Dairy Fresh Co",reason:"supplier_change"},{date:new Date("2024-11-15"),price:5.75,supplier:"Dairy Fresh Co",reason:"market_change"}]},{id:"ing-004",name:"Extra Virgin Olive Oil",category:"oil",unit:"liters",costPerUnit:12.5,supplier:"Mediterranean Imports",supplierSku:"MI-EVOO-004",lastUpdated:new Date("2024-11-19"),allergens:[],shelfLife:365,storageTemp:"room_temp",seasonality:"year_round",priceHistory:[{date:new Date("2024-09-01"),price:11.75,supplier:"Mediterranean Imports",reason:"quality_grade"},{date:new Date("2024-11-01"),price:12.5,supplier:"Mediterranean Imports",reason:"market_change"}]},{id:"ing-005",name:"Roma Tomatoes",category:"produce",unit:"lbs",costPerUnit:2.85,supplier:"Sunny Acres Farm",supplierSku:"SAF-RT-005",lastUpdated:new Date("2024-11-23"),allergens:[],shelfLife:5,storageTemp:"room_temp",seasonality:"summer",priceHistory:[{date:new Date("2024-08-01"),price:1.95,supplier:"Sunny Acres Farm",reason:"seasonal"},{date:new Date("2024-11-01"),price:2.85,supplier:"Sunny Acres Farm",reason:"seasonal"}]},{id:"ing-006",name:"Arborio Rice",category:"grain",unit:"lbs",costPerUnit:3.2,supplier:"Grain Masters",supplierSku:"GM-AR-006",lastUpdated:new Date("2024-11-18"),allergens:[],shelfLife:730,storageTemp:"room_temp",seasonality:"year_round",priceHistory:[{date:new Date("2024-10-01"),price:3.1,supplier:"Grain Masters",reason:"market_change"},{date:new Date("2024-11-01"),price:3.2,supplier:"Grain Masters",reason:"supplier_change"}]}],Ea=[{id:"recipe-001",name:"Grilled Chicken Caesar Salad",category:"entree",description:"Fresh romaine lettuce with grilled chicken breast, parmesan, and house caesar dressing",ingredients:[{ingredientId:"ing-001",quantity:.25,unit:"lbs",cost:1.13,wastePercentage:10,actualCost:1.24,notes:"Trimming waste"},{ingredientId:"ing-002",quantity:.125,unit:"lbs",cost:.41,wastePercentage:15,actualCost:.47,notes:"Cleaning waste"},{ingredientId:"ing-004",quantity:.02,unit:"liters",cost:.25,wastePercentage:5,actualCost:.26,notes:"Minimal waste"}],yield:1,yieldUnit:"portions",laborTime:8,laborCost:2.67,totalIngredientCost:1.97,totalCost:4.64,costPerPortion:4.64,suggestedPrice:16.95,margin:72.6,difficulty:"easy",prepTime:5,cookTime:8,instructions:["Season chicken breast","Grill for 6-8 minutes","Slice and serve over salad"],tags:["healthy","protein","gluten-free"],lastUpdated:new Date("2024-11-20"),isActive:!0,popularity:85},{id:"recipe-002",name:"Margherita Pizza",category:"entree",description:"Classic pizza with fresh mozzarella, tomatoes, and basil",ingredients:[{ingredientId:"ing-003",quantity:.125,unit:"lbs",cost:.72,wastePercentage:8,actualCost:.78},{ingredientId:"ing-005",quantity:.1,unit:"lbs",cost:.29,wastePercentage:12,actualCost:.32},{ingredientId:"ing-004",quantity:.015,unit:"liters",cost:.19,wastePercentage:3,actualCost:.2}],yield:1,yieldUnit:"portions",laborTime:12,laborCost:4,totalIngredientCost:1.3,totalCost:5.3,costPerPortion:5.3,suggestedPrice:18.95,margin:72,difficulty:"medium",prepTime:15,cookTime:12,instructions:["Prepare dough","Add sauce and toppings","Bake at 450F"],tags:["vegetarian","italian","popular"],lastUpdated:new Date("2024-11-19"),isActive:!0,popularity:92},{id:"recipe-003",name:"Mushroom Risotto",category:"entree",description:"Creamy arborio rice with wild mushrooms and parmesan",ingredients:[{ingredientId:"ing-006",quantity:.25,unit:"lbs",cost:.8,wastePercentage:5,actualCost:.84},{ingredientId:"ing-003",quantity:.1,unit:"lbs",cost:.58,wastePercentage:8,actualCost:.63},{ingredientId:"ing-004",quantity:.025,unit:"liters",cost:.31,wastePercentage:5,actualCost:.33}],yield:1,yieldUnit:"portions",laborTime:25,laborCost:8.33,totalIngredientCost:1.8,totalCost:10.13,costPerPortion:10.13,suggestedPrice:24.95,margin:59.4,difficulty:"hard",prepTime:10,cookTime:25,instructions:["Toast rice","Add stock gradually","Stir constantly","Finish with cheese"],tags:["vegetarian","comfort_food","premium"],lastUpdated:new Date("2024-11-18"),isActive:!0,popularity:68}],Kj=[{id:"inv-001",ingredientId:"ing-001",currentStock:25.5,unit:"lbs",location:"Walk-in Cooler A",expirationDate:new Date("2024-11-28"),batchNumber:"FFM-241120-01",purchaseDate:new Date("2024-11-20"),purchaseCost:4.5,supplier:"Fresh Farm Meats",qualityGrade:"premium",storageCondition:"refrigerated"},{id:"inv-002",ingredientId:"ing-002",currentStock:8.2,unit:"lbs",location:"Produce Cooler",expirationDate:new Date("2024-11-26"),batchNumber:"GVF-241122-02",purchaseDate:new Date("2024-11-22"),purchaseCost:3.25,supplier:"Green Valley Farms",qualityGrade:"premium",storageCondition:"refrigerated"},{id:"inv-003",ingredientId:"ing-003",currentStock:12,unit:"lbs",location:"Dairy Cooler",expirationDate:new Date("2024-12-05"),batchNumber:"DFC-241121-03",purchaseDate:new Date("2024-11-21"),purchaseCost:5.75,supplier:"Dairy Fresh Co",qualityGrade:"standard",storageCondition:"refrigerated"}],Jj=[{id:"waste-001",ingredientId:"ing-002",quantity:1.2,unit:"lbs",reason:"spoilage",cost:3.9,date:new Date("2024-11-22"),location:"Produce Cooler",reportedBy:"Kitchen Manager",notes:"Wilted leaves, past expiration",preventable:!0},{id:"waste-002",ingredientId:"ing-001",quantity:.8,unit:"lbs",reason:"prep_waste",cost:3.6,date:new Date("2024-11-21"),location:"Prep Kitchen",reportedBy:"Prep Cook",notes:"Trimming fat and unusable portions",preventable:!1},{id:"waste-003",ingredientId:"ing-005",quantity:2.1,unit:"lbs",reason:"quality_issue",cost:5.99,date:new Date("2024-11-20"),location:"Receiving",reportedBy:"Sous Chef",notes:"Bruised and overripe on delivery",preventable:!0}],Hi=[{ingredientId:"ing-001",expectedCost:4.25,actualCost:4.5,variance:5.9,varianceAmount:.25,date:new Date("2024-11-20"),reason:"Seasonal price increase",impact:"medium"},{ingredientId:"ing-002",expectedCost:3,actualCost:3.25,variance:8.3,varianceAmount:.25,date:new Date("2024-11-22"),reason:"Weather impact on crop yield",impact:"high"}],Bs=[{ingredientId:"ing-001",period:"month",predictedPrice:4.75,confidence:.85,factors:[{type:"seasonal",impact:8,description:"Winter demand increase"},{type:"market",impact:5,description:"Feed cost inflation"},{type:"supply_chain",impact:3,description:"Transportation costs"}],seasonalAdjustment:12,trendDirection:"up"},{ingredientId:"ing-002",period:"month",predictedPrice:2.95,confidence:.72,factors:[{type:"seasonal",impact:-15,description:"Winter growing season"},{type:"weather",impact:10,description:"Potential frost damage"}],seasonalAdjustment:-8,trendDirection:"down"}],Xj=[{ingredientId:"ing-002",averageWastePercentage:18.5,wasteReasons:[{reason:"spoilage",percentage:65},{reason:"prep_waste",percentage:25},{reason:"quality_issue",percentage:10}],costImpact:156.8,trend:"worsening",recommendations:["Reduce order quantities for spinach","Implement FIFO rotation system","Negotiate quality guarantees with supplier"]},{ingredientId:"ing-001",averageWastePercentage:8.2,wasteReasons:[{reason:"prep_waste",percentage:70},{reason:"spoilage",percentage:20},{reason:"accident",percentage:10}],costImpact:89.4,trend:"stable",recommendations:["Train staff on proper trimming techniques","Consider purchasing pre-trimmed options"]}],eN=[{ingredientId:"ing-005",season:"summer",averagePrice:1.95,priceVariation:.25,availability:"high",qualityRating:4.8},{ingredientId:"ing-005",season:"winter",averagePrice:2.85,priceVariation:.45,availability:"low",qualityRating:3.9},{ingredientId:"ing-002",season:"spring",averagePrice:2.65,priceVariation:.35,availability:"high",qualityRating:4.6},{ingredientId:"ing-002",season:"winter",averagePrice:3.45,priceVariation:.55,availability:"medium",qualityRating:4.1}],fs={id:"budget-001",name:"Q1 2025 Ingredient Budget",period:"quarterly",startDate:new Date("2025-01-01"),endDate:new Date("2025-03-31"),categories:[{category:"Proteins",budgetAmount:15e3,actualAmount:14250,variance:-5,ingredients:["ing-001"]},{category:"Produce",budgetAmount:8e3,actualAmount:8750,variance:9.4,ingredients:["ing-002","ing-005"]},{category:"Dairy",budgetAmount:6e3,actualAmount:5890,variance:-1.8,ingredients:["ing-003"]}],totalBudget:29e3,actualSpend:28890,variance:-.4};function tN(){const[t,s]=j.useState("overview"),[a,r]=j.useState(""),n=Yt.length,i=Ea.filter(l=>l.isActive).length,o=Jj.reduce((l,c)=>l+c.cost,0),m=Ea.reduce((l,c)=>l+c.margin,0)/Ea.length,u=Hi.filter(l=>l.impact==="high").length;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Advanced Ingredient Tracking"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Recipe costing, waste analysis, and inventory optimization"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-4 w-4"}),"Sync Inventory"]}),e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"New Recipe"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:pt},{id:"recipes",label:"Recipe Management",icon:mn},{id:"costs",label:"Cost Analysis",icon:Za},{id:"inventory",label:"Inventory Integration",icon:Ht},{id:"analytics",label:"Analytics & Reports",icon:de}].map(l=>e.jsxs("button",{onClick:()=>s(l.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${t===l.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(l.icon,{className:"h-4 w-4"}),l.label]},l.id))})}),t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Ingredients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n})]}),e.jsx(Ht,{className:"h-8 w-8 text-blue-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Across all categories"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Recipes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i})]}),e.jsx(mn,{className:"h-8 w-8 text-green-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Ready for production"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Waste Cost (Today)"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",o.toFixed(2)]})]}),e.jsx(oa,{className:"h-8 w-8 text-red-600"})]}),e.jsx("p",{className:"text-xs text-red-500 mt-2",children:" 12% from yesterday"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Margin"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[m.toFixed(1),"%"]})]}),e.jsx(oe,{className:"h-8 w-8 text-green-600"})]}),e.jsx("p",{className:"text-xs text-green-500 mt-2",children:" 2.3% this week"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cost Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:u})]}),e.jsx(tt,{className:"h-8 w-8 text-orange-600"})]}),e.jsx("p",{className:"text-xs text-orange-500 mt-2",children:"Require attention"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(M,{variant:"outline",className:"flex items-center gap-2 justify-start p-4 h-auto",children:[e.jsx(mn,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Recipe Builder"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Create new recipes"})]})]}),e.jsxs(M,{variant:"outline",className:"flex items-center gap-2 justify-start p-4 h-auto",children:[e.jsx(Za,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Cost Calculator"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Analyze recipe costs"})]})]}),e.jsxs(M,{variant:"outline",className:"flex items-center gap-2 justify-start p-4 h-auto",children:[e.jsx(oa,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Waste Tracker"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Log waste entries"})]})]}),e.jsxs(M,{variant:"outline",className:"flex items-center gap-2 justify-start p-4 h-auto",children:[e.jsx(Ht,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Inventory Sync"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Update stock levels"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Recipes by Margin"}),e.jsx("div",{className:"space-y-4",children:Ea.sort((l,c)=>c.margin-l.margin).slice(0,5).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:l.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Cost: $",l.costPerPortion.toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[l.margin.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["$",l.suggestedPrice.toFixed(2)]})]})]},l.id))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Waste Hotspots"}),e.jsx("div",{className:"space-y-4",children:Xj.map((l,c)=>{const d=Yt.find(p=>p.id===l.ingredientId);return e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:d==null?void 0:d.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l.wasteReasons[0].reason,": ",l.wasteReasons[0].percentage,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-600",children:[l.averageWastePercentage.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["$",l.costImpact.toFixed(2)]})]})]},c)})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Cost Variance Alerts"}),e.jsx("div",{className:"space-y-3",children:Hi.map((l,c)=>{const d=Yt.find(p=>p.id===l.ingredientId);return e.jsxs("div",{className:"flex items-center justify-between p-4 border-l-4 border-orange-400 bg-orange-50 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(tt,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:d==null?void 0:d.name}),e.jsx("div",{className:"text-sm text-gray-600",children:l.reason})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-orange-600",children:["+",l.variance.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["+$",l.varianceAmount.toFixed(2)]})]})]},c)})})]})]}),t==="recipes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search recipes...",value:a,onChange:l=>r(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(kr,{className:"h-4 w-4"}),"Filter"]}),e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"New Recipe"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ea.filter(l=>l.name.toLowerCase().includes(a.toLowerCase())||l.category.toLowerCase().includes(a.toLowerCase())).map(l=>{var c;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:l.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:l.category})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Cost per portion:"}),e.jsxs("span",{className:"font-medium",children:["$",l.costPerPortion.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Suggested price:"}),e.jsxs("span",{className:"font-medium",children:["$",l.suggestedPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Margin:"}),e.jsxs("span",{className:`font-medium ${l.margin>70?"text-green-600":l.margin>50?"text-yellow-600":"text-red-600"}`,children:[l.margin.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Prep time:"}),e.jsxs("span",{className:"font-medium",children:[l.prepTime+l.cookTime," min"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Popularity:"}),e.jsxs("span",{className:"font-medium",children:[l.popularity,"/100"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center gap-2",children:(c=l.tags)==null?void 0:c.slice(0,3).map(d=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:d},d))})}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",className:"flex-1",children:"Edit Recipe"}),e.jsxs(M,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(Za,{className:"h-3 w-3"}),"Recalc"]})]})]},l.id)})})]}),t==="costs"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(kt,{className:"h-6 w-6 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"-2.3%"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Food Cost"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$2,847.32"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This week"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(oe,{className:"h-6 w-6 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"+1.8%"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cost Per Portion"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$4.23"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Average across all recipes"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(tt,{className:"h-6 w-6 text-yellow-600"})}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:"+12.5%"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Price Volatility"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8 Items"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"High variance this month"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ue,{className:"h-6 w-6 text-purple-600"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"On Target"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Budget Performance"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"97.2%"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Of monthly budget used"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cost Variance Analysis"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 7 days"}),e.jsx("option",{children:"This month"})]}),e.jsxs(M,{variant:"outline",size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsx("div",{className:"space-y-4",children:Hi.map((l,c)=>{const d=Yt.find(p=>p.id===l.ingredientId);return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l.impact==="high"?"bg-red-500":l.impact==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:d==null?void 0:d.name}),e.jsx("p",{className:"text-sm text-gray-600",children:l.reason})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Expected: "}),e.jsxs("span",{className:"font-medium",children:["$",l.expectedCost.toFixed(2)]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Actual: "}),e.jsxs("span",{className:"font-medium",children:["$",l.actualCost.toFixed(2)]})]}),e.jsxs("div",{className:`font-bold ${l.variance>0?"text-red-600":"text-green-600"}`,children:[l.variance>0?"+":"",l.variance.toFixed(1),"%"]})]})})]},c)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Price Trends (Last 30 Days)"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Interactive price trend chart"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Showing ingredient price movements"})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Cost Distribution by Category"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pp,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Category cost breakdown"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Proteins, Produce, Dairy, etc."})]})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:" Cost Optimization Recommendations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(Ct,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Switch to Seasonal Supplier"}),e.jsx("p",{className:"text-sm text-green-700",children:"Roma Tomatoes: Switch to local supplier during summer months. Potential savings: $0.90/lb (32% reduction)"}),e.jsx("button",{className:"text-sm text-green-600 hover:text-green-800 mt-2 font-medium",children:"View Details "})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(_e,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Bulk Purchase Opportunity"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Arborio Rice: 15% discount available for orders over 50 lbs. Current usage: 12 lbs/week"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 mt-2 font-medium",children:"Calculate Savings "})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(tt,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"Recipe Optimization"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Mushroom Risotto: Consider reducing portion size by 10% or adjusting ingredient ratios to improve margin"}),e.jsx("button",{className:"text-sm text-yellow-600 hover:text-yellow-800 mt-2 font-medium",children:"Optimize Recipe "})]})]})]})]})]}),t==="inventory"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ul,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"BevSpot"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Inventory Management"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Td,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Connected"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Last Sync:"}),e.jsx("span",{className:"font-medium",children:"2 minutes ago"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Items Synced:"}),e.jsx("span",{className:"font-medium",children:"247"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Active"})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs(M,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Ts,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),e.jsx(M,{size:"sm",variant:"outline",children:e.jsx(At,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ht,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"MarketMan"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Procurement & Costing"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Td,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Connected"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Last Sync:"}),e.jsx("span",{className:"font-medium",children:"5 minutes ago"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Recipes Synced:"}),e.jsx("span",{className:"font-medium",children:"156"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Active"})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs(M,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Ts,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),e.jsx(M,{size:"sm",variant:"outline",children:e.jsx(At,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(pt,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Square POS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sales & Usage Data"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wv,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"Pending"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Last Sync:"}),e.jsx("span",{className:"font-medium",children:"1 hour ago"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Transactions:"}),e.jsx("span",{className:"font-medium",children:"1,247"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:"text-yellow-600 font-medium",children:"Syncing"})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs(M,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Ts,{className:"h-3 w-3 mr-1"}),"Retry Sync"]}),e.jsx(M,{size:"sm",variant:"outline",children:e.jsx(At,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Current Inventory Levels"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{children:"All Categories"}),e.jsx("option",{children:"Proteins"}),e.jsx("option",{children:"Produce"}),e.jsx("option",{children:"Dairy"}),e.jsx("option",{children:"Grains"})]}),e.jsxs(M,{variant:"outline",size:"sm",children:[e.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),e.jsx("div",{className:"space-y-4",children:Yt.map((l,c)=>{const d=Kj.find(y=>y.ingredientId===l.id),p=(d==null?void 0:d.currentStock)||Math.random()*50+10,h=p<15,g=d!=null&&d.expirationDate?Math.ceil((new Date(d.expirationDate).getTime()-new Date().getTime())/(1e3*60*60*24)):Math.floor(Math.random()*14)+1;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-red-500":p<25?"bg-yellow-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:l.category})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[p.toFixed(1)," ",l.unit]}),e.jsx("div",{className:`text-xs ${h?"text-red-600":"text-gray-500"}`,children:h?"Low Stock":"In Stock"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:["$",l.costPerUnit.toFixed(2),"/",l.unit]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Current Price"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-sm font-medium ${g<=3?"text-red-600":g<=7?"text-yellow-600":"text-gray-900"}`,children:[g," days"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Until expiry"})]}),e.jsx(M,{size:"sm",variant:"outline",children:"Reorder"})]})]},l.id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Usage vs Projected"}),e.jsx("div",{className:"space-y-4",children:Yt.slice(0,4).map((l,c)=>{const d=Math.random()*20+10,p=d*(.8+Math.random()*.4),h=(p-d)/d*100;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:l.name}),e.jsx("div",{className:"text-sm text-gray-600",children:"This week"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsxs("div",{children:["Projected: ",d.toFixed(1)," ",l.unit]}),e.jsxs("div",{children:["Actual: ",p.toFixed(1)," ",l.unit]})]}),e.jsxs("div",{className:`font-bold text-sm ${h>0?"text-red-600":"text-green-600"}`,children:[h>0?"+":"",h.toFixed(1),"%"]})]})]},l.id)})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Reorder Recommendations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(tt,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Urgent: Organic Spinach"}),e.jsx("p",{className:"text-sm text-red-700",children:"Current: 8.2 lbs | Recommended: 25 lbs"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-800 mt-1 font-medium",children:"Order Now "})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(ye,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"Soon: Chicken Breast"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Current: 25.5 lbs | Recommended: 40 lbs"}),e.jsx("button",{className:"text-sm text-yellow-600 hover:text-yellow-800 mt-1 font-medium",children:"Schedule Order "})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(Ue,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Optimal: Mozzarella Cheese"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Current: 12.0 lbs | Status: Well stocked"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 mt-1 font-medium",children:"View Details "})]})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:" Add New Integration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ul,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Toast POS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Restaurant POS System"})]})]}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"Connect"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ht,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Resy POS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reservation & POS"})]})]}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"Connect"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(pt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Custom API"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Custom Integration"})]})]}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"Configure"})]})]})]})]}),t==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(de,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cost Reports"}),e.jsx("p",{className:"text-sm text-gray-600",children:"12 reports"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ingredient costs, variance analysis, and budget tracking"}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"View Reports"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(oe,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Profitability"}),e.jsx("p",{className:"text-sm text-gray-600",children:"8 reports"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Recipe margins, profit analysis, and pricing optimization"}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"View Reports"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(oa,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Waste Analysis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"6 reports"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Waste tracking, cost impact, and reduction strategies"}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"View Reports"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(pt,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Usage Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"10 reports"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Consumption patterns, forecasting, and inventory optimization"}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full",children:"View Reports"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Reports"}),e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"Create Report"]})]}),e.jsx("div",{className:"space-y-4",children:[{name:"Weekly Cost Variance Analysis",type:"Cost Report",lastRun:"2 hours ago",status:"completed",insights:"3 high-variance items identified"},{name:"Recipe Profitability Ranking",type:"Profitability",lastRun:"1 day ago",status:"completed",insights:"Mushroom Risotto margin improved by 5.2%"},{name:"Waste Pattern Analysis",type:"Waste Analysis",lastRun:"2 days ago",status:"completed",insights:"Spinach waste reduced by 18% this week"},{name:"Seasonal Forecasting Report",type:"Usage Analytics",lastRun:"3 days ago",status:"scheduled",insights:"Winter pricing adjustments recommended"}].map((l,c)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l.status==="completed"?"bg-green-500":l.status==="scheduled"?"bg-blue-500":"bg-gray-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsx("span",{children:l.type}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Last run: ",l.lastRun]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.insights}),e.jsx("div",{className:`text-xs ${l.status==="completed"?"text-green-600":l.status==="scheduled"?"text-blue-600":"text-gray-600"}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]}),e.jsx(M,{size:"sm",variant:"outline",children:"View"})]})]},c))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Food Cost %"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:"28.5%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"71.5%"}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Target: 30%"}),e.jsx("span",{children:"Industry Avg: 32%"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Waste Reduction"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:"-15.2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"84.8%"}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"vs Last Month"}),e.jsx("span",{children:"Goal: -20%"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recipe Optimization"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:"67%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"67%"}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Recipes Optimized"}),e.jsx("span",{children:"Target: 80%"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Forecast Accuracy"}),e.jsx("span",{className:"text-sm font-bold text-purple-600",children:"89.3%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"89.3%"}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Last 30 Days"}),e.jsx("span",{children:"Target: 85%"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Trending Insights"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Margin Improvement"}),e.jsx("p",{className:"text-sm text-green-700",children:"Caesar Salad recipe optimization increased margin by 4.2% this week"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(Ue,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Forecast Accuracy"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Chicken breast usage prediction was 96% accurate this week"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(tt,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"Cost Alert"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Olive oil prices trending up 8% - consider bulk purchasing"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx(_e,{className:"h-5 w-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-900",children:"Efficiency Gain"}),e.jsx("p",{className:"text-sm text-purple-700",children:"New supplier integration reduced ordering time by 35%"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:" Custom Report Builder"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Data Sources"}),e.jsx("div",{className:"space-y-2",children:["Ingredients","Recipes","Costs","Waste","Inventory","Sales"].map(l=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700",children:l})]},l))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Time Period"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm mb-3",children:[e.jsx("option",{children:"Last 7 days"}),e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 90 days"}),e.jsx("option",{children:"Custom range"})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Report Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{children:"Summary Report"}),e.jsx("option",{children:"Detailed Analysis"}),e.jsx("option",{children:"Trend Analysis"}),e.jsx("option",{children:"Comparison Report"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Output Format"}),e.jsx("div",{className:"space-y-2 mb-4",children:["PDF","Excel","CSV","Dashboard"].map(l=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"format",className:"border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700",children:l})]},l))}),e.jsx(M,{className:"w-full",children:"Generate Report"})]})]})]})]})]})}function sN(){const[t,s]=j.useState("price-trends"),[a,r]=j.useState("month"),n=Bs.reduce((d,p)=>d+p.confidence,0)/Bs.length,i=Bs.filter(d=>d.trendDirection==="up").length,o=Bs.filter(d=>d.trendDirection==="down").length,m=Bs.filter(d=>d.trendDirection==="stable").length,u=d=>d>=.8?"text-green-600 bg-green-50":d>=.6?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",l=d=>{switch(d){case"up":return e.jsx(oe,{className:"h-4 w-4 text-red-600"});case"down":return e.jsx(Ct,{className:"h-4 w-4 text-green-600"});default:return e.jsx(pt,{className:"h-4 w-4 text-gray-600"})}},c=d=>{switch(d){case"weather":return e.jsx(_p,{className:"h-4 w-4"});case"seasonal":return e.jsx(rt,{className:"h-4 w-4"});case"market":return e.jsx(de,{className:"h-4 w-4"});case"demand":return e.jsx(Ue,{className:"h-4 w-4"});case"supply_chain":return e.jsx(_e,{className:"h-4 w-4"});default:return e.jsx(pt,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Price Forecasting"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Predictive analytics for ingredient costs, seasonal trends, and budget planning"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:a,onChange:d=>r(d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"week",children:"1 Week"}),e.jsx("option",{value:"month",children:"1 Month"}),e.jsx("option",{value:"quarter",children:"3 Months"})]}),e.jsxs(M,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Update Forecasts"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Confidence"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(n*100).toFixed(0),"%"]})]}),e.jsx(Ue,{className:"h-8 w-8 text-blue-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Forecast accuracy"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Price Increases"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i})]}),e.jsx(oe,{className:"h-8 w-8 text-red-600"})]}),e.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Ingredients trending up"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Price Decreases"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o})]}),e.jsx(Ct,{className:"h-8 w-8 text-green-600"})]}),e.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Ingredients trending down"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stable Prices"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:m})]}),e.jsx(pt,{className:"h-8 w-8 text-gray-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minimal price change"})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"price-trends",label:"Price Trends",icon:oe},{id:"seasonal",label:"Seasonal Analysis",icon:rt},{id:"demand",label:"Demand Forecasting",icon:Ue},{id:"budget",label:"Budget Planning",icon:kt}].map(d=>e.jsxs("button",{onClick:()=>s(d.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${t===d.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(d.icon,{className:"h-4 w-4"}),d.label]},d.id))})}),t==="price-trends"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Bs.map((d,p)=>{const h=Yt.find(f=>f.id===d.ingredientId),g=(h==null?void 0:h.costPerUnit)||0,y=d.predictedPrice-g,N=y/g*100;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:h==null?void 0:h.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:h==null?void 0:h.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l(d.trendDirection),e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${u(d.confidence)}`,children:[(d.confidence*100).toFixed(0),"% confidence"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Price"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",g.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Predicted Price"}),e.jsxs("p",{className:`text-lg font-bold ${y>0?"text-red-600":y<0?"text-green-600":"text-gray-900"}`,children:["$",d.predictedPrice.toFixed(2)]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Price Change"}),e.jsxs("span",{className:`font-medium ${y>0?"text-red-600":y<0?"text-green-600":"text-gray-600"}`,children:[y>0?"+":"",y.toFixed(2)," (",N>0?"+":"",N.toFixed(1),"%)"]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Key Factors:"}),d.factors.slice(0,3).map((f,x)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c(f.type),e.jsx("span",{className:"text-gray-600 capitalize",children:f.type.replace("_"," ")})]}),e.jsxs("span",{className:`font-medium ${f.impact>0?"text-red-600":"text-green-600"}`,children:[f.impact>0?"+":"",f.impact,"%"]})]},x))]})]},p)})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Price Trend Visualization"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Interactive price trend charts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Historical data + forecasted prices"})]})})]})]}),t==="seasonal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Seasonal Price Patterns"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:eN.reduce((d,p)=>{const h=d.find(g=>g.ingredientId===p.ingredientId);return h?h.seasons.push(p):d.push({ingredientId:p.ingredientId,seasons:[p]}),d},[]).map((d,p)=>{const h=Yt.find(y=>y.id===d.ingredientId),g=["spring","summer","fall","winter"];return e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:h==null?void 0:h.name}),e.jsx("div",{className:"space-y-2",children:g.map(y=>{const N=d.seasons.find(C=>C.season===y),f=(h==null?void 0:h.costPerUnit)||0,x=(N==null?void 0:N.averagePrice)||f,v=(x-f)/f*100;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"capitalize font-medium text-sm",children:y}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${(N==null?void 0:N.availability)==="high"?"bg-green-100 text-green-800":(N==null?void 0:N.availability)==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:(N==null?void 0:N.availability)||"unknown"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:["$",x.toFixed(2)]}),e.jsxs("div",{className:`text-xs ${v>0?"text-red-600":v<0?"text-green-600":"text-gray-600"}`,children:[v>0?"+":"",v.toFixed(1),"%"]})]})]},y)})})]},p)})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Seasonal Purchasing Recommendations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(Ct,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Stock Up on Summer Produce"}),e.jsx("p",{className:"text-sm text-green-700",children:"Tomatoes are 32% cheaper in summer. Consider preserving or menu planning."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(Ka,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"Winter Price Spikes Expected"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Leafy greens typically increase 25% in winter. Plan menu adjustments."})]})]})]})]})]}),t==="budget"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:fs.name}),e.jsxs("span",{className:"px-3 py-1 rounded text-sm bg-green-100 text-green-800",children:["",fs.variance.toFixed(1),"% variance"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Budget"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",fs.totalBudget.toLocaleString()]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Actual Spend"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",fs.actualSpend.toLocaleString()]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Remaining"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",(fs.totalBudget-fs.actualSpend).toLocaleString()]})]})]}),e.jsx("div",{className:"space-y-4",children:fs.categories.map((d,p)=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:d.category}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${d.variance<0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[d.variance>0?"+":"",d.variance.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsxs("span",{children:["Budget: $",d.budgetAmount.toLocaleString()]}),e.jsxs("span",{children:["Actual: $",d.actualAmount.toLocaleString()]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${d.variance<0?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(d.actualAmount/d.budgetAmount*100,100)}%`}})})]},p))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Next Quarter Forecast"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pp,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Budget vs Actual Spending Trends"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Projected costs based on current usage"})]})})]})]}),t==="demand"&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(Ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Demand Forecasting"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Predict ingredient demand based on sales patterns, seasonality, and external factors."}),e.jsx(M,{children:"Coming Soon"})]})]})}function aN(){Z();const[t,s]=j.useState("overview"),a=[{id:"overview",label:"Overview",icon:de},{id:"labor-forecasting",label:"Labor Forecasting",icon:It},{id:"customer-analytics",label:"Customer Analytics",icon:Ue},{id:"sales-forecasting",label:"Sales Forecasting",icon:oe},{id:"scenario-planning",label:"Scenario Planning",icon:dn}],r=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(dn,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[(Ia.forecastAccuracy*100).toFixed(1),"%"]})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Forecast Accuracy"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"87%"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Across all models"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(kt,{className:"h-6 w-6 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"+$12.4K"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cost Savings"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",Ia.costSavings.toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-500",children:"This month"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(_e,{className:"h-6 w-6 text-purple-600"})}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:Ia.insightsGenerated})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"AI Insights"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"47"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Generated this month"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(pt,{className:"h-6 w-6 text-orange-600"})}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:Ia.actionsTaken})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Actions Taken"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"23"}),e.jsx("p",{className:"text-sm text-gray-500",children:"From AI recommendations"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Model Performance"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(Ia.modelPerformance).map(([l,c])=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-3",children:[e.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#3b82f6",strokeWidth:"8",fill:"none",strokeDasharray:`${c*251.2} 251.2`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[(c*100).toFixed(0),"%"]})})]}),e.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:l}),e.jsx("p",{className:"text-sm text-gray-500",children:"Model Accuracy"})]},l))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Predictive Models"}),e.jsx("div",{className:"space-y-4",children:Kb.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.name}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Accuracy: ",e.jsxs("span",{className:"font-medium text-green-600",children:[(l.accuracy*100).toFixed(1),"%"]})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Last trained: ",l.lastTrained]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.accuracy>.85?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:l.accuracy>.85?"Excellent":"Good"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]})]},l.id))})]})]}),n=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Labor Forecast"}),e.jsx("div",{className:"space-y-4",children:qb.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.dayOfWeek}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Predicted Sales: $",l.predictedSales.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Labor %: ",l.laborPercentage,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["$",l.laborCostForecast.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[Object.values(l.recommendedStaff).reduce((c,d)=>c+d,0)," staff"]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[(l.confidence*100).toFixed(0),"% confidence"]})]})]})]},l.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staffing Optimizations"}),e.jsx("div",{className:"space-y-4",children:Ub.map(l=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 capitalize",children:[l.shift," Shift"]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.potentialSavings>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l.potentialSavings>0?"+":"","$",l.potentialSavings]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:l.recommendation}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Current"}),e.jsxs("p",{className:"text-gray-600",children:["Servers: ",l.currentStaffing.servers,", Kitchen: ",l.currentStaffing.kitchen]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Optimal"}),e.jsxs("p",{className:"text-gray-600",children:["Servers: ",l.optimalStaffing.servers,", Kitchen: ",l.optimalStaffing.kitchen]})]})]})]},l.id))})]})]})}),i=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Analytics"}),e.jsx("div",{className:"space-y-4",children:Hb.map(l=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mr-3 ${l.customerSegment==="high-value"?"bg-purple-100 text-purple-800":l.customerSegment==="at-risk"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:l.customerSegment.replace("-"," ")}),e.jsxs("h4",{className:"font-medium text-gray-900",children:["Customer ",l.customerId.slice(-5)]})]}),e.jsxs("span",{className:"font-bold text-gray-900",children:["$",l.clv.toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"CLV"}),e.jsxs("p",{className:"font-medium",children:["$",l.clv.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Churn Risk"}),e.jsxs("p",{className:`font-medium ${l.churnProbability>.5?"text-red-600":"text-green-600"}`,children:[(l.churnProbability*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Avg Spend"}),e.jsxs("p",{className:"font-medium",children:["$",l.averageSpend]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Frequency"}),e.jsxs("p",{className:"font-medium",children:[l.visitFrequency,"x/month"]})]})]}),l.recommendedActions.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recommended Actions:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:l.recommendedActions.map((c,d)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(ft,{className:"h-3 w-3 text-green-500 mr-2"}),c]},d))})]})]},l.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cohort Analysis"}),e.jsx("div",{className:"space-y-4",children:Yb.map(l=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[l.cohortMonth," Cohort"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Customers:"}),e.jsx("span",{className:"font-medium",children:l.customersAcquired})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"12M Retention:"}),e.jsxs("span",{className:"font-medium",children:[(l.retentionRates.month12*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg CLV:"}),e.jsxs("span",{className:"font-medium",children:["$",l.averageClv.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"12M Revenue:"}),e.jsxs("span",{className:"font-medium",children:["$",l.revenuePerCohort.month12.toLocaleString()]})]})]})]},l.cohortMonth))})]})]})}),o=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Forecasting with External Context"}),e.jsx("div",{className:"space-y-4",children:Qb.map(l=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.date}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"font-bold text-gray-900",children:["$",l.predictedSales.toLocaleString()]}),l.actualSales&&e.jsxs("span",{className:`text-sm font-medium ${l.variance&&l.variance>0?"text-green-600":"text-red-600"}`,children:[l.variance&&l.variance>0?"+":"",l.variance,"%"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[(l.confidence*100).toFixed(0),"% confidence"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Seasonal"}),e.jsxs("p",{className:"font-medium",children:[((l.seasonalAdjustment-1)*100).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Weather"}),e.jsxs("p",{className:"font-medium",children:[((l.weatherImpact-1)*100).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Events"}),e.jsxs("p",{className:"font-medium",children:[((l.eventImpact-1)*100).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Trend"}),e.jsxs("p",{className:"font-medium",children:[((l.trendComponent-1)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contributing Factors:"}),e.jsx("div",{className:"space-y-1",children:l.factors.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:c.name}),e.jsxs("span",{className:`font-medium ${c.impact>0?"text-green-600":c.impact<0?"text-red-600":"text-gray-600"}`,children:[c.impact>0?"+":"",c.impact,"%"]})]},d))})]})]},l.id))})]})}),m=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"What-If Scenario Planning"}),e.jsx("button",{className:"inline-flex items-center px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Scenario"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Zb.map(l=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.scenarioName}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(l.confidence*100).toFixed(0),"% confidence"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:l.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Assumptions:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.assumptions.priceChange!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Price Change:"}),e.jsxs("span",{className:"font-medium",children:[l.assumptions.priceChange>0?"+":"",l.assumptions.priceChange,"%"]})]}),l.assumptions.staffingChange!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Staffing:"}),e.jsxs("span",{className:"font-medium",children:[l.assumptions.staffingChange>0?"+":"",l.assumptions.staffingChange,"%"]})]}),l.assumptions.marketingSpend>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Marketing:"}),e.jsxs("span",{className:"font-medium",children:["$",l.assumptions.marketingSpend]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Projected Impact (",l.timeframe,"):"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sales:"}),e.jsxs("span",{className:`font-medium ${l.projections.salesImpact>0?"text-green-600":"text-red-600"}`,children:[l.projections.salesImpact>0?"+":"",l.projections.salesImpact,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Labor Cost:"}),e.jsxs("span",{className:`font-medium ${l.projections.laborCostImpact<0?"text-green-600":"text-red-600"}`,children:[l.projections.laborCostImpact>0?"+":"",l.projections.laborCostImpact,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Profit:"}),e.jsxs("span",{className:`font-medium ${l.projections.profitImpact>0?"text-green-600":"text-red-600"}`,children:[l.projections.profitImpact>0?"+":"",l.projections.profitImpact,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Customers:"}),e.jsxs("span",{className:`font-medium ${l.projections.customerCountImpact>0?"text-green-600":"text-red-600"}`,children:[l.projections.customerCountImpact>0?"+":"",l.projections.customerCountImpact,"%"]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors",children:"Edit"}),e.jsx("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Run Simulation"})]})]},l.id))})]})}),u=()=>{switch(t){case"overview":return r();case"labor-forecasting":return n();case"customer-analytics":return i();case"sales-forecasting":return o();case"scenario-planning":return m();default:return r()}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(dn,{className:"h-6 w-6 mr-2 text-purple-600"})," Advanced Analytics"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered forecasting, predictive analytics, and scenario planning"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:" Premium Feature"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Export Analytics"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6",children:e.jsx("nav",{className:"flex space-x-8",children:a.map(l=>{const c=l.icon;return e.jsxs("button",{onClick:()=>s(l.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===l.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),l.label]},l.id)})})})}),e.jsx("div",{className:"p-6",children:u()})]})}const rN=[{id:"sysco-001",name:"Sysco Corporation",type:"sysco",logo:"",rating:4.2,deliveryDays:["Monday","Wednesday","Friday"],minimumOrder:150,paymentTerms:"Net 30",contact:{name:"Mike Rodriguez",phone:"(555) 123-4567",email:"mike.rodriguez@sysco.com"},performance:{onTimeDelivery:94,qualityScore:87,priceCompetitiveness:72,customerService:89}},{id:"restaurant-depot-001",name:"Restaurant Depot",type:"restaurant-depot",logo:"",rating:4,deliveryDays:["Tuesday","Thursday","Saturday"],minimumOrder:100,paymentTerms:"Net 15",contact:{name:"Sarah Chen",phone:"(555) 987-6543",email:"sarah.chen@restaurantdepot.com"},performance:{onTimeDelivery:91,qualityScore:85,priceCompetitiveness:89,customerService:82}},{id:"local-produce-001",name:"Green Valley Farms",type:"local",logo:"",rating:4.7,deliveryDays:["Monday","Wednesday","Friday"],minimumOrder:75,paymentTerms:"Net 15",contact:{name:"Tom Johnson",phone:"(555) 456-7890",email:"tom@greenvalleyfarms.com"},performance:{onTimeDelivery:96,qualityScore:95,priceCompetitiveness:65,customerService:98}}],Yd=[{id:"tomato-001",name:"Roma Tomatoes",category:"produce",unit:"lb",currentPrice:2.89,priceHistory:[{date:"2024-11-01",price:2.45,vendorId:"sysco-001"},{date:"2024-11-15",price:2.89,vendorId:"sysco-001"},{date:"2024-11-01",price:2.32,vendorId:"restaurant-depot-001"},{date:"2024-11-15",price:2.67,vendorId:"restaurant-depot-001"}],vendors:[{vendorId:"sysco-001",vendorName:"Sysco Corporation",price:2.89,unit:"lb",minimumQuantity:10,bulkDiscounts:[{quantity:25,discountPercent:5,pricePerUnit:2.75},{quantity:50,discountPercent:10,pricePerUnit:2.6}],lastUpdated:"2024-11-25",availability:"in-stock"},{vendorId:"restaurant-depot-001",vendorName:"Restaurant Depot",price:2.67,unit:"lb",minimumQuantity:20,bulkDiscounts:[{quantity:40,discountPercent:8,pricePerUnit:2.46}],lastUpdated:"2024-11-25",availability:"in-stock"}],seasonality:[{month:1,averagePrice:3.2,availability:"low",qualityRating:3.2},{month:6,averagePrice:2.1,availability:"high",qualityRating:4.8},{month:11,averagePrice:2.89,availability:"medium",qualityRating:4.1}],qualityGrade:"Grade A",shelfLife:7},{id:"chicken-breast-001",name:"Boneless Chicken Breast",category:"protein",unit:"lb",currentPrice:4.99,priceHistory:[{date:"2024-11-01",price:4.85,vendorId:"sysco-001"},{date:"2024-11-15",price:4.99,vendorId:"sysco-001"}],vendors:[{vendorId:"sysco-001",vendorName:"Sysco Corporation",price:4.99,unit:"lb",minimumQuantity:5,bulkDiscounts:[{quantity:20,discountPercent:7,pricePerUnit:4.64}],lastUpdated:"2024-11-25",availability:"in-stock"}],seasonality:[{month:1,averagePrice:5.2,availability:"medium",qualityRating:4.5}],qualityGrade:"Grade A",shelfLife:3}],nN=[{id:"square-checking",type:"square-checking",name:"Square Checking",fee:0,feeType:"fixed",processingTime:"1-2 business days",description:"Free ACH transfers from Square Checking account"},{id:"debit-card",type:"debit",name:"Debit Card",fee:0,feeType:"fixed",processingTime:"Instant",description:"Free debit card payments"},{id:"credit-card",type:"credit",name:"Credit Card",fee:2.9,feeType:"percentage",processingTime:"Instant",description:"2.9% fee for credit card payments"},{id:"ach-transfer",type:"ach",name:"ACH Transfer",fee:1.5,feeType:"fixed",processingTime:"2-3 business days",description:"$1.50 flat fee for ACH bank transfers"}],Qr=[{id:"bill-001",vendorId:"sysco-001",vendorName:"Sysco Corporation",invoiceNumber:"SYS-INV-2024-1125",amount:1247.89,dueDate:"2024-12-15",issueDate:"2024-11-15",status:"pending",category:"inventory",description:"Weekly food delivery - produce and proteins",lineItems:[{id:"li-001",description:"Roma Tomatoes - 25 lbs",quantity:25,unitPrice:2.75,totalPrice:68.75,category:"produce"},{id:"li-002",description:"Chicken Breast - 20 lbs",quantity:20,unitPrice:4.64,totalPrice:92.8,category:"protein"}]},{id:"bill-002",vendorId:"restaurant-depot-001",vendorName:"Restaurant Depot",invoiceNumber:"RD-INV-2024-1120",amount:876.54,dueDate:"2024-12-05",issueDate:"2024-11-20",status:"scheduled",category:"inventory",description:"Bulk dry goods and beverages",lineItems:[{id:"li-003",description:"Flour - 50 lb bags x 4",quantity:4,unitPrice:28.5,totalPrice:114,category:"dry-goods"}]},{id:"bill-003",vendorId:"utility-001",vendorName:"Pacific Gas & Electric",invoiceNumber:"PGE-2024-11",amount:432.18,dueDate:"2024-12-01",issueDate:"2024-11-01",status:"overdue",category:"utilities",description:"Monthly electricity and gas service",lineItems:[{id:"li-004",description:"Electricity Usage - 1,250 kWh",quantity:1250,unitPrice:.28,totalPrice:350,category:"utilities"}]}],iN=[{date:"2024-11-26",incomingRevenue:4200,outgoingPayments:876.54,netCashFlow:3323.46,runningBalance:12500,projectedBalance:15823.46,riskLevel:"low"},{date:"2024-11-27",incomingRevenue:3800,outgoingPayments:432.18,netCashFlow:3367.82,runningBalance:15823.46,projectedBalance:19191.28,riskLevel:"low"},{date:"2024-12-01",incomingRevenue:4500,outgoingPayments:2100,netCashFlow:2400,runningBalance:18e3,projectedBalance:20400,riskLevel:"medium"}],lN=[{id:"rec-001",type:"vendor-switch",title:"Switch Tomato Supplier",description:"Restaurant Depot offers Roma tomatoes 8% cheaper than Sysco",potentialSavings:234.5,confidence:.92,timeframe:"Next order cycle",ingredients:["Roma Tomatoes"],currentVendor:"Sysco Corporation",recommendedVendor:"Restaurant Depot",actionRequired:"Update order guide and place next tomato order with Restaurant Depot",impact:"high"},{id:"rec-002",type:"bulk-discount",title:"Bulk Chicken Purchase",description:"Order 20+ lbs of chicken breast to get 7% bulk discount",potentialSavings:89.4,confidence:.87,timeframe:"This week",ingredients:["Boneless Chicken Breast"],currentVendor:"Sysco Corporation",actionRequired:"Increase chicken order quantity to 20+ lbs",impact:"medium"},{id:"rec-003",type:"seasonal-timing",title:"Seasonal Produce Timing",description:"Tomato prices typically drop 15% in summer months",potentialSavings:156.8,confidence:.78,timeframe:"June 2025",ingredients:["Roma Tomatoes","Bell Peppers"],actionRequired:"Plan menu adjustments for seasonal price variations",impact:"medium"}],Hp=[{id:"sei-001",type:"procurement-optimization",title:"Vendor Switch Opportunity",description:"Switch produce supplier to save $234/month",insight:"Restaurant Depot consistently offers Roma tomatoes 8% cheaper than Sysco with similar quality ratings.",reasoning:["Price difference: $2.67 vs $2.89 per lb (8% savings)","Quality scores: Restaurant Depot 85/100 vs Sysco 87/100","Monthly tomato usage: ~100 lbs","Potential monthly savings: $234"],confidence:.92,severity:"info",category:"procurement",timestamp:"2024-11-25T10:30:00Z",dataPoints:[{metric:"Current Cost",value:"$2.89/lb",trend:"up"},{metric:"Alternative Cost",value:"$2.67/lb",trend:"stable"},{metric:"Monthly Savings",value:"$234",trend:"up"}],recommendations:[{action:"Switch tomato orders to Restaurant Depot",priority:"high",estimatedImpact:"$234/month savings",timeframe:"Next order cycle"}],potentialSavings:234.5,affectedVendors:["Sysco Corporation","Restaurant Depot"]},{id:"sei-002",type:"payment-timing",title:"Cash Flow Optimization",description:"Reschedule 3 vendor payments to avoid Tuesday cash crunch",insight:"Your payment schedule creates cash flow strain on Tuesdays when revenue is typically 25% lower.",reasoning:["Tuesday revenue average: $3,200 vs weekly average $4,200","Tuesday scheduled payments: $2,100","Net cash flow on Tuesdays: $1,100 (tight margin)","Recommended: Move 2 payments to Wednesday/Thursday"],confidence:.85,severity:"warning",category:"cash-flow",timestamp:"2024-11-25T11:15:00Z",dataPoints:[{metric:"Tuesday Revenue",value:"$3,200",trend:"down"},{metric:"Tuesday Payments",value:"$2,100",trend:"stable"},{metric:"Cash Flow Risk",value:"High",trend:"up"}],recommendations:[{action:"Reschedule Sysco payment to Wednesday",priority:"high",estimatedImpact:"Improved cash flow stability",timeframe:"This week"}],relatedBills:["bill-001","bill-002"]},{id:"sei-003",type:"cost-savings",title:"Payment Method Optimization",description:"Switch to Square Checking to save $67/month in fees",insight:"Using credit cards for vendor payments costs $67/month in fees. Square Checking offers free ACH transfers.",reasoning:["Current credit card fees: $67/month (2.9% on $2,310)","Square Checking: $0 fees for ACH transfers","Processing time difference: Instant vs 1-2 days","Annual savings potential: $804"],confidence:.95,severity:"success",category:"bill-pay",timestamp:"2024-11-25T12:00:00Z",dataPoints:[{metric:"Monthly Fees",value:"$67",trend:"up"},{metric:"Square Checking Fees",value:"$0",trend:"stable"},{metric:"Annual Savings",value:"$804",trend:"up"}],recommendations:[{action:"Set up Square Checking for vendor payments",priority:"medium",estimatedImpact:"$804 annual savings",timeframe:"Next billing cycle"}]}],$a={totalOutstanding:5556.61,averagePaymentCycle:22,vendorCount:12,monthlyPaymentVolume:18750,paymentMethodBreakdown:[{method:"Square Checking",volume:12500,fees:0,percentage:66.7},{method:"Credit Card",volume:4200,fees:121.8,percentage:22.4},{method:"Debit Card",volume:2050,fees:0,percentage:10.9}],agingReport:{current:3247.89,thirtyDays:1876.54,sixtyDays:432.18,ninetyDaysPlus:0},topVendorsBySpend:[{vendorName:"Sysco Corporation",monthlySpend:8500,percentage:45.3},{vendorName:"Restaurant Depot",monthlySpend:4200,percentage:22.4},{vendorName:"Green Valley Farms",monthlySpend:2800,percentage:14.9}]};function oN(){Z();const[t,s]=j.useState("overview");j.useState("all");const a=[{id:"overview",label:"Overview",icon:""},{id:"vendors",label:"Vendor Comparison",icon:""},{id:"ingredients",label:"Ingredient Tracking",icon:""},{id:"menu-analysis",label:"Menu Analysis",icon:""},{id:"recommendations",label:"AI Recommendations",icon:""}],r=Hp.filter(u=>u.category==="procurement"),n=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(kt,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"+$1,247"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Savings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$1,247"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"From vendor optimizations"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(gv,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"3 vendors"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Active Vendors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"3"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sysco, Restaurant Depot, Local"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(Ue,{className:"w-5 h-5 text-orange-600"})}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:"87/100"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Vendor Performance"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"87/100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Average across all vendors"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(_e,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"5 active"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"AI Recommendations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"5"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Potential savings opportunities"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" AI Procurement Insights"}),e.jsx("button",{onClick:()=>s("recommendations"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All "})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.slice(0,2).map(u=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(_e,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:u.title}),e.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-0.5 rounded-full",children:"AI Insight"})]})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(u.confidence*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),u.potentialSavings&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Potential Savings: $",u.potentialSavings]}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Apply Recommendation"})]})]},u.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Recent Price Trends"}),e.jsx("div",{className:"space-y-4",children:Yd.slice(0,3).map(u=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.name}),e.jsx("p",{className:"text-sm text-gray-500",children:u.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",u.currentPrice,"/",u.unit]}),e.jsx("div",{className:"flex items-center text-sm",children:u.priceHistory.length>1&&u.currentPrice>u.priceHistory[0].price?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsxs("span",{className:"text-red-500",children:["+",((u.currentPrice-u.priceHistory[0].price)/u.priceHistory[0].price*100).toFixed(1),"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ct,{className:"w-4 h-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500",children:"Stable"})]})})]})]},u.id))})]})]}),i=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" Vendor Performance Comparison"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:rN.map(u=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:u.logo}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:u.name}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(ga,{className:"w-4 h-4 text-yellow-500 mr-1"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[u.rating,"/5"]})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"On-Time Delivery"}),e.jsxs("span",{className:"font-medium",children:[u.performance.onTimeDelivery,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Quality Score"}),e.jsxs("span",{className:"font-medium",children:[u.performance.qualityScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Price Competitiveness"}),e.jsxs("span",{className:"font-medium",children:[u.performance.priceCompetitiveness,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Customer Service"}),e.jsxs("span",{className:"font-medium",children:[u.performance.customerService,"%"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Terms"}),e.jsx("span",{className:"font-medium",children:u.paymentTerms})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Min Order"}),e.jsxs("span",{className:"font-medium",children:["$",u.minimumOrder]})]})]}),e.jsx("button",{className:"w-full mt-4 px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"View Details"})]},u.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" Price Comparison Matrix"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Ingredient"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Sysco"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Restaurant Depot"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Best Price"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Savings"})]})}),e.jsx("tbody",{children:Yd.map(u=>{var g,y;const l=(g=u.vendors.find(N=>N.vendorId==="sysco-001"))==null?void 0:g.price,c=(y=u.vendors.find(N=>N.vendorId==="restaurant-depot-001"))==null?void 0:y.price,d=Math.min(...u.vendors.map(N=>N.price)),h=Math.max(...u.vendors.map(N=>N.price))-d;return e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["per ",u.unit]})]})]})}),e.jsx("td",{className:"py-3 px-4 text-center",children:l?e.jsxs("span",{className:`font-medium ${l===d?"text-green-600":"text-gray-900"}`,children:["$",l.toFixed(2)]}):e.jsx("span",{className:"text-gray-400",children:"N/A"})}),e.jsx("td",{className:"py-3 px-4 text-center",children:c?e.jsxs("span",{className:`font-medium ${c===d?"text-green-600":"text-gray-900"}`,children:["$",c.toFixed(2)]}):e.jsx("span",{className:"text-gray-400",children:"N/A"})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsxs("span",{className:"font-semibold text-green-600",children:["$",d.toFixed(2)]})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsxs("span",{className:"font-medium text-green-600",children:["$",h.toFixed(2)]})})]},u.id)})})]})})]})]}),o=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" AI Procurement Recommendations"}),e.jsx("div",{className:"space-y-4",children:lN.map(u=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mr-4",children:[u.type==="vendor-switch"&&"",u.type==="bulk-discount"&&"",u.type==="seasonal-timing"&&""]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mr-3",children:u.title}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.impact==="high"?"bg-red-100 text-red-800":u.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[u.impact.toUpperCase()," IMPACT"]})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:u.description}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:u.actionRequired}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Potential Savings: $",u.potentialSavings]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",(u.confidence*100).toFixed(0),"%"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Timeframe: ",u.timeframe]})]})})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{className:"px-3 py-1.5 text-xs bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Apply"}),e.jsx("button",{className:"px-3 py-1.5 text-xs border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Details"})]})]})},u.id))})]})}),m=()=>{switch(t){case"overview":return n();case"vendors":return i();case"recommendations":return o();case"ingredients":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Ingredient Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Detailed ingredient cost tracking and inventory management coming soon..."})]});case"menu-analysis":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Menu Analysis"}),e.jsx("p",{className:"text-gray-600",children:"AI-powered menu cost analysis and profitability insights coming soon..."})]});default:return n()}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Square Order Guide Integration"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered procurement intelligence and vendor management"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Import Menu"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Generate Report"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Add Vendor"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6",children:e.jsx("nav",{className:"flex space-x-8",children:a.map(u=>e.jsxs("button",{onClick:()=>s(u.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===u.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:u.icon}),u.label]},u.id))})})}),e.jsx("div",{className:"p-6",children:m()})]})}function cN(){Z();const[t,s]=j.useState("overview");j.useState("week");const a=[{id:"overview",label:"Overview",icon:""},{id:"bills",label:"Bills & Payments",icon:""},{id:"vendors",label:"Vendor Management",icon:""},{id:"cash-flow",label:"Cash Flow",icon:""},{id:"analytics",label:"AP Analytics",icon:""}],r=Hp.filter(c=>c.category==="bill-pay"||c.category==="cash-flow"),n=Qr.filter(c=>c.status==="pending"||c.status==="scheduled"),i=Qr.filter(c=>c.status==="overdue"),o=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(tt,{className:"w-5 h-5 text-red-600"})}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[i.length," overdue"]})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Outstanding Bills"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",$a.totalOutstanding.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Across ",$a.vendorCount," vendors"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rt,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"This week"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Upcoming Payments"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",n.reduce((c,d)=>c+d.amount,0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.length," bills due"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(By,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Monthly"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Payment Savings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$804"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Annual savings potential"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ye,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[$a.averagePaymentCycle," days"]})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Avg Payment Cycle"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$a.averagePaymentCycle}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Days to pay bills"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" AI Bill Pay Insights"}),e.jsx("button",{onClick:()=>s("analytics"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All Analytics "})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.slice(0,2).map(c=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(_e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.title}),e.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"AI Insight"})]})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(c.confidence*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:c.potentialSavings?`Savings: $${c.potentialSavings}`:"Optimization Available"}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply Suggestion"})]})]},c.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Payment Schedule - Next 7 Days"}),e.jsx("div",{className:"grid grid-cols-7 gap-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((c,d)=>{const p=d===1?[Qr[0]]:d===3?[Qr[1]]:[],h=p.reduce((g,y)=>g+y.amount,0);return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Nov ",26+d]})]}),p.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",h.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[p.length," bill",p.length>1?"s":""]})]}),p.map(g=>e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:g.vendorName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",g.amount]})]},g.id))]}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-sm text-gray-400",children:"No payments"})})]},c)})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Payment Method Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Monthly Volume by Method"}),e.jsx("div",{className:"space-y-3",children:$a.paymentMethodBreakdown.map(c=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:c.method})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",c.volume.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[c.percentage,"%"]})]})]},c.method))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Fee Comparison"}),e.jsx("div",{className:"space-y-3",children:nN.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.name}),e.jsx("p",{className:"text-xs text-gray-500",children:c.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.fee===0?"FREE":c.feeType==="percentage"?`${c.fee}%`:`$${c.fee}`}),e.jsx("p",{className:"text-xs text-gray-500",children:c.processingTime})]})]},c.id))})]})]})]})]}),m=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" Upcoming Bills"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Schedule Payment"})]}),e.jsx("div",{className:"space-y-4",children:n.map(c=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(ds,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:c.vendorName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Invoice: ",c.invoiceNumber]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",c.amount.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(c.dueDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c.status==="pending"?"bg-yellow-100 text-yellow-800":c.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status.toUpperCase()}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Pay Now"}),e.jsx("button",{className:"px-3 py-1.5 text-xs border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Schedule"})]})]})]},c.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:" Overdue Bills"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Pay All Overdue"})]}),i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(c=>e.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(tt,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:c.vendorName}),e.jsxs("p",{className:"text-sm text-red-600",children:["Invoice: ",c.invoiceNumber]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-red-900",children:["$",c.amount.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-red-600",children:[Math.ceil((new Date().getTime()-new Date(c.dueDate).getTime())/(1e3*60*60*24))," days overdue"]})]})]}),e.jsx("button",{className:"w-full px-4 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Pay Immediately"})]},c.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ft,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("p",{className:"text-green-600 font-medium",children:"No overdue bills!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All payments are up to date"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Recent Payment History"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Vendor"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Amount"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Method"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Fee"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-4 text-gray-900",children:"Nov 20, 2024"}),e.jsx("td",{className:"py-3 px-4 text-gray-900",children:"Green Valley Farms"}),e.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"$1,234.56"}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:"Square Checking"}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"COMPLETED"})}),e.jsx("td",{className:"py-3 px-4 text-green-600 font-medium",children:"$0.00"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-4 text-gray-900",children:"Nov 18, 2024"}),e.jsx("td",{className:"py-3 px-4 text-gray-900",children:"Pacific Gas & Electric"}),e.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"$432.18"}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:"Credit Card"}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:"PROCESSING"})}),e.jsx("td",{className:"py-3 px-4 text-red-600 font-medium",children:"$12.53"})]})]})]})})]})]}),u=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" Cash Flow Projection - Next 30 Days"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:iN.slice(0,3).map((c,d)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:new Date(c.date).toLocaleDateString()}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c.riskLevel==="low"?"bg-green-100 text-green-800":c.riskLevel==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[c.riskLevel.toUpperCase()," RISK"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Revenue In"}),e.jsxs("span",{className:"font-medium text-green-600",children:["+$",c.incomingRevenue.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Payments Out"}),e.jsxs("span",{className:"font-medium text-red-600",children:["-$",c.outgoingPayments.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Net Cash Flow"}),e.jsxs("span",{className:`font-semibold ${c.netCashFlow>=0?"text-green-600":"text-red-600"}`,children:["$",c.netCashFlow.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Projected Balance"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",c.projectedBalance.toLocaleString()]})]})]})]},c.date))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Cash Flow Trend"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Interactive cash flow chart coming soon"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Revenue vs Payments over time"})]})})]})]}),l=()=>{switch(t){case"overview":return o();case"bills":return m();case"cash-flow":return u();case"vendors":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Vendor Management"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive vendor account management and banking info coming soon..."})]});case"analytics":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" AP Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Advanced accounts payable analytics and reporting coming soon..."})]});default:return o()}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Square Bill Pay Integration"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive accounts payable management and cash flow optimization"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Cash Flow Report"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Payment Settings"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Pay Bills"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6",children:e.jsx("nav",{className:"flex space-x-8",children:a.map(c=>e.jsxs("button",{onClick:()=>s(c.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===c.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})})}),e.jsx("div",{className:"p-6",children:l()})]})}const Qd=[{id:"margherita-pizza",name:"Margherita Pizza",category:"Pizza",salesPrice:16.99,ingredients:[{ingredientId:"tomato-001",ingredientName:"Roma Tomatoes",quantity:.5,unit:"lb",currentCost:1.44,bestVendorPrice:1.34,currentVendor:"Sysco",bestVendor:"Restaurant Depot",potentialSavings:.1,priceStability:"seasonal"},{ingredientId:"mozzarella-001",ingredientName:"Fresh Mozzarella",quantity:.3,unit:"lb",currentCost:2.1,bestVendorPrice:2.1,currentVendor:"Sysco",bestVendor:"Sysco",potentialSavings:0,priceStability:"stable"},{ingredientId:"flour-001",ingredientName:"Pizza Flour",quantity:.25,unit:"lb",currentCost:.45,bestVendorPrice:.42,currentVendor:"Sysco",bestVendor:"Restaurant Depot",potentialSavings:.03,priceStability:"stable"}],totalIngredientCost:3.99,grossMargin:13,grossMarginPercent:76.5,salesVolume:145,totalRevenue:2463.55,totalProfit:1885.55,profitabilityRank:2,costTrends:[{date:"2024-11-01",totalCost:3.85,margin:13.14,marginPercent:77.3,primaryDriver:"Stable costs"},{date:"2024-11-15",totalCost:3.99,margin:13,marginPercent:76.5,primaryDriver:"Tomato price increase"}],vendorRisk:{overallRisk:"medium",paymentRisk:25,deliveryRisk:15,priceRisk:35,riskFactors:["Seasonal tomato pricing","Single vendor dependency"],mitigationSuggestions:["Diversify tomato suppliers","Consider seasonal menu adjustments"]}},{id:"caesar-salad",name:"Caesar Salad",category:"Salads",salesPrice:12.99,ingredients:[{ingredientId:"romaine-001",ingredientName:"Romaine Lettuce",quantity:.3,unit:"lb",currentCost:.89,bestVendorPrice:.75,currentVendor:"Sysco",bestVendor:"Green Valley Farms",potentialSavings:.14,priceStability:"volatile"},{ingredientId:"parmesan-001",ingredientName:"Parmesan Cheese",quantity:.1,unit:"lb",currentCost:1.25,bestVendorPrice:1.25,currentVendor:"Sysco",bestVendor:"Sysco",potentialSavings:0,priceStability:"stable"}],totalIngredientCost:2.89,grossMargin:10.1,grossMarginPercent:77.8,salesVolume:89,totalRevenue:1156.11,totalProfit:899.11,profitabilityRank:1,costTrends:[{date:"2024-11-01",totalCost:2.65,margin:10.34,marginPercent:79.6,primaryDriver:"Lower lettuce costs"},{date:"2024-11-15",totalCost:2.89,margin:10.1,marginPercent:77.8,primaryDriver:"Lettuce price volatility"}],vendorRisk:{overallRisk:"high",paymentRisk:20,deliveryRisk:40,priceRisk:60,riskFactors:["High lettuce price volatility","Weather-dependent supply"],mitigationSuggestions:["Contract with multiple lettuce suppliers","Consider hydroponic suppliers"]}}],Yp=[{id:"iai-001",type:"cost-revenue-optimization",title:"Menu Profitability Optimization",description:"Switch tomato supplier to increase Margherita pizza margin by 3.2%",insight:"By switching Roma tomatoes from Sysco ($2.89/lb) to Restaurant Depot ($2.67/lb), your Margherita pizza margin increases from 76.5% to 79.7%, generating an additional $234/month in profit.",reasoning:["Current tomato cost: $1.44 per pizza (Sysco at $2.89/lb)","Alternative cost: $1.34 per pizza (Restaurant Depot at $2.67/lb)","Savings per pizza: $0.10","Monthly volume: 145 pizzas  $0.10 = $14.50 savings","Annual impact: $174 additional profit"],confidence:.92,severity:"success",category:"profitability",timestamp:"2024-11-25T14:30:00Z",dataPoints:[{metric:"Current Margin",value:"76.5%",trend:"stable",source:"integrated"},{metric:"Optimized Margin",value:"79.7%",trend:"up",source:"integrated"},{metric:"Monthly Savings",value:"$234",trend:"up",source:"order-guide"},{metric:"Quality Score",value:"85/100",trend:"stable",source:"order-guide"}],recommendations:[{action:"Switch tomato supplier to Restaurant Depot",priority:"high",estimatedImpact:"$234/month profit increase",timeframe:"Next order cycle",implementationSteps:["Contact Restaurant Depot for availability","Place trial order for quality verification","Update order guide preferences","Monitor first 3 deliveries for consistency"]}],potentialSavings:234.5,revenueImpact:0,affectedVendors:["Sysco Corporation","Restaurant Depot"],affectedMenuItems:["Margherita Pizza","Marinara Pasta","Caprese Salad"],crossPlatformData:{posData:{margheritaSales:145,averagePrice:16.99},orderGuideData:{currentVendor:"Sysco",alternativeVendor:"Restaurant Depot"},billPayData:{syscoPaymentTerms:"Net 30",rdPaymentTerms:"Net 15"}}},{id:"iai-002",type:"cash-flow-optimization",title:"Payment Timing Optimization",description:"Reschedule Tuesday payments to improve cash flow by $1,200",insight:"Your Tuesday payment schedule creates cash flow strain when revenue is 25% below average. Rescheduling 3 vendor payments to Wednesday-Thursday improves cash flow stability.",reasoning:["Tuesday average revenue: $3,200 (vs $4,200 weekly average)","Tuesday scheduled payments: $2,100","Net Tuesday cash flow: $1,100 (tight margin)","Wednesday-Thursday average revenue: $4,500","Recommended: Move $1,500 in payments to Wed-Thu"],confidence:.85,severity:"warning",category:"cash-flow",timestamp:"2024-11-25T15:45:00Z",dataPoints:[{metric:"Tuesday Revenue",value:"$3,200",trend:"down",source:"pos"},{metric:"Tuesday Payments",value:"$2,100",trend:"stable",source:"bill-pay"},{metric:"Cash Flow Risk",value:"High",trend:"up",source:"integrated"}],recommendations:[{action:"Reschedule Sysco payment to Wednesday",priority:"high",estimatedImpact:"Improved cash flow stability",timeframe:"This week",implementationSteps:["Review current payment schedule","Contact vendors for payment date flexibility","Update Bill Pay scheduling","Monitor cash flow improvements"]}],potentialSavings:0,revenueImpact:1200,relatedBills:["bill-001","bill-002"],crossPlatformData:{posData:{tuesdayRevenue:3200,weeklyAverage:4200},orderGuideData:{vendorFlexibility:"medium"},billPayData:{tuesdayPayments:2100,paymentFlexibility:"high"}}},{id:"iai-003",type:"supply-chain-risk",title:"Vendor Dependency Risk Alert",description:"High dependency on Sysco creates $12,500 revenue risk",insight:"Sysco supplies 68% of your ingredients affecting 85% of menu items. Supply disruption could impact $12,500 in weekly revenue. Diversification recommended.",reasoning:["Sysco dependency: 68% of ingredient spend","Menu items at risk: 85% (12 of 14 items)","Weekly revenue exposure: $12,500","Alternative suppliers available for 90% of items","Diversification could reduce risk by 40%"],confidence:.78,severity:"warning",category:"supply-chain",timestamp:"2024-11-25T16:20:00Z",dataPoints:[{metric:"Vendor Dependency",value:"68%",trend:"up",source:"order-guide"},{metric:"Revenue at Risk",value:"$12,500",trend:"stable",source:"integrated"},{metric:"Alternative Options",value:"90%",trend:"stable",source:"order-guide"}],recommendations:[{action:"Implement vendor diversification strategy",priority:"medium",estimatedImpact:"40% risk reduction",timeframe:"3-6 months",implementationSteps:["Identify alternative suppliers for top 10 ingredients","Negotiate trial contracts with 2-3 vendors","Implement 70/30 split for critical ingredients","Monitor quality and delivery performance"]}],affectedVendors:["Sysco Corporation"],affectedMenuItems:["Margherita Pizza","Caesar Salad","Chicken Parmesan"],crossPlatformData:{posData:{revenueAtRisk:12500,affectedItems:12},orderGuideData:{syscoDependency:.68,alternativeVendors:3},billPayData:{syscoSpend:8500,paymentRisk:"medium"}}}],Qp=[{id:"true-food-cost",title:"True Food Cost %",value:"28.5%",change:"-1.2%",changeType:"positive",category:"profitability",description:"Real-time food cost percentage using live ingredient pricing",dataSources:["pos","order-guide"],trend:[29.8,29.2,28.9,28.7,28.5],breakdown:[{label:"Ingredient Costs",value:"$12,450",source:"Order Guide"},{label:"Total Revenue",value:"$43,684",source:"POS"},{label:"Cost Savings",value:"$234",subtext:"vs last month",source:"Integrated"}],insights:["Tomato supplier switch saved $234 this month","2.3% below industry average of 30.8%"],actionable:!0,quickActions:[{label:"View Cost Breakdown",action:"navigate-cost-analysis"},{label:"Optimize Suppliers",action:"open-vendor-comparison"}]},{id:"cash-flow-health",title:"Cash Flow Health Score",value:"92/100",change:"+5 points",changeType:"positive",category:"cash-flow",description:"Overall cash flow stability and optimization score",dataSources:["pos","bill-pay"],trend:[85,87,89,90,92],breakdown:[{label:"Payment Timing",value:"95/100",subtext:"Excellent",source:"Bill Pay"},{label:"Cash Buffer",value:"88/100",subtext:"Good",source:"Integrated"},{label:"Vendor Terms",value:"92/100",subtext:"Very Good",source:"Bill Pay"}],insights:["Payment optimization saved $67 in fees","Cash flow 15% more stable than last quarter"],actionable:!0,quickActions:[{label:"View Cash Flow",action:"navigate-cash-flow"},{label:"Optimize Payments",action:"open-payment-optimizer"}]},{id:"vendor-risk-score",title:"Vendor Risk Assessment",value:"35/100",change:"Medium Risk",changeType:"neutral",category:"supply-chain",description:"Supply chain risk based on vendor dependency and performance",dataSources:["order-guide","bill-pay"],trend:[42,38,36,35,35],breakdown:[{label:"Sysco Dependency",value:"68%",subtext:"High",source:"Order Guide"},{label:"Payment Risk",value:"25/100",subtext:"Low",source:"Bill Pay"},{label:"Delivery Risk",value:"15/100",subtext:"Low",source:"Order Guide"}],insights:["High dependency on single vendor","Consider diversifying produce suppliers"],actionable:!0,quickActions:[{label:"View Risk Analysis",action:"navigate-supply-chain"},{label:"Find Alternatives",action:"open-vendor-search"}]},{id:"menu-profitability",title:"Menu Profitability Ranking",value:"#1 Caesar Salad",change:"77.8% margin",changeType:"positive",category:"profitability",description:"Real-time menu item profitability with live ingredient costs",dataSources:["pos","order-guide"],trend:[76.2,76.8,77.1,77.5,77.8],breakdown:[{label:"Caesar Salad",value:"77.8%",subtext:"#1 margin",source:"Integrated"},{label:"Margherita Pizza",value:"76.5%",subtext:"#2 margin",source:"Integrated"},{label:"Chicken Parmesan",value:"68.2%",subtext:"#3 margin",source:"Integrated"}],insights:["Lettuce price volatility affects Caesar profitability","Pizza margins improved with tomato supplier switch"],actionable:!0,quickActions:[{label:"View Full Ranking",action:"navigate-menu-analysis"},{label:"Optimize Costs",action:"open-cost-optimizer"}]},{id:"cost-savings-opportunities",title:"Cost Savings Opportunities",value:"$2,847",change:"+$234 identified",changeType:"positive",category:"cost-optimization",description:"AI-identified cost reduction opportunities across operations",dataSources:["pos","order-guide","bill-pay"],trend:[2200,2400,2600,2613,2847],breakdown:[{label:"Payment Method Switch",value:"$804",subtext:"Quick win",source:"Bill Pay"},{label:"Vendor Optimization",value:"$1,250",subtext:"Strategic",source:"Order Guide"},{label:"Bulk Ordering",value:"$793",subtext:"Process",source:"Integrated"}],insights:["5 quick wins available (< 1 week implementation)","ROI of 340% on optimization investments"],actionable:!0,quickActions:[{label:"View All Opportunities",action:"navigate-cost-optimization"},{label:"Implement Quick Wins",action:"start-quick-wins"}]},{id:"payment-optimization",title:"Payment Optimization Score",value:"87/100",change:"+12 points",changeType:"positive",category:"cash-flow",description:"Efficiency of payment methods and timing optimization",dataSources:["bill-pay"],trend:[72,76,81,84,87],breakdown:[{label:"Method Efficiency",value:"92%",subtext:"Excellent",source:"Bill Pay"},{label:"Timing Optimization",value:"85%",subtext:"Good",source:"Bill Pay"},{label:"Fee Minimization",value:"89%",subtext:"Very Good",source:"Bill Pay"}],insights:["Square Checking adoption reduced fees by 67%","Payment timing optimization improved cash flow"],actionable:!0,quickActions:[{label:"View Payment Analysis",action:"navigate-payment-analysis"},{label:"Optimize Schedule",action:"open-payment-scheduler"}]}];function dN(){Z();const[t,s]=j.useState("overview"),a=[{id:"overview",label:"Profitability Overview",icon:""},{id:"menu-analysis",label:"Menu Analysis",icon:""},{id:"cost-optimization",label:"Cost Optimization",icon:""},{id:"vendor-impact",label:"Vendor Impact",icon:""},{id:"ai-insights",label:"AI Insights",icon:""}],r=Yp.filter(l=>l.category==="profitability"||l.category==="cost-optimization"),n=Qp.filter(l=>l.category==="profitability"||l.category==="cost-optimization"),i=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(kt,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:`text-sm font-medium ${l.changeType==="positive"?"text-green-600":l.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:l.change})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:l.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.description}),l.breakdown&&e.jsx("div",{className:"mt-4 space-y-2",children:l.breakdown.slice(0,2).map((c,d)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:c.label}),e.jsx("span",{className:"font-medium text-gray-900",children:c.value})]},d))})]},l.id))}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" AI Profitability Insights"}),e.jsx("button",{onClick:()=>s("ai-insights"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All Insights "})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.slice(0,2).map(l=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(_e,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:l.title}),e.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:"AI Insight"})]})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(l.confidence*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:l.description}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:l.dataPoints.slice(0,3).map((c,d)=>e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:c.metric}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:c.value})]},d))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:l.potentialSavings?`Savings: $${l.potentialSavings}`:l.revenueImpact?`Impact: $${l.revenueImpact}`:"Optimization Available"}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Apply Insight"})]})]},l.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Integrated Data Sources"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"POS Data"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Menu Item Sales"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Real-time"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Revenue by Item"}),e.jsx("span",{className:"font-medium text-blue-900",children:"$43,684"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Transaction Volume"}),e.jsx("span",{className:"font-medium text-blue-900",children:"1,247"})]})]})]}),e.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(tc,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("h4",{className:"font-medium text-green-900",children:"Order Guide Data"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Ingredient Costs"}),e.jsx("span",{className:"font-medium text-green-900",children:"Live Pricing"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Vendor Comparisons"}),e.jsx("span",{className:"font-medium text-green-900",children:"3 Vendors"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Cost Optimization"}),e.jsx("span",{className:"font-medium text-green-900",children:"$2,847"})]})]})]}),e.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(mi,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"Bill Pay Data"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Payment Timing"}),e.jsx("span",{className:"font-medium text-purple-900",children:"Optimized"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Cash Flow Impact"}),e.jsx("span",{className:"font-medium text-purple-900",children:"92/100"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Fee Optimization"}),e.jsx("span",{className:"font-medium text-purple-900",children:"$804 saved"})]})]})]})]})]})]}),o=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" Real-Time Menu Profitability Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Menu Item"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Sales Price"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Ingredient Cost"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Gross Margin"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Margin %"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Volume"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Total Profit"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Optimization"})]})}),e.jsx("tbody",{children:Qd.map((l,c)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["#",l.profitabilityRank]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500",children:l.category})]})]})}),e.jsxs("td",{className:"py-3 px-4 text-center font-medium text-gray-900",children:["$",l.salesPrice.toFixed(2)]}),e.jsxs("td",{className:"py-3 px-4 text-center",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["$",l.totalIngredientCost.toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500",children:l.ingredients.reduce((d,p)=>d+p.potentialSavings,0)>0&&e.jsxs("span",{className:"text-green-600",children:["Save $",l.ingredients.reduce((d,p)=>d+p.potentialSavings,0).toFixed(2)]})})]}),e.jsxs("td",{className:"py-3 px-4 text-center font-medium text-gray-900",children:["$",l.grossMargin.toFixed(2)]}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsxs("span",{className:`font-semibold ${l.grossMarginPercent>=75?"text-green-600":l.grossMarginPercent>=65?"text-yellow-600":"text-red-600"}`,children:[l.grossMarginPercent.toFixed(1),"%"]})}),e.jsx("td",{className:"py-3 px-4 text-center font-medium text-gray-900",children:l.salesVolume}),e.jsxs("td",{className:"py-3 px-4 text-center font-semibold text-green-600",children:["$",l.totalProfit.toFixed(0)]}),e.jsx("td",{className:"py-3 px-4 text-center",children:l.ingredients.some(d=>d.potentialSavings>0)?e.jsx("button",{className:"px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Optimize"}):e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Optimized"})})]},l.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Ingredient Cost Analysis"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Qd.map(l=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:l.name}),e.jsx("div",{className:"space-y-3",children:l.ingredients.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.ingredientName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[c.quantity," ",c.unit," from ",c.currentVendor]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",c.currentCost.toFixed(2)]}),c.potentialSavings>0&&e.jsxs("p",{className:"text-xs text-green-600",children:["Save $",c.potentialSavings.toFixed(2)]})]})]},d))})]},l.id))})]})]}),m=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" Cost Optimization Opportunities"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Quick Wins"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"$1,195"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Vendor Switch"}),e.jsx("span",{className:"font-medium text-green-900",children:"$234"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Payment Method"}),e.jsx("span",{className:"font-medium text-green-900",children:"$804"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Bulk Ordering"}),e.jsx("span",{className:"font-medium text-green-900",children:"$157"})]})]}),e.jsx("button",{className:"w-full mt-3 px-3 py-2 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Implement All"})]}),e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Strategic Initiatives"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"$1,250"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Vendor Diversification"}),e.jsx("span",{className:"font-medium text-blue-900",children:"$850"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Contract Renegotiation"}),e.jsx("span",{className:"font-medium text-blue-900",children:"$400"})]})]}),e.jsx("button",{className:"w-full mt-3 px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Plan Implementation"})]}),e.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-purple-900",children:"Process Improvements"}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"$402"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Ordering Automation"}),e.jsx("span",{className:"font-medium text-purple-900",children:"$180"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Inventory Optimization"}),e.jsx("span",{className:"font-medium text-purple-900",children:"$222"})]})]}),e.jsx("button",{className:"w-full mt-3 px-3 py-2 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:"Assess ROI"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Implementation Timeline"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Week 1: Quick Wins Implementation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Switch payment methods, update vendor preferences"})]}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"$1,195 savings"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Month 1-3: Strategic Initiatives"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Vendor diversification, contract negotiations"})]}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"$1,250 savings"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-purple-500 rounded-full mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Month 3-6: Process Improvements"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automation implementation, system integration"})]}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"$402 savings"})]})]})]})]}),u=()=>{switch(t){case"overview":return i();case"menu-analysis":return o();case"cost-optimization":return m();case"vendor-impact":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Vendor Impact Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Detailed vendor impact on menu profitability coming soon..."})]});case"ai-insights":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" AI Profitability Insights"}),e.jsx("div",{className:"space-y-4",children:r.map(l=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:l.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(l.confidence*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:l.insight}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Impact: $",l.potentialSavings||l.revenueImpact]}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"View Details"})]})]},l.id))})]});default:return i()}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profitability Analytics"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time profitability analysis with integrated Order Guide and Bill Pay data"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Export Analysis"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Configure Alerts"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm bg-green-600 text-white hover:bg-green-700 rounded-md font-medium transition-colors",children:" Optimize Now"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6",children:e.jsx("nav",{className:"flex space-x-8",children:a.map(l=>e.jsxs("button",{onClick:()=>s(l.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===l.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:l.icon}),l.label]},l.id))})})}),e.jsx("div",{className:"p-6",children:u()})]})}function mN(){Z();const[t,s]=j.useState("overview"),[a,r]=j.useState("week"),n=[{id:"overview",label:"Cash Flow Overview",icon:""},{id:"optimization",label:"Payment Optimization",icon:""},{id:"forecasting",label:"Cash Flow Forecasting",icon:""},{id:"vendor-timing",label:"Vendor Payment Timing",icon:""},{id:"ai-insights",label:"AI Insights",icon:""}],i=Yp.filter(c=>c.category==="cash-flow"),o=Qp.filter(c=>c.category==="cash-flow"),m=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(c=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(kt,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:`text-sm font-medium ${c.changeType==="positive"?"text-green-600":c.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:c.change})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:c.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.description}),c.breakdown&&e.jsx("div",{className:"mt-4 space-y-2",children:c.breakdown.slice(0,3).map((d,p)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:d.label}),e.jsx("span",{className:"font-medium text-gray-900",children:d.value})]},p))})]},c.id))}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" Cash Flow Timeline - Next 7 Days"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("select",{value:a,onChange:c=>r(c.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[e.jsx("option",{value:"week",children:"Next 7 Days"}),e.jsx("option",{value:"month",children:"Next 30 Days"}),e.jsx("option",{value:"quarter",children:"Next 90 Days"})]})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((c,d)=>{const p=[4200,3200,4500,4800,5200,5800,4100][d],h=[876,2100,450,1200,800,0,300][d],g=p-h,y=g<1e3?"high":g<2e3?"medium":"low";return e.jsxs("div",{className:`border rounded-lg p-4 ${y==="high"?"border-red-200 bg-red-50":y==="medium"?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50"}`,children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Nov ",26+d]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Revenue In"}),e.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["+$",p.toLocaleString()]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Payments Out"}),e.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-$",h.toLocaleString()]})]}),e.jsxs("div",{className:"text-center border-t pt-2",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Net Flow"}),e.jsxs("p",{className:`text-sm font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:["$",g.toLocaleString()]})]}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${y==="high"?"bg-red-100 text-red-800":y==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:y.toUpperCase()})})]})]},c)})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" AI Cash Flow Insights"}),e.jsx("button",{onClick:()=>s("ai-insights"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All Insights "})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.slice(0,2).map(c=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(_e,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.title}),e.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"AI Insight"})]})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(c.confidence*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:c.dataPoints.slice(0,3).map((d,p)=>e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:d.metric}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:d.value})]},p))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-600",children:c.revenueImpact?`Impact: $${c.revenueImpact}`:"Optimization Available"}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply Optimization"})]})]},c.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Payment Method Impact Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Current Payment Distribution"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Square Checking"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"$12,500 (66.7%)"}),e.jsx("p",{className:"text-xs text-green-600",children:"$0 fees"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Credit Card"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"$4,200 (22.4%)"}),e.jsx("p",{className:"text-xs text-red-600",children:"$121.80 fees"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Debit Card"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"$2,050 (10.9%)"}),e.jsx("p",{className:"text-xs text-green-600",children:"$0 fees"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Optimization Opportunities"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-green-200 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Switch to Square Checking"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:"$804/year"})]}),e.jsx("p",{className:"text-xs text-green-700",children:"Move all credit card payments to free Square Checking"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Payment Timing Optimization"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:"$1,200/year"})]}),e.jsx("p",{className:"text-xs text-blue-700",children:"Align payment schedule with revenue patterns"})]}),e.jsxs("div",{className:"p-3 border border-purple-200 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vendor Term Negotiation"}),e.jsx("span",{className:"text-sm font-bold text-purple-600",children:"$600/year"})]}),e.jsx("p",{className:"text-xs text-purple-700",children:"Extend payment terms for better cash flow"})]})]})]})]})]})]}),u=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" Payment Optimization Center"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Immediate Actions"}),e.jsx(ft,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-green-300 bg-white rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Switch Restaurant Depot Payment"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Credit Card  Square Checking"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-600",children:"Save $25.42"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700",children:"Apply"})]})]}),e.jsxs("div",{className:"p-3 border border-green-300 bg-white rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Reschedule Tuesday Payments"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Move $1,500 to Wednesday"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-600",children:"Improve Flow"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700",children:"Schedule"})]})]})]})]}),e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Short-term Optimizations"}),e.jsx(ye,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-blue-300 bg-white rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Negotiate Extended Terms"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Sysco: Net 30  Net 45"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-600",children:"15 days buffer"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Contact"})]})]}),e.jsxs("div",{className:"p-3 border border-blue-300 bg-white rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Setup Auto-Pay"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Automate recurring payments"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-600",children:"Reduce delays"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Configure"})]})]})]})]}),e.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-purple-900",children:"Strategic Initiatives"}),e.jsx(Ue,{className:"w-5 h-5 text-purple-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-purple-300 bg-white rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Cash Flow Credit Line"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"$10K emergency buffer"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-purple-600",children:"Risk mitigation"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-purple-600 text-white rounded hover:bg-purple-700",children:"Explore"})]})]}),e.jsxs("div",{className:"p-3 border border-purple-300 bg-white rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Revenue-Based Payments"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Dynamic payment scheduling"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-purple-600",children:"Smart timing"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-purple-600 text-white rounded hover:bg-purple-700",children:"Plan"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Optimization ROI Calculator"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"$2,604"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Annual Savings Potential"})]}),e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"2 weeks"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Implementation Time"})]}),e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"1,302%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ROI"})]}),e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"$200"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Implementation Cost"})]})]})]})]}),l=()=>{switch(t){case"overview":return m();case"optimization":return u();case"forecasting":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Cash Flow Forecasting"}),e.jsx("p",{className:"text-gray-600",children:"Advanced cash flow forecasting with seasonal adjustments coming soon..."})]});case"vendor-timing":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Vendor Payment Timing"}),e.jsx("p",{className:"text-gray-600",children:"Detailed vendor payment timing optimization coming soon..."})]});case"ai-insights":return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" AI Cash Flow Insights"}),e.jsx("div",{className:"space-y-4",children:i.map(c=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:c.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.description})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[(c.confidence*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:c.insight}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Impact: $",c.revenueImpact]}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"View Details"})]})]},c.id))})]});default:return m()}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cash Flow Intelligence"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered cash flow optimization with integrated Bill Pay and revenue data"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Cash Flow Report"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm border border-gray-300 bg-white text-blue-600 hover:bg-gray-50 rounded-md font-medium transition-colors",children:" Payment Settings"}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md font-medium transition-colors",children:" Optimize Cash Flow"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6",children:e.jsx("nav",{className:"flex space-x-8",children:n.map(c=>e.jsxs("button",{onClick:()=>s(c.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===c.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})})}),e.jsx("div",{className:"p-6",children:l()})]})}function uN(){return e.jsx(Cg,{children:e.jsx(Dg,{children:e.jsx($g,{children:e.jsx(Wg,{children:e.jsx(Kg,{children:e.jsx(tf,{children:e.jsx(of,{children:e.jsx(df,{children:e.jsx(uf,{children:e.jsx(Ng,{children:e.jsx(yg,{children:e.jsxs(G,{path:"/",element:e.jsx(cb,{}),children:[e.jsx(G,{index:!0,element:e.jsx(Sb,{})}),e.jsx(G,{path:"chatbot",element:e.jsx(Cb,{})}),e.jsx(G,{path:"reports",element:e.jsx(Yr,{})}),e.jsx(G,{path:"transactions",element:e.jsx(Od,{})}),e.jsx(G,{path:"education",element:e.jsx(Lb,{})}),e.jsx(G,{path:"education/:moduleId",element:e.jsx(Wb,{})}),e.jsx(G,{path:"financial-suite",element:e.jsx(Ld,{})}),e.jsx(G,{path:"financial-suite/standard-reports",element:e.jsx(wj,{})}),e.jsx(G,{path:"financial-suite/custom-reports",element:e.jsx(zd,{})}),e.jsx(G,{path:"financial-suite/custom-reports/create",element:e.jsx(Pj,{})}),e.jsx(G,{path:"financial-suite/custom-reports/builder",element:e.jsx(Gd,{})}),e.jsx(G,{path:"financial-suite/custom-reports/view/:id",element:e.jsx(Ud,{})}),e.jsx(G,{path:"financial-suite/custom-reports/edit/:id",element:e.jsx(Gd,{})}),e.jsx(G,{path:"financial-suite/templates",element:e.jsx(Rj,{})}),e.jsx(G,{path:"financial-suite/benchmarking",element:e.jsx(Tj,{})}),e.jsx(G,{path:"financial-suite/scheduled-exports",element:e.jsx(Mj,{})}),e.jsx(G,{path:"financial-suite/external-data",element:e.jsx(Vj,{})}),e.jsx(G,{path:"financial-suite/integration-settings",element:e.jsx(Zj,{})}),e.jsx(G,{path:"financial-suite/ingredient-tracking",element:e.jsx(tN,{})}),e.jsx(G,{path:"financial-suite/forecasting",element:e.jsx(sN,{})}),e.jsx(G,{path:"financial-suite/advanced-analytics",element:e.jsx(aN,{})}),e.jsx(G,{path:"financial-suite/procurement",element:e.jsx(oN,{})}),e.jsx(G,{path:"financial-suite/bill-pay",element:e.jsx(cN,{})}),e.jsx(G,{path:"financial-suite/profitability-analytics",element:e.jsx(dN,{})}),e.jsx(G,{path:"financial-suite/cash-flow-intelligence",element:e.jsx(mN,{})}),e.jsx(G,{path:"financial-suite/reports/sales-summary-v3",element:e.jsx(Yr,{})}),e.jsx(G,{path:"financial-suite/reports/reconciliation-v3",element:e.jsx(Yr,{})}),e.jsx(G,{path:"financial-suite/reports/:reportId",element:e.jsx(Ud,{})}),e.jsx(G,{path:"deferred-sales",element:e.jsx(Vd,{})}),e.jsx(G,{path:"deferred-sales/transactions",element:e.jsx(Od,{})}),e.jsx(G,{path:"deferred-sales/invoice-detail",element:e.jsx(fj,{})}),e.jsx(G,{path:"deferred-sales/full-cycle",element:e.jsx(yj,{})}),e.jsx(G,{path:"migration-status",element:e.jsx(vj,{})}),e.jsx(G,{path:"fs-prototype",element:e.jsx(Ld,{})}),e.jsx(G,{path:"fs-prototype/deferred-sales",element:e.jsx(Vd,{})}),e.jsx(G,{path:"fs-prototype/custom-reports",element:e.jsx(zd,{})}),e.jsx(G,{path:"fs-prototype/reports/:reportType",element:e.jsx(Yr,{})})]})})})})})})})})})})})})}op(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(uN,{})}));
